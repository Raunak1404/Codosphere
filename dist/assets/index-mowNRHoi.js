function Aj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var mn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zb={exports:{}},sh={},$b={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),Ij=Symbol.for("react.portal"),Cj=Symbol.for("react.fragment"),Pj=Symbol.for("react.strict_mode"),Rj=Symbol.for("react.profiler"),Mj=Symbol.for("react.provider"),Dj=Symbol.for("react.context"),Lj=Symbol.for("react.forward_ref"),Oj=Symbol.for("react.suspense"),Vj=Symbol.for("react.memo"),Fj=Symbol.for("react.lazy"),A0=Symbol.iterator;function Uj(t){return t===null||typeof t!="object"?null:(t=A0&&t[A0]||t["@@iterator"],typeof t=="function"?t:null)}var Hb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wb=Object.assign,qb={};function qa(t,e,n){this.props=t,this.context=e,this.refs=qb,this.updater=n||Hb}qa.prototype.isReactComponent={};qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gb(){}Gb.prototype=qa.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=qb,this.updater=n||Hb}var og=ag.prototype=new Gb;og.constructor=ag;Wb(og,qa.prototype);og.isPureReactComponent=!0;var I0=Array.isArray,Kb=Object.prototype.hasOwnProperty,lg={current:null},Qb={key:!0,ref:!0,__self:!0,__source:!0};function Yb(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Kb.call(e,r)&&!Qb.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:nc,type:t,key:i,ref:a,props:s,_owner:lg.current}}function Bj(t,e){return{$$typeof:nc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===nc}function zj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C0=/\/+/g;function wf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zj(""+t.key):e.toString(36)}function ju(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case nc:case Ij:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+wf(a,0):r,I0(s)?(n="",t!=null&&(n=t.replace(C0,"$&/")+"/"),ju(s,e,n,"",function(d){return d})):s!=null&&(cg(s)&&(s=Bj(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(C0,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",I0(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+wf(i,l);a+=ju(i,e,n,c,s)}else if(c=Uj(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+wf(i,l++),a+=ju(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Xc(t,e,n){if(t==null)return t;var r=[],s=0;return ju(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $j(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Au={transition:null},Hj={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Au,ReactCurrentOwner:lg};function Xb(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Xc,forEach:function(t,e,n){Xc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xc(t,function(){e++}),e},toArray:function(t){return Xc(t,function(e){return e})||[]},only:function(t){if(!cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=qa;ge.Fragment=Cj;ge.Profiler=Rj;ge.PureComponent=ag;ge.StrictMode=Pj;ge.Suspense=Oj;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hj;ge.act=Xb;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Wb({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=lg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Kb.call(e,c)&&!Qb.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:nc,type:t.type,key:s,ref:i,props:r,_owner:a}};ge.createContext=function(t){return t={$$typeof:Dj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mj,_context:t},t.Consumer=t};ge.createElement=Yb;ge.createFactory=function(t){var e=Yb.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:Lj,render:t}};ge.isValidElement=cg;ge.lazy=function(t){return{$$typeof:Fj,_payload:{_status:-1,_result:t},_init:$j}};ge.memo=function(t,e){return{$$typeof:Vj,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Au.transition;Au.transition={};try{t()}finally{Au.transition=e}};ge.unstable_act=Xb;ge.useCallback=function(t,e){return nn.current.useCallback(t,e)};ge.useContext=function(t){return nn.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ge.useEffect=function(t,e){return nn.current.useEffect(t,e)};ge.useId=function(){return nn.current.useId()};ge.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return nn.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ge.useRef=function(t){return nn.current.useRef(t)};ge.useState=function(t){return nn.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return nn.current.useTransition()};ge.version="18.3.1";$b.exports=ge;var P=$b.exports;const ug=Bb(P),Wj=Aj({__proto__:null,default:ug},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj=P,Gj=Symbol.for("react.element"),Kj=Symbol.for("react.fragment"),Qj=Object.prototype.hasOwnProperty,Yj=qj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xj={key:!0,ref:!0,__self:!0,__source:!0};function Jb(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Qj.call(e,r)&&!Xj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Gj,type:t,key:i,ref:a,props:s,_owner:Yj.current}}sh.Fragment=Kj;sh.jsx=Jb;sh.jsxs=Jb;zb.exports=sh;var o=zb.exports,Zb={exports:{}},In={},e_={exports:{}},t_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,K){var H=F.length;F.push(K);e:for(;0<H;){var ne=H-1>>>1,re=F[ne];if(0<s(re,K))F[ne]=K,F[H]=re,H=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var K=F[0],H=F.pop();if(H!==K){F[0]=H;e:for(var ne=0,re=F.length,ye=re>>>1;ne<ye;){var B=2*(ne+1)-1,q=F[B],ie=B+1,se=F[ie];if(0>s(q,H))ie<re&&0>s(se,q)?(F[ne]=se,F[ie]=H,ne=ie):(F[ne]=q,F[B]=H,ne=B);else if(ie<re&&0>s(se,H))F[ne]=se,F[ie]=H,ne=ie;else break e}}return K}function s(F,K){var H=F.sortIndex-K.sortIndex;return H!==0?H:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,f=null,m=3,g=!1,T=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=F)r(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(d)}}function j(F){if(S=!1,x(F),!T)if(n(c)!==null)T=!0,ue(D);else{var K=n(d);K!==null&&me(j,K.startTime-F)}}function D(F,K){T=!1,S&&(S=!1,_(w),w=-1),g=!0;var H=m;try{for(x(K),f=n(c);f!==null&&(!(f.expirationTime>K)||F&&!M());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var re=ne(f.expirationTime<=K);K=t.unstable_now(),typeof re=="function"?f.callback=re:f===n(c)&&r(c),x(K)}else r(c);f=n(c)}if(f!==null)var ye=!0;else{var B=n(d);B!==null&&me(j,B.startTime-K),ye=!1}return ye}finally{f=null,m=H,g=!1}}var C=!1,b=null,w=-1,E=5,k=-1;function M(){return!(t.unstable_now()-k<E)}function R(){if(b!==null){var F=t.unstable_now();k=F;var K=!0;try{K=b(!0,F)}finally{K?A():(C=!1,b=null)}}else C=!1}var A;if(typeof y=="function")A=function(){y(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Z=X.port2;X.port1.onmessage=R,A=function(){Z.postMessage(null)}}else A=function(){N(R,0)};function ue(F){b=F,C||(C=!0,A())}function me(F,K){w=N(function(){F(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,ue(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var H=m;m=K;try{return F()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=m;m=F;try{return K()}finally{m=H}},t.unstable_scheduleCallback=function(F,K,H){var ne=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,F){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=H+re,F={id:h++,callback:K,priorityLevel:F,startTime:H,expirationTime:re,sortIndex:-1},H>ne?(F.sortIndex=H,e(d,F),n(c)===null&&F===n(d)&&(S?(_(w),w=-1):S=!0,me(j,H-ne))):(F.sortIndex=re,e(c,F),T||g||(T=!0,ue(D))),F},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(F){var K=m;return function(){var H=m;m=K;try{return F.apply(this,arguments)}finally{m=H}}}})(t_);e_.exports=t_;var Jj=e_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zj=P,jn=Jj;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n_=new Set,gl={};function Ri(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(gl[t]=e,t=0;t<e.length;t++)n_.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,eA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P0={},R0={};function tA(t){return km.call(R0,t)?!0:km.call(P0,t)?!1:eA.test(t)?R0[t]=!0:(P0[t]=!0,!1)}function nA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rA(t,e,n,r){if(e===null||typeof e>"u"||nA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var dg=/[\-:]([a-z])/g;function hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dg,hg);Dt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dg,hg);Dt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dg,hg);Dt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function fg(t,e,n,r){var s=Dt.hasOwnProperty(e)?Dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rA(e,n,s,r)&&(n=null),r||s===null?tA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hr=Zj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jc=Symbol.for("react.element"),ra=Symbol.for("react.portal"),sa=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),Sm=Symbol.for("react.profiler"),r_=Symbol.for("react.provider"),s_=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),Nm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),gg=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),i_=Symbol.for("react.offscreen"),M0=Symbol.iterator;function To(t){return t===null||typeof t!="object"?null:(t=M0&&t[M0]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,bf;function Vo(t){if(bf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bf=e&&e[1]||""}return`
`+bf+t}var _f=!1;function Ef(t,e){if(!t||_f)return"";_f=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{_f=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vo(t):""}function sA(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=Ef(t.type,!1),t;case 11:return t=Ef(t.type.render,!1),t;case 1:return t=Ef(t.type,!0),t;default:return""}}function Am(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case sa:return"Fragment";case ra:return"Portal";case Sm:return"Profiler";case mg:return"StrictMode";case Nm:return"Suspense";case jm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s_:return(t.displayName||"Context")+".Consumer";case r_:return(t._context.displayName||"Context")+".Provider";case pg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gg:return e=t.displayName||null,e!==null?e:Am(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return Am(t(e))}catch{}}return null}function iA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Am(e);case 8:return e===mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function a_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aA(t){var e=a_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zc(t){t._valueTracker||(t._valueTracker=aA(t))}function o_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=a_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function td(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Im(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function D0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l_(t,e){e=e.checked,e!=null&&fg(t,"checked",e,!1)}function Cm(t,e){l_(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pm(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pm(t,e,n){(e!=="number"||td(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fo=Array.isArray;function ba(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Rm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Fo(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function c_(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function V0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eu,d_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eu=eu||document.createElement("div"),eu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oA=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){oA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function h_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function f_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=h_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var lA=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dm(t,e){if(e){if(lA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Lm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=null;function yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vm=null,_a=null,Ea=null;function F0(t){if(t=ic(t)){if(typeof Vm!="function")throw Error($(280));var e=t.stateNode;e&&(e=ch(e),Vm(t.stateNode,t.type,e))}}function m_(t){_a?Ea?Ea.push(t):Ea=[t]:_a=t}function p_(){if(_a){var t=_a,e=Ea;if(Ea=_a=null,F0(t),e)for(t=0;t<e.length;t++)F0(e[t])}}function g_(t,e){return t(e)}function y_(){}var Tf=!1;function v_(t,e,n){if(Tf)return t(e,n);Tf=!0;try{return g_(t,e,n)}finally{Tf=!1,(_a!==null||Ea!==null)&&(y_(),p_())}}function vl(t,e){var n=t.stateNode;if(n===null)return null;var r=ch(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Fm=!1;if(Dr)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Fm=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Fm=!1}function cA(t,e,n,r,s,i,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Qo=!1,nd=null,rd=!1,Um=null,uA={onError:function(t){Qo=!0,nd=t}};function dA(t,e,n,r,s,i,a,l,c){Qo=!1,nd=null,cA.apply(uA,arguments)}function hA(t,e,n,r,s,i,a,l,c){if(dA.apply(this,arguments),Qo){if(Qo){var d=nd;Qo=!1,nd=null}else throw Error($(198));rd||(rd=!0,Um=d)}}function Mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function x_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U0(t){if(Mi(t)!==t)throw Error($(188))}function fA(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return U0(s),t;if(i===r)return U0(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function w_(t){return t=fA(t),t!==null?b_(t):null}function b_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b_(t);if(e!==null)return e;t=t.sibling}return null}var __=jn.unstable_scheduleCallback,B0=jn.unstable_cancelCallback,mA=jn.unstable_shouldYield,pA=jn.unstable_requestPaint,nt=jn.unstable_now,gA=jn.unstable_getCurrentPriorityLevel,vg=jn.unstable_ImmediatePriority,E_=jn.unstable_UserBlockingPriority,sd=jn.unstable_NormalPriority,yA=jn.unstable_LowPriority,T_=jn.unstable_IdlePriority,ih=null,dr=null;function vA(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(ih,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:bA,xA=Math.log,wA=Math.LN2;function bA(t){return t>>>=0,t===0?32:31-(xA(t)/wA|0)|0}var tu=64,nu=4194304;function Uo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function id(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Uo(l):(i&=a,i!==0&&(r=Uo(i)))}else a=n&~s,a!==0?r=Uo(a):i!==0&&(r=Uo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),s=1<<n,r|=t[n],e&=~s;return r}function _A(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Xn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=_A(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k_(){var t=tu;return tu<<=1,!(tu&4194240)&&(tu=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function TA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function xg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function S_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N_,wg,j_,A_,I_,zm=!1,ru=[],ms=null,ps=null,gs=null,xl=new Map,wl=new Map,ns=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(e.pointerId)}}function So(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ic(e),e!==null&&wg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function SA(t,e,n,r,s){switch(e){case"focusin":return ms=So(ms,t,e,n,r,s),!0;case"dragenter":return ps=So(ps,t,e,n,r,s),!0;case"mouseover":return gs=So(gs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xl.set(i,So(xl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wl.set(i,So(wl.get(i)||null,t,e,n,r,s)),!0}return!1}function C_(t){var e=si(t.target);if(e!==null){var n=Mi(e);if(n!==null){if(e=n.tag,e===13){if(e=x_(n),e!==null){t.blockedOn=e,I_(t.priority,function(){j_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$m(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Om=r,n.target.dispatchEvent(r),Om=null}else return e=ic(n),e!==null&&wg(e),t.blockedOn=n,!1;e.shift()}return!0}function $0(t,e,n){Iu(t)&&n.delete(e)}function NA(){zm=!1,ms!==null&&Iu(ms)&&(ms=null),ps!==null&&Iu(ps)&&(ps=null),gs!==null&&Iu(gs)&&(gs=null),xl.forEach($0),wl.forEach($0)}function No(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,NA)))}function bl(t){function e(s){return No(s,t)}if(0<ru.length){No(ru[0],t);for(var n=1;n<ru.length;n++){var r=ru[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ms!==null&&No(ms,t),ps!==null&&No(ps,t),gs!==null&&No(gs,t),xl.forEach(e),wl.forEach(e),n=0;n<ns.length;n++)r=ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ns.length&&(n=ns[0],n.blockedOn===null);)C_(n),n.blockedOn===null&&ns.shift()}var Ta=Hr.ReactCurrentBatchConfig,ad=!0;function jA(t,e,n,r){var s=Ae,i=Ta.transition;Ta.transition=null;try{Ae=1,bg(t,e,n,r)}finally{Ae=s,Ta.transition=i}}function AA(t,e,n,r){var s=Ae,i=Ta.transition;Ta.transition=null;try{Ae=4,bg(t,e,n,r)}finally{Ae=s,Ta.transition=i}}function bg(t,e,n,r){if(ad){var s=$m(t,e,n,r);if(s===null)Df(t,e,r,od,n),z0(t,r);else if(SA(s,t,e,n,r))r.stopPropagation();else if(z0(t,r),e&4&&-1<kA.indexOf(t)){for(;s!==null;){var i=ic(s);if(i!==null&&N_(i),i=$m(t,e,n,r),i===null&&Df(t,e,r,od,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Df(t,e,r,null,n)}}var od=null;function $m(t,e,n,r){if(od=null,t=yg(r),t=si(t),t!==null)if(e=Mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=x_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return od=t,null}function P_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gA()){case vg:return 1;case E_:return 4;case sd:case yA:return 16;case T_:return 536870912;default:return 16}default:return 16}}var us=null,_g=null,Cu=null;function R_(){if(Cu)return Cu;var t,e=_g,n=e.length,r,s="value"in us?us.value:us.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return Cu=s.slice(t,1<r?1-r:void 0)}function Pu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function su(){return!0}function H0(){return!1}function Cn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?su:H0,this.isPropagationStopped=H0,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),e}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=Cn(Ga),sc=Ge({},Ga,{view:0,detail:0}),IA=Cn(sc),Sf,Nf,jo,ah=Ge({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jo&&(jo&&t.type==="mousemove"?(Sf=t.screenX-jo.screenX,Nf=t.screenY-jo.screenY):Nf=Sf=0,jo=t),Sf)},movementY:function(t){return"movementY"in t?t.movementY:Nf}}),W0=Cn(ah),CA=Ge({},ah,{dataTransfer:0}),PA=Cn(CA),RA=Ge({},sc,{relatedTarget:0}),jf=Cn(RA),MA=Ge({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),DA=Cn(MA),LA=Ge({},Ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OA=Cn(LA),VA=Ge({},Ga,{data:0}),q0=Cn(VA),FA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BA[t])?!!e[t]:!1}function Tg(){return zA}var $A=Ge({},sc,{key:function(t){if(t.key){var e=FA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?Pu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HA=Cn($A),WA=Ge({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=Cn(WA),qA=Ge({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),GA=Cn(qA),KA=Ge({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),QA=Cn(KA),YA=Ge({},ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XA=Cn(YA),JA=[9,13,27,32],kg=Dr&&"CompositionEvent"in window,Yo=null;Dr&&"documentMode"in document&&(Yo=document.documentMode);var ZA=Dr&&"TextEvent"in window&&!Yo,M_=Dr&&(!kg||Yo&&8<Yo&&11>=Yo),K0=" ",Q0=!1;function D_(t,e){switch(t){case"keyup":return JA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ia=!1;function eI(t,e){switch(t){case"compositionend":return L_(e);case"keypress":return e.which!==32?null:(Q0=!0,K0);case"textInput":return t=e.data,t===K0&&Q0?null:t;default:return null}}function tI(t,e){if(ia)return t==="compositionend"||!kg&&D_(t,e)?(t=R_(),Cu=_g=us=null,ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M_&&e.locale!=="ko"?null:e.data;default:return null}}var nI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nI[t.type]:e==="textarea"}function O_(t,e,n,r){m_(r),e=ld(e,"onChange"),0<e.length&&(n=new Eg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xo=null,_l=null;function rI(t){K_(t,0)}function oh(t){var e=la(t);if(o_(e))return t}function sI(t,e){if(t==="change")return e}var V_=!1;if(Dr){var Af;if(Dr){var If="oninput"in document;if(!If){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),If=typeof X0.oninput=="function"}Af=If}else Af=!1;V_=Af&&(!document.documentMode||9<document.documentMode)}function J0(){Xo&&(Xo.detachEvent("onpropertychange",F_),_l=Xo=null)}function F_(t){if(t.propertyName==="value"&&oh(_l)){var e=[];O_(e,_l,t,yg(t)),v_(rI,e)}}function iI(t,e,n){t==="focusin"?(J0(),Xo=e,_l=n,Xo.attachEvent("onpropertychange",F_)):t==="focusout"&&J0()}function aI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oh(_l)}function oI(t,e){if(t==="click")return oh(e)}function lI(t,e){if(t==="input"||t==="change")return oh(e)}function cI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:cI;function El(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!km.call(e,s)||!Zn(t[s],e[s]))return!1}return!0}function Z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ex(t,e){var n=Z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z0(n)}}function U_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?U_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function B_(){for(var t=window,e=td();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=td(t.document)}return e}function Sg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uI(t){var e=B_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&U_(n.ownerDocument.documentElement,n)){if(r!==null&&Sg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ex(n,i);var a=ex(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dI=Dr&&"documentMode"in document&&11>=document.documentMode,aa=null,Hm=null,Jo=null,Wm=!1;function tx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wm||aa==null||aa!==td(r)||(r=aa,"selectionStart"in r&&Sg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&El(Jo,r)||(Jo=r,r=ld(Hm,"onSelect"),0<r.length&&(e=new Eg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=aa)))}function iu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oa={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Cf={},z_={};Dr&&(z_=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function lh(t){if(Cf[t])return Cf[t];if(!oa[t])return t;var e=oa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in z_)return Cf[t]=e[n];return t}var $_=lh("animationend"),H_=lh("animationiteration"),W_=lh("animationstart"),q_=lh("transitionend"),G_=new Map,nx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ls(t,e){G_.set(t,e),Ri(e,[t])}for(var Pf=0;Pf<nx.length;Pf++){var Rf=nx[Pf],hI=Rf.toLowerCase(),fI=Rf[0].toUpperCase()+Rf.slice(1);Ls(hI,"on"+fI)}Ls($_,"onAnimationEnd");Ls(H_,"onAnimationIteration");Ls(W_,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(q_,"onTransitionEnd");Ca("onMouseEnter",["mouseout","mouseover"]);Ca("onMouseLeave",["mouseout","mouseover"]);Ca("onPointerEnter",["pointerout","pointerover"]);Ca("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bo));function rx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hA(r,e,void 0,t),t.currentTarget=null}function K_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;rx(s,l,d),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;rx(s,l,d),i=c}}}if(rd)throw t=Um,rd=!1,Um=null,t}function Fe(t,e){var n=e[Ym];n===void 0&&(n=e[Ym]=new Set);var r=t+"__bubble";n.has(r)||(Q_(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),Q_(n,t,r,e)}var au="_reactListening"+Math.random().toString(36).slice(2);function Tl(t){if(!t[au]){t[au]=!0,n_.forEach(function(n){n!=="selectionchange"&&(mI.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[au]||(e[au]=!0,Mf("selectionchange",!1,e))}}function Q_(t,e,n,r){switch(P_(e)){case 1:var s=jA;break;case 4:s=AA;break;default:s=bg}n=s.bind(null,e,n,t),s=void 0,!Fm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Df(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=si(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}v_(function(){var d=i,h=yg(n),f=[];e:{var m=G_.get(t);if(m!==void 0){var g=Eg,T=t;switch(t){case"keypress":if(Pu(n)===0)break e;case"keydown":case"keyup":g=HA;break;case"focusin":T="focus",g=jf;break;case"focusout":T="blur",g=jf;break;case"beforeblur":case"afterblur":g=jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=W0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=PA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=GA;break;case $_:case H_:case W_:g=DA;break;case q_:g=QA;break;case"scroll":g=IA;break;case"wheel":g=XA;break;case"copy":case"cut":case"paste":g=OA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=G0}var S=(e&4)!==0,N=!S&&t==="scroll",_=S?m!==null?m+"Capture":null:m;S=[];for(var y=d,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,_!==null&&(j=vl(y,_),j!=null&&S.push(kl(y,j,x)))),N)break;y=y.return}0<S.length&&(m=new g(m,T,null,n,h),f.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Om&&(T=n.relatedTarget||n.fromElement)&&(si(T)||T[Lr]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=d,T=T?si(T):null,T!==null&&(N=Mi(T),T!==N||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=d),g!==T)){if(S=W0,j="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(S=G0,j="onPointerLeave",_="onPointerEnter",y="pointer"),N=g==null?m:la(g),x=T==null?m:la(T),m=new S(j,y+"leave",g,n,h),m.target=N,m.relatedTarget=x,j=null,si(h)===d&&(S=new S(_,y+"enter",T,n,h),S.target=x,S.relatedTarget=N,j=S),N=j,g&&T)t:{for(S=g,_=T,y=0,x=S;x;x=Zi(x))y++;for(x=0,j=_;j;j=Zi(j))x++;for(;0<y-x;)S=Zi(S),y--;for(;0<x-y;)_=Zi(_),x--;for(;y--;){if(S===_||_!==null&&S===_.alternate)break t;S=Zi(S),_=Zi(_)}S=null}else S=null;g!==null&&sx(f,m,g,S,!1),T!==null&&N!==null&&sx(f,N,T,S,!0)}}e:{if(m=d?la(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var D=sI;else if(Y0(m))if(V_)D=lI;else{D=aI;var C=iI}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=oI);if(D&&(D=D(t,d))){O_(f,D,n,h);break e}C&&C(t,m,d),t==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Pm(m,"number",m.value)}switch(C=d?la(d):window,t){case"focusin":(Y0(C)||C.contentEditable==="true")&&(aa=C,Hm=d,Jo=null);break;case"focusout":Jo=Hm=aa=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,tx(f,n,h);break;case"selectionchange":if(dI)break;case"keydown":case"keyup":tx(f,n,h)}var b;if(kg)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ia?D_(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(M_&&n.locale!=="ko"&&(ia||w!=="onCompositionStart"?w==="onCompositionEnd"&&ia&&(b=R_()):(us=h,_g="value"in us?us.value:us.textContent,ia=!0)),C=ld(d,w),0<C.length&&(w=new q0(w,t,null,n,h),f.push({event:w,listeners:C}),b?w.data=b:(b=L_(n),b!==null&&(w.data=b)))),(b=ZA?eI(t,n):tI(t,n))&&(d=ld(d,"onBeforeInput"),0<d.length&&(h=new q0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=b))}K_(f,e)})}function kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ld(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vl(t,n),i!=null&&r.unshift(kl(t,i,s)),i=vl(t,e),i!=null&&r.push(kl(t,i,s))),t=t.return}return r}function Zi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sx(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=vl(n,i),c!=null&&a.unshift(kl(n,c,l))):s||(c=vl(n,i),c!=null&&a.push(kl(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var pI=/\r\n?/g,gI=/\u0000|\uFFFD/g;function ix(t){return(typeof t=="string"?t:""+t).replace(pI,`
`).replace(gI,"")}function ou(t,e,n){if(e=ix(e),ix(t)!==e&&n)throw Error($(425))}function cd(){}var qm=null,Gm=null;function Km(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qm=typeof setTimeout=="function"?setTimeout:void 0,yI=typeof clearTimeout=="function"?clearTimeout:void 0,ax=typeof Promise=="function"?Promise:void 0,vI=typeof queueMicrotask=="function"?queueMicrotask:typeof ax<"u"?function(t){return ax.resolve(null).then(t).catch(xI)}:Qm;function xI(t){setTimeout(function(){throw t})}function Lf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),bl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bl(e)}function ys(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ox(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),lr="__reactFiber$"+Ka,Sl="__reactProps$"+Ka,Lr="__reactContainer$"+Ka,Ym="__reactEvents$"+Ka,wI="__reactListeners$"+Ka,bI="__reactHandles$"+Ka;function si(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ox(t);t!==null;){if(n=t[lr])return n;t=ox(t)}return e}t=n,n=t.parentNode}return null}function ic(t){return t=t[lr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function la(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function ch(t){return t[Sl]||null}var Xm=[],ca=-1;function Os(t){return{current:t}}function Ue(t){0>ca||(t.current=Xm[ca],Xm[ca]=null,ca--)}function Le(t,e){ca++,Xm[ca]=t.current,t.current=e}var Is={},qt=Os(Is),cn=Os(!1),yi=Is;function Pa(t,e){var n=t.type.contextTypes;if(!n)return Is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function ud(){Ue(cn),Ue(qt)}function lx(t,e,n){if(qt.current!==Is)throw Error($(168));Le(qt,e),Le(cn,n)}function Y_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,iA(t)||"Unknown",s));return Ge({},n,r)}function dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Is,yi=qt.current,Le(qt,t),Le(cn,cn.current),!0}function cx(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Y_(t,e,yi),r.__reactInternalMemoizedMergedChildContext=t,Ue(cn),Ue(qt),Le(qt,t)):Ue(cn),Le(cn,n)}var Tr=null,uh=!1,Of=!1;function X_(t){Tr===null?Tr=[t]:Tr.push(t)}function _I(t){uh=!0,X_(t)}function Vs(){if(!Of&&Tr!==null){Of=!0;var t=0,e=Ae;try{var n=Tr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tr=null,uh=!1}catch(s){throw Tr!==null&&(Tr=Tr.slice(t+1)),__(vg,Vs),s}finally{Ae=e,Of=!1}}return null}var ua=[],da=0,hd=null,fd=0,Dn=[],Ln=0,vi=null,kr=1,Sr="";function Js(t,e){ua[da++]=fd,ua[da++]=hd,hd=t,fd=e}function J_(t,e,n){Dn[Ln++]=kr,Dn[Ln++]=Sr,Dn[Ln++]=vi,vi=t;var r=kr;t=Sr;var s=32-Xn(r)-1;r&=~(1<<s),n+=1;var i=32-Xn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,kr=1<<32-Xn(e)+s|n<<s|r,Sr=i+t}else kr=1<<i|n<<s|r,Sr=t}function Ng(t){t.return!==null&&(Js(t,1),J_(t,1,0))}function jg(t){for(;t===hd;)hd=ua[--da],ua[da]=null,fd=ua[--da],ua[da]=null;for(;t===vi;)vi=Dn[--Ln],Dn[Ln]=null,Sr=Dn[--Ln],Dn[Ln]=null,kr=Dn[--Ln],Dn[Ln]=null}var Tn=null,bn=null,ze=!1,Qn=null;function Z_(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ux(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,bn=ys(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vi!==null?{id:kr,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,bn=null,!0):!1;default:return!1}}function Jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zm(t){if(ze){var e=bn;if(e){var n=e;if(!ux(t,e)){if(Jm(t))throw Error($(418));e=ys(n.nextSibling);var r=Tn;e&&ux(t,e)?Z_(r,n):(t.flags=t.flags&-4097|2,ze=!1,Tn=t)}}else{if(Jm(t))throw Error($(418));t.flags=t.flags&-4097|2,ze=!1,Tn=t}}}function dx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function lu(t){if(t!==Tn)return!1;if(!ze)return dx(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Km(t.type,t.memoizedProps)),e&&(e=bn)){if(Jm(t))throw eE(),Error($(418));for(;e;)Z_(t,e),e=ys(e.nextSibling)}if(dx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=ys(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=Tn?ys(t.stateNode.nextSibling):null;return!0}function eE(){for(var t=bn;t;)t=ys(t.nextSibling)}function Ra(){bn=Tn=null,ze=!1}function Ag(t){Qn===null?Qn=[t]:Qn.push(t)}var EI=Hr.ReactCurrentBatchConfig;function Ao(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function cu(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hx(t){var e=t._init;return e(t._payload)}function tE(t){function e(_,y){if(t){var x=_.deletions;x===null?(_.deletions=[y],_.flags|=16):x.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=bs(_,y),_.index=0,_.sibling=null,_}function i(_,y,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<y?(_.flags|=2,y):x):(_.flags|=2,y)):(_.flags|=1048576,y)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,y,x,j){return y===null||y.tag!==6?(y=Hf(x,_.mode,j),y.return=_,y):(y=s(y,x),y.return=_,y)}function c(_,y,x,j){var D=x.type;return D===sa?h(_,y,x.props.children,j,x.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Zr&&hx(D)===y.type)?(j=s(y,x.props),j.ref=Ao(_,y,x),j.return=_,j):(j=Fu(x.type,x.key,x.props,null,_.mode,j),j.ref=Ao(_,y,x),j.return=_,j)}function d(_,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Wf(x,_.mode,j),y.return=_,y):(y=s(y,x.children||[]),y.return=_,y)}function h(_,y,x,j,D){return y===null||y.tag!==7?(y=hi(x,_.mode,j,D),y.return=_,y):(y=s(y,x),y.return=_,y)}function f(_,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Hf(""+y,_.mode,x),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jc:return x=Fu(y.type,y.key,y.props,null,_.mode,x),x.ref=Ao(_,null,y),x.return=_,x;case ra:return y=Wf(y,_.mode,x),y.return=_,y;case Zr:var j=y._init;return f(_,j(y._payload),x)}if(Fo(y)||To(y))return y=hi(y,_.mode,x,null),y.return=_,y;cu(_,y)}return null}function m(_,y,x,j){var D=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:l(_,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Jc:return x.key===D?c(_,y,x,j):null;case ra:return x.key===D?d(_,y,x,j):null;case Zr:return D=x._init,m(_,y,D(x._payload),j)}if(Fo(x)||To(x))return D!==null?null:h(_,y,x,j,null);cu(_,x)}return null}function g(_,y,x,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(x)||null,l(y,_,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Jc:return _=_.get(j.key===null?x:j.key)||null,c(y,_,j,D);case ra:return _=_.get(j.key===null?x:j.key)||null,d(y,_,j,D);case Zr:var C=j._init;return g(_,y,x,C(j._payload),D)}if(Fo(j)||To(j))return _=_.get(x)||null,h(y,_,j,D,null);cu(y,j)}return null}function T(_,y,x,j){for(var D=null,C=null,b=y,w=y=0,E=null;b!==null&&w<x.length;w++){b.index>w?(E=b,b=null):E=b.sibling;var k=m(_,b,x[w],j);if(k===null){b===null&&(b=E);break}t&&b&&k.alternate===null&&e(_,b),y=i(k,y,w),C===null?D=k:C.sibling=k,C=k,b=E}if(w===x.length)return n(_,b),ze&&Js(_,w),D;if(b===null){for(;w<x.length;w++)b=f(_,x[w],j),b!==null&&(y=i(b,y,w),C===null?D=b:C.sibling=b,C=b);return ze&&Js(_,w),D}for(b=r(_,b);w<x.length;w++)E=g(b,_,w,x[w],j),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?w:E.key),y=i(E,y,w),C===null?D=E:C.sibling=E,C=E);return t&&b.forEach(function(M){return e(_,M)}),ze&&Js(_,w),D}function S(_,y,x,j){var D=To(x);if(typeof D!="function")throw Error($(150));if(x=D.call(x),x==null)throw Error($(151));for(var C=D=null,b=y,w=y=0,E=null,k=x.next();b!==null&&!k.done;w++,k=x.next()){b.index>w?(E=b,b=null):E=b.sibling;var M=m(_,b,k.value,j);if(M===null){b===null&&(b=E);break}t&&b&&M.alternate===null&&e(_,b),y=i(M,y,w),C===null?D=M:C.sibling=M,C=M,b=E}if(k.done)return n(_,b),ze&&Js(_,w),D;if(b===null){for(;!k.done;w++,k=x.next())k=f(_,k.value,j),k!==null&&(y=i(k,y,w),C===null?D=k:C.sibling=k,C=k);return ze&&Js(_,w),D}for(b=r(_,b);!k.done;w++,k=x.next())k=g(b,_,w,k.value,j),k!==null&&(t&&k.alternate!==null&&b.delete(k.key===null?w:k.key),y=i(k,y,w),C===null?D=k:C.sibling=k,C=k);return t&&b.forEach(function(R){return e(_,R)}),ze&&Js(_,w),D}function N(_,y,x,j){if(typeof x=="object"&&x!==null&&x.type===sa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Jc:e:{for(var D=x.key,C=y;C!==null;){if(C.key===D){if(D=x.type,D===sa){if(C.tag===7){n(_,C.sibling),y=s(C,x.props.children),y.return=_,_=y;break e}}else if(C.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Zr&&hx(D)===C.type){n(_,C.sibling),y=s(C,x.props),y.ref=Ao(_,C,x),y.return=_,_=y;break e}n(_,C);break}else e(_,C);C=C.sibling}x.type===sa?(y=hi(x.props.children,_.mode,j,x.key),y.return=_,_=y):(j=Fu(x.type,x.key,x.props,null,_.mode,j),j.ref=Ao(_,y,x),j.return=_,_=j)}return a(_);case ra:e:{for(C=x.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(_,y.sibling),y=s(y,x.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Wf(x,_.mode,j),y.return=_,_=y}return a(_);case Zr:return C=x._init,N(_,y,C(x._payload),j)}if(Fo(x))return T(_,y,x,j);if(To(x))return S(_,y,x,j);cu(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,x),y.return=_,_=y):(n(_,y),y=Hf(x,_.mode,j),y.return=_,_=y),a(_)):n(_,y)}return N}var Ma=tE(!0),nE=tE(!1),md=Os(null),pd=null,ha=null,Ig=null;function Cg(){Ig=ha=pd=null}function Pg(t){var e=md.current;Ue(md),t._currentValue=e}function ep(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ka(t,e){pd=t,Ig=ha=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(Ig!==t)if(t={context:t,memoizedValue:e,next:null},ha===null){if(pd===null)throw Error($(308));ha=t,pd.dependencies={lanes:0,firstContext:t}}else ha=ha.next=t;return e}var ii=null;function Rg(t){ii===null?ii=[t]:ii.push(t)}function rE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Rg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Or(t,r)}function Or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var es=!1;function Mg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Or(t,n)}return s=r.interleaved,s===null?(e.next=e,Rg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Or(t,n)}function Ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xg(t,n)}}function fx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gd(t,e,n,r){var s=t.updateQueue;es=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,h=d=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var T=t,S=l;switch(m=e,g=n,S.tag){case 1:if(T=S.payload,typeof T=="function"){f=T.call(g,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,m=typeof T=="function"?T.call(g,f,m):T,m==null)break e;f=Ge({},f,m);break e;case 2:es=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=g,c=f):h=h.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wi|=a,t.lanes=a,t.memoizedState=f}}function mx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var ac={},hr=Os(ac),Nl=Os(ac),jl=Os(ac);function ai(t){if(t===ac)throw Error($(174));return t}function Dg(t,e){switch(Le(jl,e),Le(Nl,t),Le(hr,ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mm(e,t)}Ue(hr),Le(hr,e)}function Da(){Ue(hr),Ue(Nl),Ue(jl)}function iE(t){ai(jl.current);var e=ai(hr.current),n=Mm(e,t.type);e!==n&&(Le(Nl,t),Le(hr,n))}function Lg(t){Nl.current===t&&(Ue(hr),Ue(Nl))}var He=Os(0);function yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vf=[];function Og(){for(var t=0;t<Vf.length;t++)Vf[t]._workInProgressVersionPrimary=null;Vf.length=0}var Mu=Hr.ReactCurrentDispatcher,Ff=Hr.ReactCurrentBatchConfig,xi=0,qe=null,mt=null,bt=null,vd=!1,Zo=!1,Al=0,TI=0;function Ft(){throw Error($(321))}function Vg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function Fg(t,e,n,r,s,i){if(xi=i,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mu.current=t===null||t.memoizedState===null?jI:AI,t=n(r,s),Zo){i=0;do{if(Zo=!1,Al=0,25<=i)throw Error($(301));i+=1,bt=mt=null,e.updateQueue=null,Mu.current=II,t=n(r,s)}while(Zo)}if(Mu.current=xd,e=mt!==null&&mt.next!==null,xi=0,bt=mt=qe=null,vd=!1,e)throw Error($(300));return t}function Ug(){var t=Al!==0;return Al=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?qe.memoizedState=bt=t:bt=bt.next=t,bt}function Un(){if(mt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=bt===null?qe.memoizedState:bt.next;if(e!==null)bt=e,mt=t;else{if(t===null)throw Error($(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},bt===null?qe.memoizedState=bt=t:bt=bt.next=t}return bt}function Il(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=Un(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,d=i;do{var h=d.lane;if((xi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,qe.lanes|=h,wi|=h}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=l,Zn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,qe.lanes|=i,wi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=Un(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Zn(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function aE(){}function oE(t,e){var n=qe,r=Un(),s=e(),i=!Zn(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,Bg(uE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Cl(9,cE.bind(null,n,r,s,e),void 0,null),Tt===null)throw Error($(349));xi&30||lE(n,e,s)}return s}function lE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cE(t,e,n,r){e.value=n,e.getSnapshot=r,dE(e)&&hE(t)}function uE(t,e,n){return n(function(){dE(e)&&hE(t)})}function dE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function hE(t){var e=Or(t,1);e!==null&&Jn(e,t,1,-1)}function px(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=NI.bind(null,qe,t),[e.memoizedState,t]}function Cl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fE(){return Un().memoizedState}function Du(t,e,n,r){var s=or();qe.flags|=t,s.memoizedState=Cl(1|e,n,void 0,r===void 0?null:r)}function dh(t,e,n,r){var s=Un();r=r===void 0?null:r;var i=void 0;if(mt!==null){var a=mt.memoizedState;if(i=a.destroy,r!==null&&Vg(r,a.deps)){s.memoizedState=Cl(e,n,i,r);return}}qe.flags|=t,s.memoizedState=Cl(1|e,n,i,r)}function gx(t,e){return Du(8390656,8,t,e)}function Bg(t,e){return dh(2048,8,t,e)}function mE(t,e){return dh(4,2,t,e)}function pE(t,e){return dh(4,4,t,e)}function gE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yE(t,e,n){return n=n!=null?n.concat([t]):null,dh(4,4,gE.bind(null,e,t),n)}function zg(){}function vE(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function xE(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wE(t,e,n){return xi&21?(Zn(n,e)||(n=k_(),qe.lanes|=n,wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function kI(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Ff.transition;Ff.transition={};try{t(!1),e()}finally{Ae=n,Ff.transition=r}}function bE(){return Un().memoizedState}function SI(t,e,n){var r=ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_E(t))EE(e,n);else if(n=rE(t,e,n,r),n!==null){var s=tn();Jn(n,t,r,s),TE(n,e,r)}}function NI(t,e,n){var r=ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_E(t))EE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,Zn(l,a)){var c=e.interleaved;c===null?(s.next=s,Rg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=rE(t,e,s,r),n!==null&&(s=tn(),Jn(n,t,r,s),TE(n,e,r))}}function _E(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function EE(t,e){Zo=vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xg(t,n)}}var xd={readContext:Fn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},jI={readContext:Fn,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:gx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Du(4194308,4,gE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Du(4194308,4,t,e)},useInsertionEffect:function(t,e){return Du(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SI.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:px,useDebugValue:zg,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=px(!1),e=t[0];return t=kI.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,s=or();if(ze){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Tt===null)throw Error($(349));xi&30||lE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gx(uE.bind(null,r,i,t),[t]),r.flags|=2048,Cl(9,cE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=or(),e=Tt.identifierPrefix;if(ze){var n=Sr,r=kr;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AI={readContext:Fn,useCallback:vE,useContext:Fn,useEffect:Bg,useImperativeHandle:yE,useInsertionEffect:mE,useLayoutEffect:pE,useMemo:xE,useReducer:Uf,useRef:fE,useState:function(){return Uf(Il)},useDebugValue:zg,useDeferredValue:function(t){var e=Un();return wE(e,mt.memoizedState,t)},useTransition:function(){var t=Uf(Il)[0],e=Un().memoizedState;return[t,e]},useMutableSource:aE,useSyncExternalStore:oE,useId:bE,unstable_isNewReconciler:!1},II={readContext:Fn,useCallback:vE,useContext:Fn,useEffect:Bg,useImperativeHandle:yE,useInsertionEffect:mE,useLayoutEffect:pE,useMemo:xE,useReducer:Bf,useRef:fE,useState:function(){return Bf(Il)},useDebugValue:zg,useDeferredValue:function(t){var e=Un();return mt===null?e.memoizedState=t:wE(e,mt.memoizedState,t)},useTransition:function(){var t=Bf(Il)[0],e=Un().memoizedState;return[t,e]},useMutableSource:aE,useSyncExternalStore:oE,useId:bE,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hh={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=ws(t),i=Cr(r,s);i.payload=e,n!=null&&(i.callback=n),e=vs(t,i,s),e!==null&&(Jn(e,t,s,r),Ru(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=ws(t),i=Cr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vs(t,i,s),e!==null&&(Jn(e,t,s,r),Ru(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=ws(t),s=Cr(n,r);s.tag=2,e!=null&&(s.callback=e),e=vs(t,s,r),e!==null&&(Jn(e,t,r,n),Ru(e,t,r))}};function yx(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!El(n,r)||!El(s,i):!0}function kE(t,e,n){var r=!1,s=Is,i=e.contextType;return typeof i=="object"&&i!==null?i=Fn(i):(s=un(e)?yi:qt.current,r=e.contextTypes,i=(r=r!=null)?Pa(t,s):Is),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hh.enqueueReplaceState(e,e.state,null)}function np(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Mg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fn(i):(i=un(e)?yi:qt.current,s.context=Pa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(tp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&hh.enqueueReplaceState(s,s.state,null),gd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function La(t,e){try{var n="",r=e;do n+=sA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CI=typeof WeakMap=="function"?WeakMap:Map;function SE(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bd||(bd=!0,fp=r),rp(t,e)},n}function NE(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){rp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rp(t,e),typeof r!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function xx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=WI.bind(null,t,e,n),e.then(t,t))}function wx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,vs(n,e,1))),n.lanes|=1),t)}var PI=Hr.ReactCurrentOwner,ln=!1;function Jt(t,e,n,r){e.child=t===null?nE(e,null,n,r):Ma(e,t.child,n,r)}function _x(t,e,n,r,s){n=n.render;var i=e.ref;return ka(e,s),r=Fg(t,e,n,r,i,s),n=Ug(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(ze&&n&&Ng(e),e.flags|=1,Jt(t,e,r,s),e.child)}function Ex(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Yg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,jE(t,e,i,r,s)):(t=Fu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(a,r)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=bs(i,r),t.ref=e.ref,t.return=e,e.child=t}function jE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(El(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return sp(t,e,n,r,s)}function AE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(ma,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(ma,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(ma,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(ma,vn),vn|=r;return Jt(t,e,s,n),e.child}function IE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sp(t,e,n,r,s){var i=un(n)?yi:qt.current;return i=Pa(e,i),ka(e,s),n=Fg(t,e,n,r,i,s),r=Ug(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(ze&&r&&Ng(e),e.flags|=1,Jt(t,e,n,s),e.child)}function Tx(t,e,n,r,s){if(un(n)){var i=!0;dd(e)}else i=!1;if(ka(e,s),e.stateNode===null)Lu(t,e),kE(e,n,r),np(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Fn(d):(d=un(n)?yi:qt.current,d=Pa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&vx(e,a,r,d),es=!1;var m=e.memoizedState;a.state=m,gd(e,r,a,s),c=e.memoizedState,l!==r||m!==c||cn.current||es?(typeof h=="function"&&(tp(e,n,h,r),c=e.memoizedState),(l=es||yx(e,n,l,r,m,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,sE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Gn(e.type,l),a.props=d,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Fn(c):(c=un(n)?yi:qt.current,c=Pa(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&vx(e,a,r,c),es=!1,m=e.memoizedState,a.state=m,gd(e,r,a,s);var T=e.memoizedState;l!==f||m!==T||cn.current||es?(typeof g=="function"&&(tp(e,n,g,r),T=e.memoizedState),(d=es||yx(e,n,d,r,m,T,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,T,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,T,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),a.props=r,a.state=T,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return ip(t,e,n,r,i,s)}function ip(t,e,n,r,s,i){IE(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&cx(e,n,!1),Vr(t,e,i);r=e.stateNode,PI.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ma(e,t.child,null,i),e.child=Ma(e,null,l,i)):Jt(t,e,l,i),e.memoizedState=r.state,s&&cx(e,n,!0),e.child}function CE(t){var e=t.stateNode;e.pendingContext?lx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lx(t,e.context,!1),Dg(t,e.containerInfo)}function kx(t,e,n,r,s){return Ra(),Ag(s),e.flags|=256,Jt(t,e,n,r),e.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function op(t){return{baseLanes:t,cachePool:null,transitions:null}}function PE(t,e,n){var r=e.pendingProps,s=He.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(He,s&1),t===null)return Zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=ph(a,r,0,null),t=hi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=op(n),e.memoizedState=ap,t):$g(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return RI(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=bs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=bs(l,i):(i=hi(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?op(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=ap,r}return i=t.child,t=i.sibling,r=bs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $g(t,e){return e=ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function uu(t,e,n,r){return r!==null&&Ag(r),Ma(e,t.child,null,n),t=$g(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RI(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=zf(Error($(422))),uu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ph({mode:"visible",children:r.children},s,0,null),i=hi(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ma(e,t.child,null,a),e.child.memoizedState=op(a),e.memoizedState=ap,i);if(!(e.mode&1))return uu(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=zf(i,r,void 0),uu(t,e,a,r)}if(l=(a&t.childLanes)!==0,ln||l){if(r=Tt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Or(t,s),Jn(r,t,s,-1))}return Qg(),r=zf(Error($(421))),uu(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bn=ys(s.nextSibling),Tn=e,ze=!0,Qn=null,t!==null&&(Dn[Ln++]=kr,Dn[Ln++]=Sr,Dn[Ln++]=vi,kr=t.id,Sr=t.overflow,vi=e),e=$g(e,r.children),e.flags|=4096,e)}function Sx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ep(t.return,e,n)}function $f(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function RE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sx(t,n,e);else if(t.tag===19)Sx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&yd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),$f(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}$f(e,!0,n,null,i);break;case"together":$f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MI(t,e,n){switch(e.tag){case 3:CE(e),Ra();break;case 5:iE(e);break;case 1:un(e.type)&&dd(e);break;case 4:Dg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(md,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?PE(t,e,n):(Le(He,He.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Le(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,AE(t,e,n)}return Vr(t,e,n)}var ME,lp,DE,LE;ME=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lp=function(){};DE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ai(hr.current);var i=null;switch(n){case"input":s=Im(t,s),r=Im(t,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=Rm(t,s),r=Rm(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cd)}Dm(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(gl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(gl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Fe("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};LE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Io(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DI(t,e,n){var r=e.pendingProps;switch(jg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return un(e.type)&&ud(),Ut(e),null;case 3:return r=e.stateNode,Da(),Ue(cn),Ue(qt),Og(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(gp(Qn),Qn=null))),lp(t,e),Ut(e),null;case 5:Lg(e);var s=ai(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)DE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return Ut(e),null}if(t=ai(hr.current),lu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[lr]=e,r[Sl]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<Bo.length;s++)Fe(Bo[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":D0(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":O0(r,i),Fe("invalid",r)}Dm(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ou(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ou(r.textContent,l,t),s=["children",""+l]):gl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Zc(r),L0(r,i,!0);break;case"textarea":Zc(r),V0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=cd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[lr]=e,t[Sl]=r,ME(t,e,!1,!1),e.stateNode=t;e:{switch(a=Lm(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Bo.length;s++)Fe(Bo[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":D0(t,r),s=Im(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":O0(t,r),s=Rm(t,r),Fe("invalid",t);break;default:s=r}Dm(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?f_(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d_(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yl(t,c):typeof c=="number"&&yl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fe("scroll",t):c!=null&&fg(t,i,c,a))}switch(n){case"input":Zc(t),L0(t,r,!1);break;case"textarea":Zc(t),V0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ba(t,!!r.multiple,i,!1):r.defaultValue!=null&&ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)LE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=ai(jl.current),ai(hr.current),lu(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(i=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ou(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Ue(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&bn!==null&&e.mode&1&&!(e.flags&128))eE(),Ra(),e.flags|=98560,i=!1;else if(i=lu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[lr]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else Qn!==null&&(gp(Qn),Qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?pt===0&&(pt=3):Qg())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Da(),lp(t,e),t===null&&Tl(e.stateNode.containerInfo),Ut(e),null;case 10:return Pg(e.type._context),Ut(e),null;case 17:return un(e.type)&&ud(),Ut(e),null;case 19:if(Ue(He),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Io(i,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=yd(t),a!==null){for(e.flags|=128,Io(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>Oa&&(e.flags|=128,r=!0,Io(i,!1),e.lanes=4194304)}else{if(!r)if(t=yd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Io(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ze)return Ut(e),null}else 2*nt()-i.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,Io(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,n=He.current,Le(He,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Kg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function LI(t,e){switch(jg(e),e.tag){case 1:return un(e.type)&&ud(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Da(),Ue(cn),Ue(qt),Og(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lg(e),null;case 13:if(Ue(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(He),null;case 4:return Da(),null;case 10:return Pg(e.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var du=!1,Ht=!1,OI=typeof WeakSet=="function"?WeakSet:Set,J=null;function fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function cp(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var Nx=!1;function VI(t,e){if(qm=ad,t=B_(),Sg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++d===s&&(l=a),m===i&&++h===r&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gm={focusedElem:t,selectionRange:n},ad=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var S=T.memoizedProps,N=T.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:Gn(e.type,S),N);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(j){Ye(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return T=Nx,Nx=!1,T}function el(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&cp(e,n,i)}s=s.next}while(s!==r)}}function fh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function up(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OE(t){var e=t.alternate;e!==null&&(t.alternate=null,OE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Sl],delete e[Ym],delete e[wI],delete e[bI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function VE(t){return t.tag===5||t.tag===3||t.tag===4}function jx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||VE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cd));else if(r!==4&&(t=t.child,t!==null))for(dp(t,e,n),t=t.sibling;t!==null;)dp(t,e,n),t=t.sibling}function hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hp(t,e,n),t=t.sibling;t!==null;)hp(t,e,n),t=t.sibling}var Nt=null,Kn=!1;function Yr(t,e,n){for(n=n.child;n!==null;)FE(t,e,n),n=n.sibling}function FE(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(ih,n)}catch{}switch(n.tag){case 5:Ht||fa(n,e);case 6:var r=Nt,s=Kn;Nt=null,Yr(t,e,n),Nt=r,Kn=s,Nt!==null&&(Kn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Kn?(t=Nt,n=n.stateNode,t.nodeType===8?Lf(t.parentNode,n):t.nodeType===1&&Lf(t,n),bl(t)):Lf(Nt,n.stateNode));break;case 4:r=Nt,s=Kn,Nt=n.stateNode.containerInfo,Kn=!0,Yr(t,e,n),Nt=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&cp(n,e,a),s=s.next}while(s!==r)}Yr(t,e,n);break;case 1:if(!Ht&&(fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ye(n,e,l)}Yr(t,e,n);break;case 21:Yr(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,Yr(t,e,n),Ht=r):Yr(t,e,n);break;default:Yr(t,e,n)}}function Ax(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OI),e.forEach(function(r){var s=GI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Kn=!1;break e;case 3:Nt=l.stateNode.containerInfo,Kn=!0;break e;case 4:Nt=l.stateNode.containerInfo,Kn=!0;break e}l=l.return}if(Nt===null)throw Error($(160));FE(i,a,s),Nt=null,Kn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ye(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)UE(e,t),e=e.sibling}function UE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),ar(t),r&4){try{el(3,t,t.return),fh(3,t)}catch(S){Ye(t,t.return,S)}try{el(5,t,t.return)}catch(S){Ye(t,t.return,S)}}break;case 1:qn(e,t),ar(t),r&512&&n!==null&&fa(n,n.return);break;case 5:if(qn(e,t),ar(t),r&512&&n!==null&&fa(n,n.return),t.flags&32){var s=t.stateNode;try{yl(s,"")}catch(S){Ye(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&l_(s,i),Lm(l,a);var d=Lm(l,i);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?f_(s,f):h==="dangerouslySetInnerHTML"?d_(s,f):h==="children"?yl(s,f):fg(s,h,f,d)}switch(l){case"input":Cm(s,i);break;case"textarea":c_(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ba(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?ba(s,!!i.multiple,i.defaultValue,!0):ba(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sl]=i}catch(S){Ye(t,t.return,S)}}break;case 6:if(qn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Ye(t,t.return,S)}}break;case 3:if(qn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bl(e.containerInfo)}catch(S){Ye(t,t.return,S)}break;case 4:qn(e,t),ar(t);break;case 13:qn(e,t),ar(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qg=nt())),r&4&&Ax(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(d=Ht)||h,qn(e,t),Ht=d):qn(e,t),ar(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(J=t,h=t.child;h!==null;){for(f=J=h;J!==null;){switch(m=J,g=m.child,m.tag){case 0:case 11:case 14:case 15:el(4,m,m.return);break;case 1:fa(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(S){Ye(r,n,S)}}break;case 5:fa(m,m.return);break;case 22:if(m.memoizedState!==null){Cx(f);continue}}g!==null?(g.return=m,J=g):Cx(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=h_("display",a))}catch(S){Ye(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(S){Ye(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qn(e,t),ar(t),r&4&&Ax(t);break;case 21:break;default:qn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(VE(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(yl(s,""),r.flags&=-33);var i=jx(t);hp(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=jx(t);dp(t,l,a);break;default:throw Error($(161))}}catch(c){Ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FI(t,e,n){J=t,BE(t)}function BE(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||du;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ht;l=du;var d=Ht;if(du=a,(Ht=c)&&!d)for(J=s;J!==null;)a=J,c=a.child,a.tag===22&&a.memoizedState!==null?Px(s):c!==null?(c.return=a,J=c):Px(s);for(;i!==null;)J=i,BE(i),i=i.sibling;J=s,du=l,Ht=d}Ix(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):Ix(t)}}function Ix(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||fh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mx(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mx(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&bl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ht||e.flags&512&&up(e)}catch(m){Ye(e,e.return,m)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Cx(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Px(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fh(4,e)}catch(c){Ye(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Ye(e,s,c)}}var i=e.return;try{up(e)}catch(c){Ye(e,i,c)}break;case 5:var a=e.return;try{up(e)}catch(c){Ye(e,a,c)}}}catch(c){Ye(e,e.return,c)}if(e===t){J=null;break}var l=e.sibling;if(l!==null){l.return=e.return,J=l;break}J=e.return}}var UI=Math.ceil,wd=Hr.ReactCurrentDispatcher,Hg=Hr.ReactCurrentOwner,Vn=Hr.ReactCurrentBatchConfig,Te=0,Tt=null,ot=null,Ct=0,vn=0,ma=Os(0),pt=0,Pl=null,wi=0,mh=0,Wg=0,tl=null,on=null,qg=0,Oa=1/0,Er=null,bd=!1,fp=null,xs=null,hu=!1,ds=null,_d=0,nl=0,mp=null,Ou=-1,Vu=0;function tn(){return Te&6?nt():Ou!==-1?Ou:Ou=nt()}function ws(t){return t.mode&1?Te&2&&Ct!==0?Ct&-Ct:EI.transition!==null?(Vu===0&&(Vu=k_()),Vu):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:P_(t.type)),t):1}function Jn(t,e,n,r){if(50<nl)throw nl=0,mp=null,Error($(185));rc(t,n,r),(!(Te&2)||t!==Tt)&&(t===Tt&&(!(Te&2)&&(mh|=n),pt===4&&rs(t,Ct)),dn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Oa=nt()+500,uh&&Vs()))}function dn(t,e){var n=t.callbackNode;EA(t,e);var r=id(t,t===Tt?Ct:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?_I(Rx.bind(null,t)):X_(Rx.bind(null,t)),vI(function(){!(Te&6)&&Vs()}),n=null;else{switch(S_(r)){case 1:n=vg;break;case 4:n=E_;break;case 16:n=sd;break;case 536870912:n=T_;break;default:n=sd}n=QE(n,zE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zE(t,e){if(Ou=-1,Vu=0,Te&6)throw Error($(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=id(t,t===Tt?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ed(t,r);else{e=r;var s=Te;Te|=2;var i=HE();(Tt!==t||Ct!==e)&&(Er=null,Oa=nt()+500,di(t,e));do try{$I();break}catch(l){$E(t,l)}while(!0);Cg(),wd.current=i,Te=s,ot!==null?e=0:(Tt=null,Ct=0,e=pt)}if(e!==0){if(e===2&&(s=Bm(t),s!==0&&(r=s,e=pp(t,s))),e===1)throw n=Pl,di(t,0),rs(t,r),dn(t,nt()),n;if(e===6)rs(t,r);else{if(s=t.current.alternate,!(r&30)&&!BI(s)&&(e=Ed(t,r),e===2&&(i=Bm(t),i!==0&&(r=i,e=pp(t,i))),e===1))throw n=Pl,di(t,0),rs(t,r),dn(t,nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Zs(t,on,Er);break;case 3:if(rs(t,r),(r&130023424)===r&&(e=qg+500-nt(),10<e)){if(id(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qm(Zs.bind(null,t,on,Er),e);break}Zs(t,on,Er);break;case 4:if(rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Xn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UI(r/1960))-r,10<r){t.timeoutHandle=Qm(Zs.bind(null,t,on,Er),r);break}Zs(t,on,Er);break;case 5:Zs(t,on,Er);break;default:throw Error($(329))}}}return dn(t,nt()),t.callbackNode===n?zE.bind(null,t):null}function pp(t,e){var n=tl;return t.current.memoizedState.isDehydrated&&(di(t,e).flags|=256),t=Ed(t,e),t!==2&&(e=on,on=n,e!==null&&gp(e)),t}function gp(t){on===null?on=t:on.push.apply(on,t)}function BI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Zn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rs(t,e){for(e&=~Wg,e&=~mh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function Rx(t){if(Te&6)throw Error($(327));Sa();var e=id(t,0);if(!(e&1))return dn(t,nt()),null;var n=Ed(t,e);if(t.tag!==0&&n===2){var r=Bm(t);r!==0&&(e=r,n=pp(t,r))}if(n===1)throw n=Pl,di(t,0),rs(t,e),dn(t,nt()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zs(t,on,Er),dn(t,nt()),null}function Gg(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Oa=nt()+500,uh&&Vs())}}function bi(t){ds!==null&&ds.tag===0&&!(Te&6)&&Sa();var e=Te;Te|=1;var n=Vn.transition,r=Ae;try{if(Vn.transition=null,Ae=1,t)return t()}finally{Ae=r,Vn.transition=n,Te=e,!(Te&6)&&Vs()}}function Kg(){vn=ma.current,Ue(ma)}function di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yI(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(jg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ud();break;case 3:Da(),Ue(cn),Ue(qt),Og();break;case 5:Lg(r);break;case 4:Da();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:Pg(r.type._context);break;case 22:case 23:Kg()}n=n.return}if(Tt=t,ot=t=bs(t.current,null),Ct=vn=e,pt=0,Pl=null,Wg=mh=wi=0,on=tl=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}ii=null}return t}function $E(t,e){do{var n=ot;try{if(Cg(),Mu.current=xd,vd){for(var r=qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vd=!1}if(xi=0,bt=mt=qe=null,Zo=!1,Al=0,Hg.current=null,n===null||n.return===null){pt=1,Pl=e,ot=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=Ct,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=wx(a);if(g!==null){g.flags&=-257,bx(g,a,l,i,e),g.mode&1&&xx(i,d,e),e=g,c=d;var T=e.updateQueue;if(T===null){var S=new Set;S.add(c),e.updateQueue=S}else T.add(c);break e}else{if(!(e&1)){xx(i,d,e),Qg();break e}c=Error($(426))}}else if(ze&&l.mode&1){var N=wx(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),bx(N,a,l,i,e),Ag(La(c,l));break e}}i=c=La(c,l),pt!==4&&(pt=2),tl===null?tl=[i]:tl.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=SE(i,c,e);fx(i,_);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xs===null||!xs.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=NE(i,l,e);fx(i,j);break e}}i=i.return}while(i!==null)}qE(n)}catch(D){e=D,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function HE(){var t=wd.current;return wd.current=xd,t===null?xd:t}function Qg(){(pt===0||pt===3||pt===2)&&(pt=4),Tt===null||!(wi&268435455)&&!(mh&268435455)||rs(Tt,Ct)}function Ed(t,e){var n=Te;Te|=2;var r=HE();(Tt!==t||Ct!==e)&&(Er=null,di(t,e));do try{zI();break}catch(s){$E(t,s)}while(!0);if(Cg(),Te=n,wd.current=r,ot!==null)throw Error($(261));return Tt=null,Ct=0,pt}function zI(){for(;ot!==null;)WE(ot)}function $I(){for(;ot!==null&&!mA();)WE(ot)}function WE(t){var e=KE(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?qE(t):ot=e,Hg.current=null}function qE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LI(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ot=null;return}}else if(n=DI(n,e,vn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);pt===0&&(pt=5)}function Zs(t,e,n){var r=Ae,s=Vn.transition;try{Vn.transition=null,Ae=1,HI(t,e,n,r)}finally{Vn.transition=s,Ae=r}return null}function HI(t,e,n,r){do Sa();while(ds!==null);if(Te&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(TA(t,i),t===Tt&&(ot=Tt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hu||(hu=!0,QE(sd,function(){return Sa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var a=Ae;Ae=1;var l=Te;Te|=4,Hg.current=null,VI(t,n),UE(n,t),uI(Gm),ad=!!qm,Gm=qm=null,t.current=n,FI(n),pA(),Te=l,Ae=a,Vn.transition=i}else t.current=n;if(hu&&(hu=!1,ds=t,_d=s),i=t.pendingLanes,i===0&&(xs=null),vA(n.stateNode),dn(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(bd)throw bd=!1,t=fp,fp=null,t;return _d&1&&t.tag!==0&&Sa(),i=t.pendingLanes,i&1?t===mp?nl++:(nl=0,mp=t):nl=0,Vs(),null}function Sa(){if(ds!==null){var t=S_(_d),e=Vn.transition,n=Ae;try{if(Vn.transition=null,Ae=16>t?16:t,ds===null)var r=!1;else{if(t=ds,ds=null,_d=0,Te&6)throw Error($(331));var s=Te;for(Te|=4,J=t.current;J!==null;){var i=J,a=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(J=d;J!==null;){var h=J;switch(h.tag){case 0:case 11:case 15:el(8,h,i)}var f=h.child;if(f!==null)f.return=h,J=f;else for(;J!==null;){h=J;var m=h.sibling,g=h.return;if(OE(h),h===d){J=null;break}if(m!==null){m.return=g,J=m;break}J=g}}}var T=i.alternate;if(T!==null){var S=T.child;if(S!==null){T.child=null;do{var N=S.sibling;S.sibling=null,S=N}while(S!==null)}}J=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,J=a;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:el(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,J=_;break e}J=i.return}}var y=t.current;for(J=y;J!==null;){a=J;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,J=x;else e:for(a=y;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fh(9,l)}}catch(D){Ye(l,l.return,D)}if(l===a){J=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,J=j;break e}J=l.return}}if(Te=s,Vs(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(ih,t)}catch{}r=!0}return r}finally{Ae=n,Vn.transition=e}}return!1}function Mx(t,e,n){e=La(n,e),e=SE(t,e,1),t=vs(t,e,1),e=tn(),t!==null&&(rc(t,1,e),dn(t,e))}function Ye(t,e,n){if(t.tag===3)Mx(t,t,n);else for(;e!==null;){if(e.tag===3){Mx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xs===null||!xs.has(r))){t=La(n,t),t=NE(e,t,1),e=vs(e,t,1),t=tn(),e!==null&&(rc(e,1,t),dn(e,t));break}}e=e.return}}function WI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Ct&n)===n&&(pt===4||pt===3&&(Ct&130023424)===Ct&&500>nt()-qg?di(t,0):Wg|=n),dn(t,e)}function GE(t,e){e===0&&(t.mode&1?(e=nu,nu<<=1,!(nu&130023424)&&(nu=4194304)):e=1);var n=tn();t=Or(t,e),t!==null&&(rc(t,e,n),dn(t,n))}function qI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),GE(t,n)}function GI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),GE(t,n)}var KE;KE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,MI(t,e,n);ln=!!(t.flags&131072)}else ln=!1,ze&&e.flags&1048576&&J_(e,fd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lu(t,e),t=e.pendingProps;var s=Pa(e,qt.current);ka(e,n),s=Fg(null,e,r,t,s,n);var i=Ug();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,dd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mg(e),s.updater=hh,e.stateNode=s,s._reactInternals=e,np(e,r,t,n),e=ip(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&Ng(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=QI(r),t=Gn(r,t),s){case 0:e=sp(null,e,r,t,n);break e;case 1:e=Tx(null,e,r,t,n);break e;case 11:e=_x(null,e,r,t,n);break e;case 14:e=Ex(null,e,r,Gn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),sp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),Tx(t,e,r,s,n);case 3:e:{if(CE(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,sE(t,e),gd(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=La(Error($(423)),e),e=kx(t,e,r,n,s);break e}else if(r!==s){s=La(Error($(424)),e),e=kx(t,e,r,n,s);break e}else for(bn=ys(e.stateNode.containerInfo.firstChild),Tn=e,ze=!0,Qn=null,n=nE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ra(),r===s){e=Vr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return iE(e),t===null&&Zm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Km(r,s)?a=null:i!==null&&Km(r,i)&&(e.flags|=32),IE(t,e),Jt(t,e,a,n),e.child;case 6:return t===null&&Zm(e),null;case 13:return PE(t,e,n);case 4:return Dg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ma(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),_x(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Le(md,r._currentValue),r._currentValue=a,i!==null)if(Zn(i.value,a)){if(i.children===s.children&&!cn.current){e=Vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Cr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ep(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error($(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ep(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ka(e,n),s=Fn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=Gn(r,e.pendingProps),s=Gn(r.type,s),Ex(t,e,r,s,n);case 15:return jE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),Lu(t,e),e.tag=1,un(r)?(t=!0,dd(e)):t=!1,ka(e,n),kE(e,r,s),np(e,r,s,n),ip(null,e,r,!0,t,n);case 19:return RE(t,e,n);case 22:return AE(t,e,n)}throw Error($(156,e.tag))};function QE(t,e){return __(t,e)}function KI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new KI(t,e,n,r)}function Yg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QI(t){if(typeof t=="function")return Yg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pg)return 11;if(t===gg)return 14}return 2}function bs(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fu(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")Yg(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case sa:return hi(n.children,s,i,e);case mg:a=8,s|=8;break;case Sm:return t=On(12,n,e,s|2),t.elementType=Sm,t.lanes=i,t;case Nm:return t=On(13,n,e,s),t.elementType=Nm,t.lanes=i,t;case jm:return t=On(19,n,e,s),t.elementType=jm,t.lanes=i,t;case i_:return ph(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r_:a=10;break e;case s_:a=9;break e;case pg:a=11;break e;case gg:a=14;break e;case Zr:a=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=On(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hi(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function ph(t,e,n,r){return t=On(22,t,r,e),t.elementType=i_,t.lanes=n,t.stateNode={isHidden:!1},t}function Hf(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function Wf(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YI(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xg(t,e,n,r,s,i,a,l,c){return t=new YI(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=On(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(i),t}function XI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ra,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function YE(t){if(!t)return Is;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(un(n))return Y_(t,n,e)}return e}function XE(t,e,n,r,s,i,a,l,c){return t=Xg(n,r,!0,t,s,i,a,l,c),t.context=YE(null),n=t.current,r=tn(),s=ws(n),i=Cr(r,s),i.callback=e??null,vs(n,i,s),t.current.lanes=s,rc(t,s,r),dn(t,r),t}function gh(t,e,n,r){var s=e.current,i=tn(),a=ws(s);return n=YE(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vs(s,e,a),t!==null&&(Jn(t,s,a,i),Ru(t,s,a)),a}function Td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jg(t,e){Dx(t,e),(t=t.alternate)&&Dx(t,e)}function JI(){return null}var JE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zg(t){this._internalRoot=t}yh.prototype.render=Zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));gh(t,e,null,null)};yh.prototype.unmount=Zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){gh(null,t,null,null)}),e[Lr]=null}};function yh(t){this._internalRoot=t}yh.prototype.unstable_scheduleHydration=function(t){if(t){var e=A_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ns.length&&e!==0&&e<ns[n].priority;n++);ns.splice(n,0,t),n===0&&C_(t)}};function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lx(){}function ZI(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Td(a);i.call(d)}}var a=XE(e,r,t,0,null,!1,!1,"",Lx);return t._reactRootContainer=a,t[Lr]=a.current,Tl(t.nodeType===8?t.parentNode:t),bi(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Td(c);l.call(d)}}var c=Xg(t,0,!1,null,null,!1,!1,"",Lx);return t._reactRootContainer=c,t[Lr]=c.current,Tl(t.nodeType===8?t.parentNode:t),bi(function(){gh(e,c,n,r)}),c}function xh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Td(a);l.call(c)}}gh(e,a,t,s)}else a=ZI(n,e,t,s,r);return Td(a)}N_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uo(e.pendingLanes);n!==0&&(xg(e,n|1),dn(e,nt()),!(Te&6)&&(Oa=nt()+500,Vs()))}break;case 13:bi(function(){var r=Or(t,1);if(r!==null){var s=tn();Jn(r,t,1,s)}}),Jg(t,1)}};wg=function(t){if(t.tag===13){var e=Or(t,134217728);if(e!==null){var n=tn();Jn(e,t,134217728,n)}Jg(t,134217728)}};j_=function(t){if(t.tag===13){var e=ws(t),n=Or(t,e);if(n!==null){var r=tn();Jn(n,t,e,r)}Jg(t,e)}};A_=function(){return Ae};I_=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Vm=function(t,e,n){switch(e){case"input":if(Cm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ch(r);if(!s)throw Error($(90));o_(r),Cm(r,s)}}}break;case"textarea":c_(t,n);break;case"select":e=n.value,e!=null&&ba(t,!!n.multiple,e,!1)}};g_=Gg;y_=bi;var eC={usingClientEntryPoint:!1,Events:[ic,la,ch,m_,p_,Gg]},Co={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tC={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=w_(t),t===null?null:t.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||JI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{ih=fu.inject(tC),dr=fu}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ey(e))throw Error($(200));return XI(t,e,null,n)};In.createRoot=function(t,e){if(!ey(t))throw Error($(299));var n=!1,r="",s=JE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xg(t,1,!1,null,null,n,!1,r,s),t[Lr]=e.current,Tl(t.nodeType===8?t.parentNode:t),new Zg(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=w_(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return bi(t)};In.hydrate=function(t,e,n){if(!vh(e))throw Error($(200));return xh(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!ey(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=JE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=XE(e,null,t,1,n??null,s,!1,i,a),t[Lr]=e.current,Tl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new yh(e)};In.render=function(t,e,n){if(!vh(e))throw Error($(200));return xh(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!vh(t))throw Error($(40));return t._reactRootContainer?(bi(function(){xh(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};In.unstable_batchedUpdates=Gg;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vh(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return xh(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function ZE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZE)}catch(t){console.error(t)}}ZE(),Zb.exports=In;var nC=Zb.exports,eT,Ox=nC;eT=Ox.createRoot,Ox.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}var hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hs||(hs={}));const Vx="popstate";function rC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return yp("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:kd(s)}return iC(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sC(){return Math.random().toString(36).substr(2,8)}function Fx(t,e){return{usr:t.state,key:t.key,idx:e}}function yp(t,e,n,r){return n===void 0&&(n=null),Rl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qa(e):e,{state:n,key:e&&e.key||r||sC()})}function kd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function iC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=hs.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(Rl({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=hs.Pop;let N=h(),_=N==null?null:N-d;d=N,c&&c({action:l,location:S.location,delta:_})}function m(N,_){l=hs.Push;let y=yp(S.location,N,_);d=h()+1;let x=Fx(y,d),j=S.createHref(y);try{a.pushState(x,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(j)}i&&c&&c({action:l,location:S.location,delta:1})}function g(N,_){l=hs.Replace;let y=yp(S.location,N,_);d=h();let x=Fx(y,d),j=S.createHref(y);a.replaceState(x,"",j),i&&c&&c({action:l,location:S.location,delta:0})}function T(N){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof N=="string"?N:kd(N);return y=y.replace(/ $/,"%20"),st(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let S={get action(){return l},get location(){return t(s,a)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vx,f),c=N,()=>{s.removeEventListener(Vx,f),c=null}},createHref(N){return e(s,N)},createURL:T,encodeLocation(N){let _=T(N);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(N){return a.go(N)}};return S}var Ux;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ux||(Ux={}));function aC(t,e,n){return n===void 0&&(n="/"),oC(t,e,n,!1)}function oC(t,e,n,r){let s=typeof e=="string"?Qa(e):e,i=ty(s.pathname||"/",n);if(i==null)return null;let a=nT(t);lC(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=xC(i);l=yC(a[c],d,r)}return l}function nT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=_s([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),nT(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:pC(d,i.index),routesMeta:h})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of rT(i.path))s(i,a,c)}),e}function rT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=rT(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function lC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cC=/^:[\w-]+$/,uC=3,dC=2,hC=1,fC=10,mC=-2,Bx=t=>t==="*";function pC(t,e){let n=t.split("/"),r=n.length;return n.some(Bx)&&(r+=mC),e&&(r+=dC),n.filter(s=>!Bx(s)).reduce((s,i)=>s+(cC.test(i)?uC:i===""?hC:fC),r)}function gC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yC(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=zx({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),m=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=zx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:_s([i,f.pathname]),pathnameBase:EC(_s([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=_s([i,f.pathnameBase]))}return a}function zx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let S=l[f]||"";a=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const T=l[f];return g&&!T?d[m]=void 0:d[m]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function vC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function xC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ty(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Qa(t):t;return{pathname:n?n.startsWith("/")?n:bC(n,e):e,search:TC(r),hash:kC(s)}}function bC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _C(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ny(t,e){let n=_C(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ry(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Qa(t):(s=Rl({},t),st(!s.pathname||!s.pathname.includes("?"),qf("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),qf("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),qf("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=wC(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const _s=t=>t.join("/").replace(/\/\/+/g,"/"),EC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sT=["post","put","patch","delete"];new Set(sT);const NC=["get",...sT];new Set(NC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}const sy=P.createContext(null),jC=P.createContext(null),Fs=P.createContext(null),wh=P.createContext(null),Wr=P.createContext({outlet:null,matches:[],isDataRoute:!1}),iT=P.createContext(null);function AC(t,e){let{relative:n}=e===void 0?{}:e;Ya()||st(!1);let{basename:r,navigator:s}=P.useContext(Fs),{hash:i,pathname:a,search:l}=lT(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:_s([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Ya(){return P.useContext(wh)!=null}function Us(){return Ya()||st(!1),P.useContext(wh).location}function aT(t){P.useContext(Fs).static||P.useLayoutEffect(t)}function Di(){let{isDataRoute:t}=P.useContext(Wr);return t?zC():IC()}function IC(){Ya()||st(!1);let t=P.useContext(sy),{basename:e,future:n,navigator:r}=P.useContext(Fs),{matches:s}=P.useContext(Wr),{pathname:i}=Us(),a=JSON.stringify(ny(s,n.v7_relativeSplatPath)),l=P.useRef(!1);return aT(()=>{l.current=!0}),P.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=ry(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:_s([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}function oT(){let{matches:t}=P.useContext(Wr),e=t[t.length-1];return e?e.params:{}}function lT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Fs),{matches:s}=P.useContext(Wr),{pathname:i}=Us(),a=JSON.stringify(ny(s,r.v7_relativeSplatPath));return P.useMemo(()=>ry(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function CC(t,e){return PC(t,e)}function PC(t,e,n,r){Ya()||st(!1);let{navigator:s,static:i}=P.useContext(Fs),{matches:a}=P.useContext(Wr),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=Us(),f;if(e){var m;let _=typeof e=="string"?Qa(e):e;d==="/"||(m=_.pathname)!=null&&m.startsWith(d)||st(!1),f=_}else f=h;let g=f.pathname||"/",T=g;if(d!=="/"){let _=d.replace(/^\//,"").split("/");T="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=!i&&n&&n.matches&&n.matches.length>0?n.matches:aC(t,{pathname:T}),N=OC(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},c,_.params),pathname:_s([d,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?d:_s([d,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,n,r);return e&&N?P.createElement(wh.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:hs.Pop}},N):N}function RC(){let t=BC(),e=SC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,null)}const MC=P.createElement(RC,null);class DC extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Wr.Provider,{value:this.props.routeContext},P.createElement(iT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LC(t){let{routeContext:e,match:n,children:r}=t,s=P.useContext(sy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Wr.Provider,{value:e},r)}function OC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||st(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:g}=n,T=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let g,T=!1,S=null,N=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,S=f.route.errorElement||MC,c&&(d<0&&m===0?(T=!0,N=null):d===m&&(T=!0,N=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,m+1)),y=()=>{let x;return g?x=S:T?x=N:f.route.Component?x=P.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,P.createElement(LC,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?P.createElement(DC,{location:n.location,revalidation:n.revalidation,component:S,error:g,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var cT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cT||{}),Sd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sd||{});function VC(t){let e=P.useContext(sy);return e||st(!1),e}function FC(t){let e=P.useContext(jC);return e||st(!1),e}function UC(t){let e=P.useContext(Wr);return e||st(!1),e}function uT(t){let e=UC(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function BC(){var t;let e=P.useContext(iT),n=FC(Sd.UseRouteError),r=uT(Sd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zC(){let{router:t}=VC(cT.UseNavigateStable),e=uT(Sd.UseNavigateStable),n=P.useRef(!1);return aT(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ml({fromRouteId:e},i)))},[t,e])}function $C(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function dT(t){let{to:e,replace:n,state:r,relative:s}=t;Ya()||st(!1);let{future:i,static:a}=P.useContext(Fs),{matches:l}=P.useContext(Wr),{pathname:c}=Us(),d=Di(),h=ry(e,ny(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return P.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function an(t){st(!1)}function HC(t){let{basename:e="/",children:n=null,location:r,navigationType:s=hs.Pop,navigator:i,static:a=!1,future:l}=t;Ya()&&st(!1);let c=e.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:i,static:a,future:Ml({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=Qa(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:T="default"}=r,S=P.useMemo(()=>{let N=ty(h,c);return N==null?null:{location:{pathname:N,search:f,hash:m,state:g,key:T},navigationType:s}},[c,h,f,m,g,T,s]);return S==null?null:P.createElement(Fs.Provider,{value:d},P.createElement(wh.Provider,{children:n,value:S}))}function WC(t){let{children:e,location:n}=t;return CC(vp(e),n)}new Promise(()=>{});function vp(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,vp(r.props.children,i));return}r.type!==an&&st(!1),!r.props.index||!r.props.children||st(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=vp(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function qC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function GC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KC(t,e){return t.button===0&&(!e||e==="_self")&&!GC(t)}const QC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YC="6";try{window.__reactRouterVersion=YC}catch{}const XC="startTransition",$x=Wj[XC];function JC(t){let{basename:e,children:n,future:r,window:s}=t,i=P.useRef();i.current==null&&(i.current=rC({window:s,v5Compat:!0}));let a=i.current,[l,c]=P.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=P.useCallback(f=>{d&&$x?$x(()=>c(f)):c(f)},[c,d]);return P.useLayoutEffect(()=>a.listen(h),[a,h]),P.useEffect(()=>$C(r),[r]),P.createElement(HC,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const ZC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=P.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,m=qC(e,QC),{basename:g}=P.useContext(Fs),T,S=!1;if(typeof d=="string"&&eP.test(d)&&(T=d,ZC))try{let x=new URL(window.location.href),j=d.startsWith("//")?new URL(x.protocol+d):new URL(d),D=ty(j.pathname,g);j.origin===x.origin&&D!=null?d=D+j.search+j.hash:S=!0}catch{}let N=AC(d,{relative:s}),_=tP(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function y(x){r&&r(x),x.defaultPrevented||_(x)}return P.createElement("a",xp({},m,{href:T||N,onClick:S||i?r:y,ref:n,target:c}))});var Hx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hx||(Hx={}));var Wx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wx||(Wx={}));function tP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Di(),d=Us(),h=lT(t,{relative:a});return P.useCallback(f=>{if(KC(f,n)){f.preventDefault();let m=r!==void 0?r:kd(d)===kd(h);c(t,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,h,r,s,n,t,i,a,l])}const hT=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),bh=P.createContext({}),_h=P.createContext(null),Eh=typeof document<"u",iy=Eh?P.useLayoutEffect:P.useEffect,fT=P.createContext({strict:!1}),ay=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),nP="framerAppearId",mT="data-"+ay(nP);function rP(t,e,n,r){const{visualElement:s}=P.useContext(bh),i=P.useContext(fT),a=P.useContext(_h),l=P.useContext(hT).reducedMotion,c=P.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current;P.useInsertionEffect(()=>{d&&d.update(n,a)});const h=P.useRef(!!(n[mT]&&!window.HandoffComplete));return iy(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),P.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function pa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sP(t,e,n){return P.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pa(n)&&(n.current=r))},[e])}function Dl(t){return typeof t=="string"||Array.isArray(t)}function Th(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const oy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ly=["initial",...oy];function kh(t){return Th(t.animate)||ly.some(e=>Dl(t[e]))}function pT(t){return!!(kh(t)||t.variants)}function iP(t,e){if(kh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Dl(n)?n:void 0,animate:Dl(r)?r:void 0}}return t.inherit!==!1?e:{}}function aP(t){const{initial:e,animate:n}=iP(t,P.useContext(bh));return P.useMemo(()=>({initial:e,animate:n}),[qx(e),qx(n)])}function qx(t){return Array.isArray(t)?t.join(" "):t}const Gx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ll={};for(const t in Gx)Ll[t]={isEnabled:e=>Gx[t].some(n=>!!e[n])};function oP(t){for(const e in t)Ll[e]={...Ll[e],...t[e]}}const cy=P.createContext({}),gT=P.createContext({}),lP=Symbol.for("motionComponentSymbol");function cP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&oP(t);function i(l,c){let d;const h={...P.useContext(hT),...l,layoutId:uP(l)},{isStatic:f}=h,m=aP(l),g=r(l,f);if(!f&&Eh){m.visualElement=rP(s,g,h,e);const T=P.useContext(gT),S=P.useContext(fT).strict;m.visualElement&&(d=m.visualElement.loadFeatures(h,S,t,T))}return P.createElement(bh.Provider,{value:m},d&&m.visualElement?P.createElement(d,{visualElement:m.visualElement,...h}):null,n(s,l,sP(g,m.visualElement,c),g,f,m.visualElement))}const a=P.forwardRef(i);return a[lP]=s,a}function uP({layoutId:t}){const e=P.useContext(cy).id;return e&&t!==void 0?e+"-"+t:t}function dP(t){function e(r,s={}){return cP(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const hP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uy(t){return typeof t!="string"||t.includes("-")?!1:!!(hP.indexOf(t)>-1||/[A-Z]/.test(t))}const Nd={};function fP(t){Object.assign(Nd,t)}const oc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Li=new Set(oc);function yT(t,{layout:e,layoutId:n}){return Li.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nd[t]||t==="opacity")}const pn=t=>!!(t&&t.getVelocity),mP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pP=oc.length;function gP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<pP;a++){const l=oc[a];if(t[l]!==void 0){const c=mP[l]||l;i+=`${c}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const vT=t=>e=>typeof e=="string"&&e.startsWith(t),xT=vT("--"),wp=vT("var(--"),yP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,vP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cs=(t,e,n)=>Math.min(Math.max(n,t),e),Oi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rl={...Oi,transform:t=>Cs(0,1,t)},mu={...Oi,default:1},sl=t=>Math.round(t*1e5)/1e5,Sh=/(-)?([\d]*\.?[\d])+/g,wT=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,xP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function lc(t){return typeof t=="string"}const cc=t=>({test:e=>lc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jr=cc("deg"),fr=cc("%"),de=cc("px"),wP=cc("vh"),bP=cc("vw"),Kx={...fr,parse:t=>fr.parse(t)/100,transform:t=>fr.transform(t*100)},Qx={...Oi,transform:Math.round},bT={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:Jr,rotateX:Jr,rotateY:Jr,rotateZ:Jr,scale:mu,scaleX:mu,scaleY:mu,scaleZ:mu,skew:Jr,skewX:Jr,skewY:Jr,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:rl,originX:Kx,originY:Kx,originZ:de,zIndex:Qx,fillOpacity:rl,strokeOpacity:rl,numOctaves:Qx};function dy(t,e,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=t;let c=!1,d=!1,h=!0;for(const f in e){const m=e[f];if(xT(f)){i[f]=m;continue}const g=bT[f],T=vP(m,g);if(Li.has(f)){if(c=!0,a[f]=T,!h)continue;m!==(g.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,l[f]=T):s[f]=T}if(e.transform||(c||r?s.transform=gP(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${m} ${g}`}}const hy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _T(t,e,n){for(const r in e)!pn(e[r])&&!yT(r,n)&&(t[r]=e[r])}function _P({transformTemplate:t},e,n){return P.useMemo(()=>{const r=hy();return dy(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function EP(t,e,n){const r=t.style||{},s={};return _T(s,r,t),Object.assign(s,_P(t,e,n)),t.transformValues?t.transformValues(s):s}function TP(t,e,n){const r={},s=EP(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const kP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kP.has(t)}let ET=t=>!jd(t);function SP(t){t&&(ET=e=>e.startsWith("on")?!jd(e):t(e))}try{SP(require("@emotion/is-prop-valid").default)}catch{}function NP(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(ET(s)||n===!0&&jd(s)||!e&&!jd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Yx(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function jP(t,e,n){const r=Yx(e,t.x,t.width),s=Yx(n,t.y,t.height);return`${r} ${s}`}const AP={offset:"stroke-dashoffset",array:"stroke-dasharray"},IP={offset:"strokeDashoffset",array:"strokeDasharray"};function CP(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?AP:IP;t[i.offset]=de.transform(-r);const a=de.transform(e),l=de.transform(n);t[i.array]=`${a} ${l}`}function fy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},h,f,m){if(dy(t,d,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:T,dimensions:S}=t;g.transform&&(S&&(T.transform=g.transform),delete g.transform),S&&(s!==void 0||i!==void 0||T.transform)&&(T.transformOrigin=jP(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),a!==void 0&&CP(g,a,l,c,!1)}const TT=()=>({...hy(),attrs:{}}),my=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PP(t,e,n,r){const s=P.useMemo(()=>{const i=TT();return fy(i,e,{enableHardwareAcceleration:!1},my(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_T(i,t.style,t),s.style={...i,...s.style}}return s}function RP(t=!1){return(n,r,s,{latestValues:i},a)=>{const c=(uy(n)?PP:TP)(r,i,a,n),h={...NP(r,typeof n=="string",t),...c,ref:s},{children:f}=r,m=P.useMemo(()=>pn(f)?f.get():f,[f]);return P.createElement(n,{...h,children:m})}}function kT(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const ST=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NT(t,e,n,r){kT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(ST.has(s)?s:ay(s),e.attrs[s])}function py(t,e){const{style:n}=t,r={};for(const s in n)(pn(n[s])||e.style&&pn(e.style[s])||yT(s,t))&&(r[s]=n[s]);return r}function jT(t,e){const n=py(t,e);for(const r in t)if(pn(t[r])||pn(e[r])){const s=oc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function gy(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function AT(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ad=t=>Array.isArray(t),MP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),DP=t=>Ad(t)?t[t.length-1]||0:t;function Uu(t){const e=pn(t)?t.get():t;return MP(e)?e.toValue():e}function LP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const a={latestValues:OP(r,s,i,t),renderState:e()};return n&&(a.mount=l=>n(r,l,a)),a}const IT=t=>(e,n)=>{const r=P.useContext(bh),s=P.useContext(_h),i=()=>LP(t,e,r,s);return n?i():AT(i)};function OP(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Uu(i[m]);let{initial:a,animate:l}=t;const c=kh(t),d=pT(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const f=h?l:a;return f&&typeof f!="boolean"&&!Th(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const T=gy(t,g);if(!T)return;const{transitionEnd:S,transition:N,..._}=T;for(const y in _){let x=_[y];if(Array.isArray(x)){const j=h?x.length-1:0;x=x[j]}x!==null&&(s[y]=x)}for(const y in S)s[y]=S[y]}),s}const rt=t=>t;class Xx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function VP(t){let e=new Xx,n=new Xx,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,d=!1,h=!1)=>{const f=h&&s,m=f?e:n;return d&&a.add(c),m.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(c),a.has(h)&&(l.schedule(h),t())}s=!1,i&&(i=!1,l.process(c))}};return l}const pu=["prepare","read","update","preRender","render","postRender"],FP=40;function UP(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=pu.reduce((f,m)=>(f[m]=VP(()=>n=!0),f),{}),a=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,FP),1),s.timestamp=f,s.isProcessing=!0,pu.forEach(a),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:pu.reduce((f,m)=>{const g=i[m];return f[m]=(T,S=!1,N=!1)=>(n||c(),g.schedule(T,S,N)),f},{}),cancel:f=>pu.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:Oe,cancel:Fr,state:zt,steps:Gf}=UP(typeof requestAnimationFrame<"u"?requestAnimationFrame:rt,!0),BP={useVisualState:IT({scrapeMotionValuesFromProps:jT,createRenderState:TT,onMount:(t,e,{renderState:n,latestValues:r})=>{Oe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Oe.render(()=>{fy(n,r,{enableHardwareAcceleration:!1},my(e.tagName),t.transformTemplate),NT(e,n)})}})},zP={useVisualState:IT({scrapeMotionValuesFromProps:py,createRenderState:hy})};function $P(t,{forwardMotionProps:e=!1},n,r){return{...uy(t)?BP:zP,preloadedFeatures:n,useRender:RP(e),createVisualElement:r,Component:t}}function Nr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const CT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Nh(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const HP=t=>e=>CT(e)&&t(e,Nh(e));function Pr(t,e,n,r){return Nr(t,e,HP(n),r)}const WP=(t,e)=>n=>e(t(n)),Es=(...t)=>t.reduce(WP);function PT(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Jx=PT("dragHorizontal"),Zx=PT("dragVertical");function RT(t){let e=!1;if(t==="y")e=Zx();else if(t==="x")e=Jx();else{const n=Jx(),r=Zx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function MT(){const t=RT(!0);return t?(t(),!1):!0}class Bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function e1(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||MT())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Oe.update(()=>l[r](i,a))};return Pr(t.current,n,s,{passive:!t.getProps()[r]})}class qP extends Bs{mount(){this.unmount=Es(e1(this.node,!0),e1(this.node,!1))}unmount(){}}class GP extends Bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Es(Nr(this.node.current,"focus",()=>this.onFocus()),Nr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const DT=(t,e)=>e?t===e?!0:DT(t,e.parentElement):!1;function Kf(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Nh(n))}class KP extends Bs{constructor(){super(...arguments),this.removeStartListeners=rt,this.removeEndListeners=rt,this.removeAccessibleListeners=rt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Pr(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();Oe.update(()=>{!f&&!DT(this.node.current,l.target)?h&&h(l,c):d&&d(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=Pr(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Es(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Kf("up",(c,d)=>{const{onTap:h}=this.node.getProps();h&&Oe.update(()=>h(c,d))})};this.removeEndListeners(),this.removeEndListeners=Nr(this.node.current,"keyup",a),Kf("down",(l,c)=>{this.startPress(l,c)})},n=Nr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Kf("cancel",(i,a)=>this.cancelPress(i,a))},s=Nr(this.node.current,"blur",r);this.removeAccessibleListeners=Es(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Oe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!MT()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Oe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Pr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Nr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Es(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bp=new WeakMap,Qf=new WeakMap,QP=t=>{const e=bp.get(t.target);e&&e(t)},YP=t=>{t.forEach(QP)};function XP({root:t,...e}){const n=t||document;Qf.has(n)||Qf.set(n,{});const r=Qf.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(YP,{root:t,...e})),r[s]}function JP(t,e,n){const r=XP(e);return bp.set(t,n),r.observe(t),()=>{bp.delete(t),r.unobserve(t)}}const ZP={some:0,all:1};class eR extends Bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ZP[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=d?h:f;m&&m(c)};return JP(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tR(e,n))&&this.startObserver()}unmount(){}}function tR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nR={inView:{Feature:eR},tap:{Feature:KP},focus:{Feature:GP},hover:{Feature:qP}};function LT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function rR(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function sR(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function jh(t,e,n){const r=t.getProps();return gy(r,e,n!==void 0?n:r.custom,rR(t),sR(t))}let Id=rt;const fi=t=>t*1e3,Rr=t=>t/1e3,iR={current:!1},OT=t=>Array.isArray(t)&&typeof t[0]=="number";function VT(t){return!!(!t||typeof t=="string"&&FT[t]||OT(t)||Array.isArray(t)&&t.every(VT))}const zo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,FT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zo([0,.65,.55,1]),circOut:zo([.55,0,1,.45]),backIn:zo([.31,.01,.66,-.59]),backOut:zo([.33,1.53,.69,.99])};function UT(t){if(t)return OT(t)?zo(t):Array.isArray(t)?t.map(UT):FT[t]}function aR(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const d={[e]:n};c&&(d.offset=c);const h=UT(l);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function oR(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const BT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lR=1e-7,cR=12;function uR(t,e,n,r,s){let i,a,l=0;do a=e+(n-e)/2,i=BT(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>lR&&++l<cR);return a}function uc(t,e,n,r){if(t===e&&n===r)return rt;const s=i=>uR(i,0,1,t,n);return i=>i===0||i===1?i:BT(s(i),e,r)}const dR=uc(.42,0,1,1),hR=uc(0,0,.58,1),zT=uc(.42,0,.58,1),fR=t=>Array.isArray(t)&&typeof t[0]!="number",$T=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HT=t=>e=>1-t(1-e),yy=t=>1-Math.sin(Math.acos(t)),WT=HT(yy),mR=$T(yy),qT=uc(.33,1.53,.69,.99),vy=HT(qT),pR=$T(vy),gR=t=>(t*=2)<1?.5*vy(t):.5*(2-Math.pow(2,-10*(t-1))),t1={linear:rt,easeIn:dR,easeInOut:zT,easeOut:hR,circIn:yy,circInOut:mR,circOut:WT,backIn:vy,backInOut:pR,backOut:qT,anticipate:gR},n1=t=>{if(Array.isArray(t)){Id(t.length===4);const[e,n,r,s]=t;return uc(e,n,r,s)}else if(typeof t=="string")return Id(t1[t]!==void 0),t1[t];return t},xy=(t,e)=>n=>!!(lc(n)&&xP.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),GT=(t,e,n)=>r=>{if(!lc(r))return r;const[s,i,a,l]=r.match(Sh);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},yR=t=>Cs(0,255,t),Yf={...Oi,transform:t=>Math.round(yR(t))},oi={test:xy("rgb","red"),parse:GT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yf.transform(t)+", "+Yf.transform(e)+", "+Yf.transform(n)+", "+sl(rl.transform(r))+")"};function vR(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const _p={test:xy("#"),parse:vR,transform:oi.transform},ga={test:xy("hsl","hue"),parse:GT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+fr.transform(sl(e))+", "+fr.transform(sl(n))+", "+sl(rl.transform(r))+")"},Xt={test:t=>oi.test(t)||_p.test(t)||ga.test(t),parse:t=>oi.test(t)?oi.parse(t):ga.test(t)?ga.parse(t):_p.parse(t),transform:t=>lc(t)?t:t.hasOwnProperty("red")?oi.transform(t):ga.transform(t)},We=(t,e,n)=>-n*t+n*e+t;function Xf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=Xf(c,l,t+1/3),i=Xf(c,l,t),a=Xf(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const Jf=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},wR=[_p,oi,ga],bR=t=>wR.find(e=>e.test(t));function r1(t){const e=bR(t);let n=e.parse(t);return e===ga&&(n=xR(n)),n}const KT=(t,e)=>{const n=r1(t),r=r1(e),s={...n};return i=>(s.red=Jf(n.red,r.red,i),s.green=Jf(n.green,r.green,i),s.blue=Jf(n.blue,r.blue,i),s.alpha=We(n.alpha,r.alpha,i),oi.transform(s))};function _R(t){var e,n;return isNaN(t)&&lc(t)&&(((e=t.match(Sh))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(wT))===null||n===void 0?void 0:n.length)||0)>0}const QT={regex:yP,countKey:"Vars",token:"${v}",parse:rt},YT={regex:wT,countKey:"Colors",token:"${c}",parse:Xt.parse},XT={regex:Sh,countKey:"Numbers",token:"${n}",parse:Oi.parse};function Zf(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Cd(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Zf(n,QT),Zf(n,YT),Zf(n,XT),n}function JT(t){return Cd(t).values}function ZT(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Cd(t),i=e.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(QT.token,a[c]):c<r+n?l=l.replace(YT.token,Xt.transform(a[c])):l=l.replace(XT.token,sl(a[c]));return l}}const ER=t=>typeof t=="number"?0:t;function TR(t){const e=JT(t);return ZT(t)(e.map(ER))}const Ps={test:_R,parse:JT,createTransformer:ZT,getAnimatableNone:TR},ek=(t,e)=>n=>`${n>0?e:t}`;function tk(t,e){return typeof t=="number"?n=>We(t,e,n):Xt.test(t)?KT(t,e):t.startsWith("var(")?ek(t,e):rk(t,e)}const nk=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,a)=>tk(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},kR=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=tk(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},rk=(t,e)=>{const n=Ps.createTransformer(e),r=Cd(t),s=Cd(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Es(nk(r.values,s.values),n):ek(t,e)},Ol=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},s1=(t,e)=>n=>We(t,e,n);function SR(t){return typeof t=="number"?s1:typeof t=="string"?Xt.test(t)?KT:rk:Array.isArray(t)?nk:typeof t=="object"?kR:s1}function NR(t,e,n){const r=[],s=n||SR(t[0]),i=t.length-1;for(let a=0;a<i;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||rt:e;l=Es(c,l)}r.push(l)}return r}function sk(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Id(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=NR(e,r,s),l=a.length,c=d=>{let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Ol(t[h],t[h+1],d);return a[h](f)};return n?d=>c(Cs(t[0],t[i-1],d)):c}function jR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ol(0,e,r);t.push(We(n,1,s))}}function AR(t){const e=[0];return jR(e,t.length-1),e}function IR(t,e){return t.map(n=>n*e)}function CR(t,e){return t.map(()=>e||zT).splice(0,t.length-1)}function Pd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=fR(r)?r.map(n1):n1(r),i={done:!1,value:e[0]},a=IR(n&&n.length===e.length?n:AR(e),t),l=sk(a,e,{ease:Array.isArray(s)?s:CR(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}function ik(t,e){return e?t*(1e3/e):0}const PR=5;function ak(t,e,n){const r=Math.max(e-PR,0);return ik(n-t(r),e-r)}const em=.001,RR=.01,MR=10,DR=.05,LR=1;function OR({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,a=1-e;a=Cs(DR,LR,a),t=Cs(RR,MR,Rr(t)),a<1?(s=d=>{const h=d*a,f=h*t,m=h-n,g=Ep(d,a),T=Math.exp(-f);return em-m/g*T},i=d=>{const f=d*a*t,m=f*n+n,g=Math.pow(a,2)*Math.pow(d,2)*t,T=Math.exp(-f),S=Ep(Math.pow(d,2),a);return(-s(d)+em>0?-1:1)*((m-g)*T)/S}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-em+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=FR(s,i,l);if(t=fi(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const VR=12;function FR(t,e,n){let r=n;for(let s=1;s<VR;s++)r=r-t(r)/e(r);return r}function Ep(t,e){return t*Math.sqrt(1-e*e)}const UR=["duration","bounce"],BR=["stiffness","damping","mass"];function i1(t,e){return e.some(n=>t[n]!==void 0)}function zR(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!i1(t,BR)&&i1(t,UR)){const n=OR(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function ok({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=zR({...r,velocity:-Rr(r.velocity||0)}),g=f||0,T=c/(2*Math.sqrt(l*d)),S=i-s,N=Rr(Math.sqrt(l/d)),_=Math.abs(S)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(T<1){const x=Ep(N,T);y=j=>{const D=Math.exp(-T*N*j);return i-D*((g+T*N*S)/x*Math.sin(x*j)+S*Math.cos(x*j))}}else if(T===1)y=x=>i-Math.exp(-N*x)*(S+(g+N*S)*x);else{const x=N*Math.sqrt(T*T-1);y=j=>{const D=Math.exp(-T*N*j),C=Math.min(x*j,300);return i-D*((g+T*N*S)*Math.sinh(C)+x*S*Math.cosh(C))/x}}return{calculatedDuration:m&&h||null,next:x=>{const j=y(x);if(m)a.done=x>=h;else{let D=g;x!==0&&(T<1?D=ak(y,x,j):D=0);const C=Math.abs(D)<=n,b=Math.abs(i-j)<=e;a.done=C&&b}return a.value=a.done?i:j,a}}}function a1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},g=w=>l!==void 0&&w<l||c!==void 0&&w>c,T=w=>l===void 0?c:c===void 0||Math.abs(l-w)<Math.abs(c-w)?l:c;let S=n*e;const N=f+S,_=a===void 0?N:a(N);_!==N&&(S=_-f);const y=w=>-S*Math.exp(-w/r),x=w=>_+y(w),j=w=>{const E=y(w),k=x(w);m.done=Math.abs(E)<=d,m.value=m.done?_:k};let D,C;const b=w=>{g(m.value)&&(D=w,C=ok({keyframes:[m.value,T(m.value)],velocity:ak(x,w,m.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return b(0),{calculatedDuration:null,next:w=>{let E=!1;return!C&&D===void 0&&(E=!0,j(w),b(w)),D!==void 0&&w>D?C.next(w-D):(!E&&j(w),m)}}}const $R=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Oe.update(e,!0),stop:()=>Fr(e),now:()=>zt.isProcessing?zt.timestamp:performance.now()}},o1=2e4;function l1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<o1;)e+=n,r=t.next(e);return e>=o1?1/0:e}const HR={decay:a1,inertia:a1,tween:Pd,keyframes:Pd,spring:ok};function Rd({autoplay:t=!0,delay:e=0,driver:n=$R,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:d,onComplete:h,onUpdate:f,...m}){let g=1,T=!1,S,N;const _=()=>{N=new Promise(ne=>{S=ne})};_();let y;const x=HR[s]||Pd;let j;x!==Pd&&typeof r[0]!="number"&&(j=sk([0,100],r,{clamp:!1}),r=[0,100]);const D=x({...m,keyframes:r});let C;l==="mirror"&&(C=x({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let b="idle",w=null,E=null,k=null;D.calculatedDuration===null&&i&&(D.calculatedDuration=l1(D));const{calculatedDuration:M}=D;let R=1/0,A=1/0;M!==null&&(R=M+a,A=R*(i+1)-a);let X=0;const Z=ne=>{if(E===null)return;g>0&&(E=Math.min(E,ne)),g<0&&(E=Math.min(ne-A/g,E)),w!==null?X=w:X=Math.round(ne-E)*g;const re=X-e*(g>=0?1:-1),ye=g>=0?re<0:re>A;X=Math.max(re,0),b==="finished"&&w===null&&(X=A);let B=X,q=D;if(i){const ae=Math.min(X,A)/R;let _e=Math.floor(ae),xe=ae%1;!xe&&ae>=1&&(xe=1),xe===1&&_e--,_e=Math.min(_e,i+1),!!(_e%2)&&(l==="reverse"?(xe=1-xe,a&&(xe-=a/R)):l==="mirror"&&(q=C)),B=Cs(0,1,xe)*R}const ie=ye?{done:!1,value:r[0]}:q.next(B);j&&(ie.value=j(ie.value));let{done:se}=ie;!ye&&M!==null&&(se=g>=0?X>=A:X<=0);const Pe=w===null&&(b==="finished"||b==="running"&&se);return f&&f(ie.value),Pe&&F(),ie},ue=()=>{y&&y.stop(),y=void 0},me=()=>{b="idle",ue(),S(),_(),E=k=null},F=()=>{b="finished",h&&h(),ue(),S()},K=()=>{if(T)return;y||(y=n(Z));const ne=y.now();c&&c(),w!==null?E=ne-w:(!E||b==="finished")&&(E=ne),b==="finished"&&_(),k=E,w=null,b="running",y.start()};t&&K();const H={then(ne,re){return N.then(ne,re)},get time(){return Rr(X)},set time(ne){ne=fi(ne),X=ne,w!==null||!y||g===0?w=ne:E=y.now()-ne/g},get duration(){const ne=D.calculatedDuration===null?l1(D):D.calculatedDuration;return Rr(ne)},get speed(){return g},set speed(ne){ne===g||!y||(g=ne,H.time=Rr(X))},get state(){return b},play:K,pause:()=>{b="paused",w=X},stop:()=>{T=!0,b!=="idle"&&(b="idle",d&&d(),me())},cancel:()=>{k!==null&&Z(k),me()},complete:()=>{b="finished"},sample:ne=>(E=0,Z(ne))};return H}function WR(t){let e;return()=>(e===void 0&&(e=t()),e)}const qR=WR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),GR=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),gu=10,KR=2e4,QR=(t,e)=>e.type==="spring"||t==="backgroundColor"||!VT(e.ease);function YR(t,e,{onUpdate:n,onComplete:r,...s}){if(!(qR()&&GR.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,d=!1;const h=()=>{c=new Promise(x=>{l=x})};h();let{keyframes:f,duration:m=300,ease:g,times:T}=s;if(QR(e,s)){const x=Rd({...s,repeat:0,delay:0});let j={done:!1,value:f[0]};const D=[];let C=0;for(;!j.done&&C<KR;)j=x.sample(C),D.push(j.value),C+=gu;T=void 0,f=D,m=C-gu,g="linear"}const S=aR(t.owner.current,e,f,{...s,duration:m,ease:g,times:T}),N=()=>{d=!1,S.cancel()},_=()=>{d=!0,Oe.update(N),l(),h()};return S.onfinish=()=>{d||(t.set(oR(f,s)),r&&r(),_())},{then(x,j){return c.then(x,j)},attachTimeline(x){return S.timeline=x,S.onfinish=null,rt},get time(){return Rr(S.currentTime||0)},set time(x){S.currentTime=fi(x)},get speed(){return S.playbackRate},set speed(x){S.playbackRate=x},get duration(){return Rr(m)},play:()=>{a||(S.play(),Fr(N))},pause:()=>S.pause(),stop:()=>{if(a=!0,S.playState==="idle")return;const{currentTime:x}=S;if(x){const j=Rd({...s,autoplay:!1});t.setWithVelocity(j.sample(x-gu).value,j.sample(x).value,gu)}_()},complete:()=>{d||S.finish()},cancel:_}}function XR({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:rt,pause:rt,stop:rt,then:i=>(i(),Promise.resolve()),cancel:rt,complete:rt});return e?Rd({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const JR={type:"spring",stiffness:500,damping:25,restSpeed:10},ZR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eM={type:"keyframes",duration:.8},tM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nM=(t,{keyframes:e})=>e.length>2?eM:Li.has(t)?t.startsWith("scale")?ZR(e[1]):JR:tM,Tp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ps.test(e)||e==="0")&&!e.startsWith("url(")),rM=new Set(["brightness","contrast","saturate","opacity"]);function sM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Sh)||[];if(!r)return t;const s=n.replace(r,"");let i=rM.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const iM=/([a-z-]*)\(.*?\)/g,kp={...Ps,getAnimatableNone:t=>{const e=t.match(iM);return e?e.map(sM).join(" "):t}},aM={...bT,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:kp,WebkitFilter:kp},wy=t=>aM[t];function lk(t,e){let n=wy(t);return n!==kp&&(n=Ps),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ck=t=>/^0[^.\s]+$/.test(t);function oM(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||ck(t)}function lM(t,e,n,r){const s=Tp(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:t.get();let l;const c=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?a:i[d-1]),oM(i[d])&&c.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(s&&c.length&&l)for(let d=0;d<c.length;d++){const h=c[d];i[h]=lk(e,l)}return i}function cM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}function by(t,e){return t[e]||t.default||t}const uM={skipAnimations:!1},_y=(t,e,n,r={})=>s=>{const i=by(r,t)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-fi(a);const c=lM(e,t,n,i),d=c[0],h=c[c.length-1],f=Tp(t,d),m=Tp(t,h);let g={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:T=>{e.set(T),i.onUpdate&&i.onUpdate(T)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(cM(i)||(g={...g,...nM(t,g)}),g.duration&&(g.duration=fi(g.duration)),g.repeatDelay&&(g.repeatDelay=fi(g.repeatDelay)),!f||!m||iR.current||i.type===!1||uM.skipAnimations)return XR(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=YR(e,t,g);if(T)return T}return Rd(g)};function Md(t){return!!(pn(t)&&t.add)}const uk=t=>/^\-?\d*\.?\d+$/.test(t);function Ey(t,e){t.indexOf(e)===-1&&t.push(e)}function Ty(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ky{constructor(){this.subscriptions=[]}add(e){return Ey(this.subscriptions,e),()=>Ty(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dM=t=>!isNaN(parseFloat(t));class hM{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=zt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,Oe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Oe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=dM(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ky);const r=this.events[e].add(n);return e==="change"?()=>{r(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?ik(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Va(t,e){return new hM(t,e)}const dk=t=>e=>e.test(t),fM={test:t=>t==="auto",parse:t=>t},hk=[Oi,de,fr,Jr,bP,wP,fM],Po=t=>hk.find(dk(t)),mM=[...hk,Xt,Ps],pM=t=>mM.find(dk(t));function gM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Va(n))}function yM(t,e){const n=jh(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=DP(i[a]);gM(t,a,l)}}function vM(t,e,n){var r,s;const i=Object.keys(e).filter(l=>!t.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],d=e[c];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),h!=null&&(typeof h=="string"&&(uk(h)||ck(h))?h=parseFloat(h):!pM(h)&&Ps.test(d)&&(h=lk(c,d)),t.addValue(c,Va(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function xM(t,e){return e?(e[t]||e.default||e).from:void 0}function wM(t,e,n){const r={};for(const s in t){const i=xM(s,e);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function bM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _M(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function fk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f),g=l[f];if(!m||g===void 0||h&&bM(h,f))continue;const T={delay:n,elapsed:0,...by(i||{},f)};if(window.HandoffAppearAnimations){const _=t.getProps()[mT];if(_){const y=window.HandoffAppearAnimations(_,f,m,Oe);y!==null&&(T.elapsed=y,T.isHandoff=!0)}}let S=!T.isHandoff&&!_M(m,g);if(T.type==="spring"&&(m.getVelocity()||T.velocity)&&(S=!1),m.animation&&(S=!1),S)continue;m.start(_y(f,m,g,t.shouldReduceMotion&&Li.has(f)?{type:!1}:T));const N=m.animation;Md(c)&&(c.add(f),N.then(()=>c.remove(f))),d.push(N)}return a&&Promise.all(d).then(()=>{a&&yM(t,a)}),d}function Sp(t,e,n={}){const r=jh(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(fk(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return EM(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function EM(t,e,n=0,r=0,s=1,i){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(t.variantChildren).sort(TM).forEach((d,h)=>{d.notify("AnimationStart",e),a.push(Sp(d,e,{...i,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function TM(t,e){return t.sortNodePosition(e)}function kM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Sp(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Sp(t,e,n);else{const s=typeof e=="function"?jh(t,e,n.custom):e;r=Promise.all(fk(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const SM=[...oy].reverse(),NM=oy.length;function jM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kM(t,n,r)))}function AM(t){let e=jM(t);const n=CM();let r=!0;const s=(c,d)=>{const h=jh(t,d);if(h){const{transition:f,transitionEnd:m,...g}=h;c={...c,...g,...m}}return c};function i(c){e=c(t)}function a(c,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},m=[],g=new Set;let T={},S=1/0;for(let _=0;_<NM;_++){const y=SM[_],x=n[y],j=h[y]!==void 0?h[y]:f[y],D=Dl(j),C=y===d?x.isActive:null;C===!1&&(S=_);let b=j===f[y]&&j!==h[y]&&D;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),x.protectedKeys={...T},!x.isActive&&C===null||!j&&!x.prevProp||Th(j)||typeof j=="boolean")continue;let E=IM(x.prevProp,j)||y===d&&x.isActive&&!b&&D||_>S&&D,k=!1;const M=Array.isArray(j)?j:[j];let R=M.reduce(s,{});C===!1&&(R={});const{prevResolvedValues:A={}}=x,X={...A,...R},Z=ue=>{E=!0,g.has(ue)&&(k=!0,g.delete(ue)),x.needsAnimating[ue]=!0};for(const ue in X){const me=R[ue],F=A[ue];if(T.hasOwnProperty(ue))continue;let K=!1;Ad(me)&&Ad(F)?K=!LT(me,F):K=me!==F,K?me!==void 0?Z(ue):g.add(ue):me!==void 0&&g.has(ue)?Z(ue):x.protectedKeys[ue]=!0}x.prevProp=j,x.prevResolvedValues=R,x.isActive&&(T={...T,...R}),r&&t.blockInitialAnimation&&(E=!1),E&&(!b||k)&&m.push(...M.map(ue=>({animation:ue,options:{type:y,...c}})))}if(g.size){const _={};g.forEach(y=>{const x=t.getBaseTarget(y);x!==void 0&&(_[y]=x)}),m.push({animation:_})}let N=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(m):Promise.resolve()}function l(c,d,h){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var T;return(T=g.animationState)===null||T===void 0?void 0:T.setActive(c,d)}),n[c].isActive=d;const m=a(h,c);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function IM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LT(e,t):!1}function Xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CM(){return{animate:Xs(!0),whileInView:Xs(),whileHover:Xs(),whileTap:Xs(),whileDrag:Xs(),whileFocus:Xs(),exit:Xs()}}class PM extends Bs{constructor(e){super(e),e.animationState||(e.animationState=AM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Th(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let RM=0;class MM extends Bs{constructor(){super(...arguments),this.id=RM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const DM={animation:{Feature:PM},exit:{Feature:MM}},c1=(t,e)=>Math.abs(t-e);function LM(t,e){const n=c1(t.x,e.x),r=c1(t.y,e.y);return Math.sqrt(n**2+r**2)}class mk{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=nm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=LM(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:T}=f,{timestamp:S}=zt;this.history.push({...T,timestamp:S});const{onStart:N,onMove:_}=this.handlers;m||(N&&N(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=tm(m,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=nm(f.type==="pointercancel"?this.lastMoveEventInfo:tm(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,N),T&&T(f,N)},!CT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Nh(e),l=tm(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=zt;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,nm(l,this.history)),this.removeListeners=Es(Pr(this.contextWindow,"pointermove",this.handlePointerMove),Pr(this.contextWindow,"pointerup",this.handlePointerUp),Pr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fr(this.updatePoint)}}function tm(t,e){return e?{point:e(t.point)}:t}function u1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nm({point:t},e){return{point:t,delta:u1(t,pk(e)),offset:u1(t,OM(e)),velocity:VM(e,.1)}}function OM(t){return t[0]}function pk(t){return t[t.length-1]}function VM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=pk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>fi(e)));)n--;if(!r)return{x:0,y:0};const i=Rr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function An(t){return t.max-t.min}function Np(t,e=0,n=.01){return Math.abs(t-e)<=n}function d1(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=An(n)/An(e),(Np(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(Np(t.translate)||isNaN(t.translate))&&(t.translate=0)}function il(t,e,n,r){d1(t.x,e.x,n.x,r?r.originX:void 0),d1(t.y,e.y,n.y,r?r.originY:void 0)}function h1(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function FM(t,e,n){h1(t.x,e.x,n.x),h1(t.y,e.y,n.y)}function f1(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function al(t,e,n){f1(t.x,e.x,n.x),f1(t.y,e.y,n.y)}function UM(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function m1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BM(t,{top:e,left:n,bottom:r,right:s}){return{x:m1(t.x,n,s),y:m1(t.y,e,r)}}function p1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zM(t,e){return{x:p1(t.x,e.x),y:p1(t.y,e.y)}}function $M(t,e){let n=.5;const r=An(t),s=An(e);return s>r?n=Ol(e.min,e.max-r,t.min):r>s&&(n=Ol(t.min,t.max-s,e.min)),Cs(0,1,n)}function HM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jp=.35;function WM(t=jp){return t===!1?t=0:t===!0&&(t=jp),{x:g1(t,"left","right"),y:g1(t,"top","bottom")}}function g1(t,e,n){return{min:y1(t,e),max:y1(t,n)}}function y1(t,e){return typeof t=="number"?t:t[e]||0}const v1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ya=()=>({x:v1(),y:v1()}),x1=()=>({min:0,max:0}),at=()=>({x:x1(),y:x1()});function Mn(t){return[t("x"),t("y")]}function gk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function qM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rm(t){return t===void 0||t===1}function Ap({scale:t,scaleX:e,scaleY:n}){return!rm(t)||!rm(e)||!rm(n)}function ei(t){return Ap(t)||yk(t)||t.z||t.rotate||t.rotateX||t.rotateY}function yk(t){return w1(t.x)||w1(t.y)}function w1(t){return t&&t!=="0%"}function Dd(t,e,n){const r=t-n,s=e*r;return n+s}function b1(t,e,n,r,s){return s!==void 0&&(t=Dd(t,s,r)),Dd(t,n,r)+e}function Ip(t,e=0,n=1,r,s){t.min=b1(t.min,e,n,r,s),t.max=b1(t.max,e,n,r,s)}function vk(t,{x:e,y:n}){Ip(t.x,e.translate,e.scale,e.originPoint),Ip(t.y,n.translate,n.scale,n.originPoint)}function KM(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&va(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,vk(t,a)),r&&ei(i.latestValues)&&va(t,i.latestValues))}e.x=_1(e.x),e.y=_1(e.y)}function _1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ts(t,e){t.min=t.min+e,t.max=t.max+e}function E1(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,a=We(t.min,t.max,i);Ip(t,e[n],e[r],a,e.scale)}const QM=["x","scaleX","originX"],YM=["y","scaleY","originY"];function va(t,e){E1(t.x,e,QM),E1(t.y,e,YM)}function xk(t,e){return gk(GM(t.getBoundingClientRect(),e))}function XM(t,e,n){const r=xk(t,n),{scroll:s}=e;return s&&(ts(r.x,s.offset.x),ts(r.y,s.offset.y)),r}const wk=({current:t})=>t?t.ownerDocument.defaultView:null,JM=new WeakMap;class ZM{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nh(h,"page").point)},i=(h,f)=>{const{drag:m,dragPropagation:g,onDragStart:T}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=RT(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(N=>{let _=this.getAxisMotionValue(N).get()||0;if(fr.test(_)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[N];x&&(_=An(x)*(parseFloat(_)/100))}}this.originPoint[N]=_}),T&&Oe.update(()=>T(h,f),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(h,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:T,onDrag:S}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:N}=f;if(g&&this.currentDirection===null){this.currentDirection=e4(N),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",f.point,N),this.updateAxis("y",f.point,N),this.visualElement.render(),S&&S(h,f)},l=(h,f)=>this.stop(h,f),c=()=>Mn(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new mk(e,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:wk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Oe.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!yu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=UM(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&pa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=BM(s.layoutBox,n):this.constraints=!1,this.elastic=WM(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=HM(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=XM(r,s.root,this.visualElement.getTransformPagePoint());let a=zM(s.layout.layoutBox,i);if(n){const l=n(qM(a));this.hasMutatedConstraints=!!l,l&&(a=gk(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Mn(h=>{if(!yu(h,n,this.currentDirection))return;let f=c&&c[h]||{};a&&(f={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,T)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(_y(e,r,0,n))}stopAnimation(){Mn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mn(n=>{const{drag:r}=this.getProps();if(!yu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(e[n]-We(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mn(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=$M({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(a=>{if(!yu(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(We(c,d,s[a]))})}addListeners(){if(!this.visualElement.current)return;JM.set(this.visualElement,this);const e=this.visualElement.current,n=Pr(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();pa(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=Nr(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Mn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=jp,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function yu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function e4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class t4 extends Bs{constructor(e){super(e),this.removeGroupControls=rt,this.removeListeners=rt,this.controls=new ZM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rt}unmount(){this.removeGroupControls(),this.removeListeners()}}const T1=t=>(e,n)=>{t&&Oe.update(()=>t(e,n))};class n4 extends Bs{constructor(){super(...arguments),this.removePointerDownListener=rt}onPointerDown(e){this.session=new mk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:T1(e),onStart:T1(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Oe.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=Pr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function r4(){const t=P.useContext(_h);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=P.useId();return P.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Bu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function k1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ro={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=k1(t,e.target.x),r=k1(t,e.target.y);return`${n}% ${r}%`}},s4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ps.parse(t);if(s.length>5)return r;const i=Ps.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const d=We(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=d),typeof s[3+a]=="number"&&(s[3+a]/=d),i(s)}};class i4 extends ug.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;fP(a4),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Oe.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bk(t){const[e,n]=r4(),r=P.useContext(cy);return ug.createElement(i4,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(gT),isPresent:e,safeToRemove:n})}const a4={borderRadius:{...Ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ro,borderTopRightRadius:Ro,borderBottomLeftRadius:Ro,borderBottomRightRadius:Ro,boxShadow:s4},_k=["TopLeft","TopRight","BottomLeft","BottomRight"],o4=_k.length,S1=t=>typeof t=="string"?parseFloat(t):t,N1=t=>typeof t=="number"||de.test(t);function l4(t,e,n,r,s,i){s?(t.opacity=We(0,n.opacity!==void 0?n.opacity:1,c4(r)),t.opacityExit=We(e.opacity!==void 0?e.opacity:1,0,u4(r))):i&&(t.opacity=We(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<o4;a++){const l=`border${_k[a]}Radius`;let c=j1(e,l),d=j1(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||N1(c)===N1(d)?(t[l]=Math.max(We(S1(c),S1(d),r),0),(fr.test(d)||fr.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function j1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const c4=Ek(0,.5,WT),u4=Ek(.5,.95,rt);function Ek(t,e,n){return r=>r<t?0:r>e?1:n(Ol(t,e,r))}function A1(t,e){t.min=e.min,t.max=e.max}function Rn(t,e){A1(t.x,e.x),A1(t.y,e.y)}function I1(t,e,n,r,s){return t-=e,t=Dd(t,1/n,r),s!==void 0&&(t=Dd(t,1/s,r)),t}function d4(t,e=0,n=1,r=.5,s,i=t,a=t){if(fr.test(e)&&(e=parseFloat(e),e=We(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=We(i.min,i.max,r);t===i&&(l-=e),t.min=I1(t.min,e,n,l,s),t.max=I1(t.max,e,n,l,s)}function C1(t,e,[n,r,s],i,a){d4(t,e[n],e[r],e[s],e.scale,i,a)}const h4=["x","scaleX","originX"],f4=["y","scaleY","originY"];function P1(t,e,n,r){C1(t.x,e,h4,n?n.x:void 0,r?r.x:void 0),C1(t.y,e,f4,n?n.y:void 0,r?r.y:void 0)}function R1(t){return t.translate===0&&t.scale===1}function Tk(t){return R1(t.x)&&R1(t.y)}function m4(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function kk(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function M1(t){return An(t.x)/An(t.y)}class p4{constructor(){this.members=[]}add(e){Ey(this.members,e),e.scheduleRender()}remove(e){if(Ty(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D1(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:d,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const g4=(t,e)=>t.depth-e.depth;class y4{constructor(){this.children=[],this.isDirty=!1}add(e){Ey(this.children,e),this.isDirty=!0}remove(e){Ty(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(g4),this.isDirty=!1,this.children.forEach(e)}}function v4(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Fr(r),t(i-e))};return Oe.read(r,!0),()=>Fr(r)}function x4(t){window.MotionDebug&&window.MotionDebug.record(t)}function w4(t){return t instanceof SVGElement&&t.tagName!=="svg"}function b4(t,e,n){const r=pn(t)?t:Va(t);return r.start(_y("",r,e,n)),r.animation}const L1=["","X","Y","Z"],_4={visibility:"hidden"},O1=1e3;let E4=0;const ti={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Sk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=E4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ti.totalNodes=ti.resolvedTargetDeltas=ti.recalculatedProjection=0,this.nodes.forEach(S4),this.nodes.forEach(C4),this.nodes.forEach(P4),this.nodes.forEach(N4),x4(ti)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new y4)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ky),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=w4(a),this.instance=a;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=v4(m,250),Bu.hasAnimatedSinceResize&&(Bu.hasAnimatedSinceResize=!1,this.nodes.forEach(F1))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||O4,{onLayoutAnimationStart:N,onLayoutAnimationComplete:_}=h.getProps(),y=!this.targetLayout||!kk(this.targetLayout,T)||g,x=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const j={...by(S,"layout"),onPlay:N,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||F1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V1);return}this.isUpdating||this.nodes.forEach(A4),this.isUpdating=!1,this.nodes.forEach(I4),this.nodes.forEach(T4),this.nodes.forEach(k4),this.clearAllSnapshots();const l=performance.now();zt.delta=Cs(0,1e3/60,l-zt.timestamp),zt.timestamp=l,zt.isProcessing=!0,Gf.update.process(zt),Gf.preRender.process(zt),Gf.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(j4),this.sharedNodes.forEach(M4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Tk(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&(l||ei(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),V4(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return at();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(ts(l.x,c.offset.x),ts(l.y,c.offset.y)),l}removeElementScroll(a){const l=at();Rn(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){Rn(l,a);const{scroll:m}=this.root;m&&(ts(l.x,-m.offset.x),ts(l.y,-m.offset.y))}ts(l.x,h.offset.x),ts(l.y,h.offset.y)}}return l}applyTransform(a,l=!1){const c=at();Rn(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&va(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ei(h.latestValues)&&va(c,h.latestValues)}return ei(this.latestValues)&&va(c,this.latestValues),c}removeTransform(a){const l=at();Rn(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ei(d.latestValues))continue;Ap(d.latestValues)&&d.updateSnapshot();const h=at(),f=d.measurePageBox();Rn(h,f),P1(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ei(this.latestValues)&&P1(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),al(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),vk(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),al(this.relativeTargetOrigin,this.target,g.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ti.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Ap(this.parent.latestValues)||yk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Rn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;KM(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:T}=l;if(!T){this.projectionTransform&&(this.projectionDelta=ya(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ya(),this.projectionDeltaWithTransform=ya());const S=this.projectionTransform;il(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=D1(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),ti.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=at(),g=c?c.source:void 0,T=this.layout?this.layout.source:void 0,S=g!==T,N=this.getStack(),_=!N||N.members.length<=1,y=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some(L4));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const D=j/1e3;U1(f.x,a.x,D),U1(f.y,a.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(al(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D4(this.relativeTarget,this.relativeTargetOrigin,m,D),x&&m4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=at()),Rn(x,this.relativeTarget)),S&&(this.animationValues=h,l4(h,d,this.latestValues,D,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{Bu.hasAnimatedSinceResize=!0,this.currentAnimation=b4(0,O1,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&Nk(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||at();const f=An(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const m=An(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Rn(l,c),va(l,h),il(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new p4),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const d={};for(let h=0;h<L1.length;h++){const f="rotate"+L1[h];c[f]&&(d[f]=c[f],a.setStaticValue(f,0))}a.render();for(const h in d)a.setStaticValue(h,d[h]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _4;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Uu(a==null?void 0:a.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Uu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ei(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=D1(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x:g,y:T}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${T.origin*100}% 0`,f.animationValues?d.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in Nd){if(m[S]===void 0)continue;const{correct:N,applyTo:_}=Nd[S],y=d.transform==="none"?m[S]:N(m[S],f);if(_){const x=_.length;for(let j=0;j<x;j++)d[_[j]]=y}else d[S]=y}return this.options.layoutId&&(d.pointerEvents=f===this?Uu(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(V1),this.root.sharedNodes.clear()}}}function T4(t){t.updateLayout()}function k4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Mn(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],g=An(m);m.min=r[f].min,m.max=m.min+g}):Nk(i,n.layoutBox,r)&&Mn(f=>{const m=a?n.measuredBox[f]:n.layoutBox[f],g=An(r[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const l=ya();il(l,r,n.layoutBox);const c=ya();a?il(c,t.applyTransform(s,!0),n.measuredBox):il(c,r,n.layoutBox);const d=!Tk(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const T=at();al(T,n.layoutBox,m.layoutBox);const S=at();al(S,r,g.layoutBox),kk(T,S)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function S4(t){ti.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function N4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j4(t){t.clearSnapshot()}function V1(t){t.clearMeasurements()}function A4(t){t.isLayoutDirty=!1}function I4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function F1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function C4(t){t.resolveTargetDelta()}function P4(t){t.calcProjection()}function R4(t){t.resetRotation()}function M4(t){t.removeLeadSnapshot()}function U1(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function B1(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function D4(t,e,n,r){B1(t.x,e.x,n.x,r),B1(t.y,e.y,n.y,r)}function L4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const O4={duration:.45,ease:[.4,0,.1,1]},z1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),$1=z1("applewebkit/")&&!z1("chrome/")?Math.round:rt;function H1(t){t.min=$1(t.min),t.max=$1(t.max)}function V4(t){H1(t.x),H1(t.y)}function Nk(t,e,n){return t==="position"||t==="preserve-aspect"&&!Np(M1(e),M1(n),.2)}const F4=Sk({attachResizeListener:(t,e)=>Nr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sm={current:void 0},jk=Sk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sm.current){const t=new F4({});t.mount(window),t.setOptions({layoutScroll:!0}),sm.current=t}return sm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),U4={pan:{Feature:n4},drag:{Feature:t4,ProjectionNode:jk,MeasureLayout:bk}},B4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function z4(t){const e=B4.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Cp(t,e,n=1){const[r,s]=z4(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return uk(a)?parseFloat(a):a}else return wp(s)?Cp(s,e,n+1):s}function $4(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!wp(i))return;const a=Cp(i,r);a&&s.set(a)});for(const s in e){const i=e[s];if(!wp(i))continue;const a=Cp(i,r);a&&(e[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const H4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Ak=t=>H4.has(t),W4=t=>Object.keys(t).some(Ak),W1=t=>t===Oi||t===de,q1=(t,e)=>parseFloat(t.split(", ")[e]),G1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return q1(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?q1(i[1],t):0}},q4=new Set(["x","y","z"]),G4=oc.filter(t=>!q4.has(t));function K4(t){const e=[];return G4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Fa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:G1(4,13),y:G1(5,14)};Fa.translateX=Fa.x;Fa.translateY=Fa.y;const Q4=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=Fa[d](r,i)}),e.render();const c=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(l[d]),t[d]=Fa[d](c,i)}),t},Y4=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(Ak);let i=[],a=!1;const l=[];if(s.forEach(c=>{const d=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],f=Po(h);const m=e[c];let g;if(Ad(m)){const T=m.length,S=m[0]===null?1:0;h=m[S],f=Po(h);for(let N=S;N<T&&m[N]!==null;N++)g?Id(Po(m[N])===g):g=Po(m[N])}else g=Po(m);if(f!==g)if(W1(f)&&W1(g)){const T=d.get();typeof T=="string"&&d.set(parseFloat(T)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&g===de&&(e[c]=m.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(h===0||m===0)?h===0?d.set(g.transform(h)):e[c]=f.transform(m):(a||(i=K4(t),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],d.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,d=Q4(e,t,l);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),Eh&&c!==null&&window.scrollTo({top:c}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function X4(t,e,n,r){return W4(e)?Y4(t,e,n,r):{target:e,transitionEnd:r}}const J4=(t,e,n,r)=>{const s=$4(t,e,r);return e=s.target,r=s.transitionEnd,X4(t,e,n,r)},Pp={current:null},Ik={current:!1};function Z4(){if(Ik.current=!0,!!Eh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pp.current=t.matches;t.addListener(e),e()}else Pp.current=!1}function eD(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],a=n[s];if(pn(i))t.addValue(s,i),Md(r)&&r.add(s);else if(pn(a))t.addValue(s,Va(i,{owner:t})),Md(r)&&r.remove(s);else if(a!==i)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,Va(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const K1=new WeakMap,Ck=Object.keys(Ll),tD=Ck.length,Q1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nD=ly.length;class rD{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Oe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=kh(n),this.isVariantNode=pT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const m=h[f];l[f]!==void 0&&pn(m)&&(m.set(l[f],!1),Md(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,K1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Ik.current||Z4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){K1.delete(this.current),this.projection&&this.projection.unmount(),Fr(this.notifyUpdate),Fr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Li.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Oe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let a,l;for(let c=0;c<tD;c++){const d=Ck[c],{isEnabled:h,Feature:f,ProjectionNode:m,MeasureLayout:g}=Ll[d];m&&(a=m),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:d,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:g}=n;this.projection.setOptions({layoutId:c,layout:d,alwaysMeasureLayout:!!h||f&&pa(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:g})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Q1.length;r++){const s=Q1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=eD(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<nD;r++){const s=ly[r],i=this.props[s];(Dl(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Va(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=gy(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ky),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Pk extends rD{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let a=wM(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){vM(this,r,a);const l=J4(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function sD(t){return window.getComputedStyle(t)}class iD extends Pk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Li.has(n)){const r=wy(n);return r&&r.default||0}else{const r=sD(e),s=(xT(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return xk(e,n)}build(e,n,r,s){dy(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return py(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){kT(e,n,r,s)}}class aD extends Pk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Li.has(n)){const r=wy(n);return r&&r.default||0}return n=ST.has(n)?n:ay(n),e.getAttribute(n)}measureInstanceViewportBox(){return at()}scrapeMotionValuesFromProps(e,n){return jT(e,n)}build(e,n,r,s){fy(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){NT(e,n,r,s)}mount(e){this.isSVGTag=my(e.tagName),super.mount(e)}}const oD=(t,e)=>uy(t)?new aD(e,{enableHardwareAcceleration:!1}):new iD(e,{enableHardwareAcceleration:!0}),lD={layout:{ProjectionNode:jk,MeasureLayout:bk}},cD={...DM,...nR,...U4,...lD},O=dP((t,e)=>$P(t,e,cD,oD));function Rk(){const t=P.useRef(!1);return iy(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function uD(){const t=Rk(),[e,n]=P.useState(0),r=P.useCallback(()=>{t.current&&n(e+1)},[e]);return[P.useCallback(()=>Oe.postRender(r),[r]),e]}class dD extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hD({children:t,isPresent:e}){const n=P.useId(),r=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),P.createElement(dD,{isPresent:e,childRef:r,sizeRef:s},P.cloneElement(t,{ref:r}))}const im=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=AT(fD),c=P.useId(),d=P.useMemo(()=>({id:c,initial:e,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),i?void 0:[n]);return P.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),P.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(t=P.createElement(hD,{isPresent:n},t)),P.createElement(_h.Provider,{value:d},t)};function fD(){return new Map}function mD(t){return P.useEffect(()=>()=>t(),[])}const ni=t=>t.key||"";function pD(t,e){t.forEach(n=>{const r=ni(n);e.set(r,n)})}function gD(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const vr=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=P.useContext(cy).forceRender||uD()[0],c=Rk(),d=gD(t);let h=d;const f=P.useRef(new Map).current,m=P.useRef(h),g=P.useRef(new Map).current,T=P.useRef(!0);if(iy(()=>{T.current=!1,pD(d,g),m.current=h}),mD(()=>{T.current=!0,g.clear(),f.clear()}),T.current)return P.createElement(P.Fragment,null,h.map(y=>P.createElement(im,{key:ni(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},y)));h=[...h];const S=m.current.map(ni),N=d.map(ni),_=S.length;for(let y=0;y<_;y++){const x=S[y];N.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return a==="wait"&&f.size&&(h=[]),f.forEach((y,x)=>{if(N.indexOf(x)!==-1)return;const j=g.get(x);if(!j)return;const D=S.indexOf(x);let C=y;if(!C){const b=()=>{f.delete(x);const w=Array.from(g.keys()).filter(E=>!N.includes(E));if(w.forEach(E=>g.delete(E)),m.current=d.filter(E=>{const k=ni(E);return k===x||w.includes(k)}),!f.size){if(c.current===!1)return;l(),r&&r()}};C=P.createElement(im,{key:ni(j),isPresent:!1,onExitComplete:b,custom:e,presenceAffectsLayout:i,mode:a},j),f.set(x,C)}h.splice(D,0,C)}),h=h.map(y=>{const x=y.key;return f.has(x)?y:P.createElement(im,{key:ni(y),isPresent:!0,presenceAffectsLayout:i,mode:a},y)}),P.createElement(P.Fragment,null,f.size?h:h.map(y=>P.cloneElement(y)))};var Y1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},Dk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|d>>6,g=d&63;c||(g=64,a||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new vD;const m=i<<2|l>>4;if(r.push(m),d!==64){const g=l<<4&240|d>>2;if(r.push(g),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xD=function(t){const e=Mk(t);return Dk.encodeByteArray(e,!0)},Ld=function(t){return xD(t).replace(/\./g,"")},Lk=function(t){try{return Dk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=()=>wD().__FIREBASE_DEFAULTS__,_D=()=>{if(typeof process>"u"||typeof Y1>"u")return;const t=Y1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ED=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lk(t[1]);return e&&JSON.parse(e)},Ah=()=>{try{return bD()||_D()||ED()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ok=t=>{var e,n;return(n=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Vk=t=>{const e=Ok(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fk=()=>{var t;return(t=Ah())===null||t===void 0?void 0:t.config},Uk=t=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ld(JSON.stringify(n)),Ld(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function SD(){var t;const e=(t=Ah())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ND(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AD(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ID(){return!SD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $k(){try{return typeof indexedDB=="object"}catch{return!1}}function Hk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function CD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PD,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vi.prototype.create)}}class Vi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?RD(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Hn(s,l,r)}}function RD(t,e){return t.replace(MD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MD=/\{\$([^}]+)}/g;function DD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(X1(i)&&X1(a)){if(!Vl(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function X1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $o(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ho(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LD(t,e){const n=new OD(t,e);return n.subscribe.bind(n)}class OD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VD(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=am),s.error===void 0&&(s.error=am),s.complete===void 0&&(s.complete=am);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1e3,UD=2,BD=4*60*60*1e3,zD=.5;function J1(t,e=FD,n=UD){const r=e*Math.pow(n,t),s=Math.round(zD*r*(Math.random()-.5)*2);return Math.min(BD,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t){return t&&t._delegate?t._delegate:t}class Bn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new TD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WD(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HD(t){return t===ri?void 0:t}function WD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $D(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const GD={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},KD=we.INFO,QD={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},YD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=QD[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=KD,this._logHandler=YD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const XD=(t,e)=>e.some(n=>t instanceof n);let Z1,ew;function JD(){return Z1||(Z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZD(){return ew||(ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wk=new WeakMap,Rp=new WeakMap,qk=new WeakMap,om=new WeakMap,Sy=new WeakMap;function eL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Ts(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Wk.set(n,t)}).catch(()=>{}),Sy.set(e,t),e}function tL(t){if(Rp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Rp.set(t,e)}let Mp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nL(t){Mp=t(Mp)}function rL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lm(this),e,...n);return qk.set(r,e.sort?e.sort():[e]),Ts(r)}:ZD().includes(t)?function(...e){return t.apply(lm(this),e),Ts(Wk.get(this))}:function(...e){return Ts(t.apply(lm(this),e))}}function sL(t){return typeof t=="function"?rL(t):(t instanceof IDBTransaction&&tL(t),XD(t,JD())?new Proxy(t,Mp):t)}function Ts(t){if(t instanceof IDBRequest)return eL(t);if(om.has(t))return om.get(t);const e=sL(t);return e!==t&&(om.set(t,e),Sy.set(e,t)),e}const lm=t=>Sy.get(t);function Gk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Ts(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ts(a.result),c.oldVersion,c.newVersion,Ts(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const iL=["get","getKey","getAll","getAllKeys","count"],aL=["put","add","delete","clear"],cm=new Map;function tw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=aL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||iL.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return cm.set(e,i),i}nL(t=>({...t,get:(e,n,r)=>tw(e,n)||t.get(e,n,r),has:(e,n)=>!!tw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dp="@firebase/app",nw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Ih("@firebase/app"),cL="@firebase/app-compat",uL="@firebase/analytics-compat",dL="@firebase/analytics",hL="@firebase/app-check-compat",fL="@firebase/app-check",mL="@firebase/auth",pL="@firebase/auth-compat",gL="@firebase/database",yL="@firebase/data-connect",vL="@firebase/database-compat",xL="@firebase/functions",wL="@firebase/functions-compat",bL="@firebase/installations",_L="@firebase/installations-compat",EL="@firebase/messaging",TL="@firebase/messaging-compat",kL="@firebase/performance",SL="@firebase/performance-compat",NL="@firebase/remote-config",jL="@firebase/remote-config-compat",AL="@firebase/storage",IL="@firebase/storage-compat",CL="@firebase/firestore",PL="@firebase/vertexai-preview",RL="@firebase/firestore-compat",ML="firebase",DL="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",LL={[Dp]:"fire-core",[cL]:"fire-core-compat",[dL]:"fire-analytics",[uL]:"fire-analytics-compat",[fL]:"fire-app-check",[hL]:"fire-app-check-compat",[mL]:"fire-auth",[pL]:"fire-auth-compat",[gL]:"fire-rtdb",[yL]:"fire-data-connect",[vL]:"fire-rtdb-compat",[xL]:"fire-fn",[wL]:"fire-fn-compat",[bL]:"fire-iid",[_L]:"fire-iid-compat",[EL]:"fire-fcm",[TL]:"fire-fcm-compat",[kL]:"fire-perf",[SL]:"fire-perf-compat",[NL]:"fire-rc",[jL]:"fire-rc-compat",[AL]:"fire-gcs",[IL]:"fire-gcs-compat",[CL]:"fire-fst",[RL]:"fire-fst-compat",[PL]:"fire-vertex","fire-js":"fire-js",[ML]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Map,OL=new Map,Op=new Map;function rw(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function er(t){const e=t.name;if(Op.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,t);for(const n of Od.values())rw(n,t);for(const n of OL.values())rw(n,t);return!0}function zs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new Vi("app","Firebase",VL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=DL;function Kk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ks.create("bad-app-name",{appName:String(s)});if(n||(n=Fk()),!n)throw ks.create("no-options");const i=Od.get(s);if(i){if(Vl(n,i.options)&&Vl(r,i.config))return i;throw ks.create("duplicate-app",{appName:s})}const a=new qD(s);for(const c of Op.values())a.addComponent(c);const l=new FL(n,r,a);return Od.set(s,l),l}function Ch(t=Lp){const e=Od.get(t);if(!e&&t===Lp&&Fk())return Kk();if(!e)throw ks.create("no-app",{appName:t});return e}function hn(t,e,n){var r;let s=(r=LL[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(l.join(" "));return}er(new Bn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="firebase-heartbeat-database",BL=1,Fl="firebase-heartbeat-store";let um=null;function Qk(){return um||(um=Gk(UL,BL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ks.create("idb-open",{originalErrorMessage:t.message})})),um}async function zL(t){try{const n=(await Qk()).transaction(Fl),r=await n.objectStore(Fl).get(Yk(t));return await n.done,r}catch(e){if(e instanceof Hn)Ur.warn(e.message);else{const n=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function sw(t,e){try{const r=(await Qk()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,Yk(t)),await r.done}catch(n){if(n instanceof Hn)Ur.warn(n.message);else{const r=ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function Yk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=1024,HL=30*24*60*60*1e3;class WL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=iw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=HL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=iw(),{heartbeatsToSend:r,unsentEntries:s}=qL(this._heartbeatsCache.heartbeats),i=Ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ur.warn(n),""}}}function iw(){return new Date().toISOString().substring(0,10)}function qL(t,e=$L){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),aw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),aw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $k()?Hk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function aw(t){return Ld(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){er(new Bn("platform-logger",e=>new oL(e),"PRIVATE")),er(new Bn("heartbeat",e=>new WL(e),"PRIVATE")),hn(Dp,nw,t),hn(Dp,nw,"esm2017"),hn("fire-js","")}KL("");var QL="firebase",YL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn(QL,YL,"app");function Ny(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Xk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XL=Xk,Jk=new Vi("auth","Firebase",Xk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Ih("@firebase/auth");function JL(t,...e){Vd.logLevel<=we.WARN&&Vd.warn(`Auth (${Fi}): ${t}`,...e)}function zu(t,...e){Vd.logLevel<=we.ERROR&&Vd.error(`Auth (${Fi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t,...e){throw jy(t,...e)}function mr(t,...e){return jy(t,...e)}function Zk(t,e,n){const r=Object.assign(Object.assign({},XL()),{[e]:n});return new Vi("auth","Firebase",r).create(e,{appName:t.name})}function Mr(t){return Zk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Jk.create(t,...e)}function fe(t,e,...n){if(!t)throw jy(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zu(e),new Error(e)}function Br(t,e){t||jr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZL(){return ow()==="http:"||ow()==="https:"}function ow(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZL()||zk()||"connection"in navigator)?navigator.onLine:!0}function tO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=kD()||jD()}get(){return eO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new hc(3e4,6e4);function $s(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hs(t,e,n,r,s={}){return t2(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=dc(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return ND()||(d.referrerPolicy="no-referrer"),e2.fetch()(n2(t,t.config.apiHost,n,l),d)})}async function t2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nO),e);try{const s=new iO(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw vu(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vu(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw vu(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw vu(t,"user-disabled",a);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Zk(t,h,d);tr(t,h)}}catch(s){if(s instanceof Hn)throw s;tr(t,"network-request-failed",{message:String(s)})}}async function fc(t,e,n,r,s={}){const i=await Hs(t,e,n,r,s);return"mfaPendingCredential"in i&&tr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function n2(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ay(t.config,s):`${t.config.apiScheme}://${s}`}function sO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),rO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mr(t,e,r);return s.customData._tokenResponse=n,s}function lw(t){return t!==void 0&&t.enterprise!==void 0}class aO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function oO(t,e){return Hs(t,"GET","/v2/recaptchaConfig",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(t,e){return Hs(t,"POST","/v1/accounts:delete",e)}async function r2(t,e){return Hs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cO(t,e=!1){const n=Ie(t),r=await n.getIdToken(e),s=Iy(r);fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ol(dm(s.auth_time)),issuedAtTime:ol(dm(s.iat)),expirationTime:ol(dm(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function dm(t){return Number(t)*1e3}function Iy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Lk(n);return s?JSON.parse(s):(zu("Failed to decode base64 JWT payload"),null)}catch(s){return zu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cw(t){const e=Iy(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&uO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ul(t,r2(n,{idToken:r}));fe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?s2(i.providerUserInfo):[],l=fO(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Fp(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function hO(t){const e=Ie(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fO(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function s2(t){return t.map(e=>{var{providerId:n}=e,r=Ny(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e){const n=await t2(t,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=n2(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",e2.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pO(t,e){return Hs(t,"POST","/v2/accounts:revokeToken",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=cw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await mO(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new Na;return r&&(fe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(fe(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(fe(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ar{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cO(this,e)}reload(){return hO(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await Ul(this,lO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(l=n.tenantId)!==null&&l!==void 0?l:void 0,N=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(d=n.createdAt)!==null&&d!==void 0?d:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:j,isAnonymous:D,providerData:C,stsTokenManager:b}=n;fe(x&&b,e,"internal-error");const w=Na.fromJSON(this.name,b);fe(typeof x=="string",e,"internal-error"),Xr(f,e.name),Xr(m,e.name),fe(typeof j=="boolean",e,"internal-error"),fe(typeof D=="boolean",e,"internal-error"),Xr(g,e.name),Xr(T,e.name),Xr(S,e.name),Xr(N,e.name),Xr(_,e.name),Xr(y,e.name);const E=new Ar({uid:x,auth:e,email:m,emailVerified:j,displayName:f,isAnonymous:D,photoURL:T,phoneNumber:g,tenantId:S,stsTokenManager:w,createdAt:_,lastLoginAt:y});return C&&Array.isArray(C)&&(E.providerData=C.map(k=>Object.assign({},k))),N&&(E._redirectEventId=N),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Na;s.updateFromServerResponse(n);const i=new Ar({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Fd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];fe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?s2(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Na;l.updateFromIdToken(r);const c=new Ar({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Fp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;function Ir(t){Br(t instanceof Function,"Expected a class definition");let e=uw.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}i2.type="NONE";const dw=i2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e,n){return`firebase:${t}:${e}:${n}`}class ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$u(this.userKey,s.apiKey,i),this.fullPersistenceKey=$u("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ja(Ir(dw),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ir(dw);const a=$u(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){const f=Ar._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ja(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new ja(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d2(e))return"Blackberry";if(h2(e))return"Webos";if(o2(e))return"Safari";if((e.includes("chrome/")||l2(e))&&!e.includes("edge/"))return"Chrome";if(u2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function a2(t=Gt()){return/firefox\//i.test(t)}function o2(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l2(t=Gt()){return/crios\//i.test(t)}function c2(t=Gt()){return/iemobile/i.test(t)}function u2(t=Gt()){return/android/i.test(t)}function d2(t=Gt()){return/blackberry/i.test(t)}function h2(t=Gt()){return/webos/i.test(t)}function Cy(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gO(t=Gt()){var e;return Cy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yO(){return AD()&&document.documentMode===10}function f2(t=Gt()){return Cy(t)||u2(t)||h2(t)||d2(t)||/windows phone/i.test(t)||c2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t,e=[]){let n;switch(t){case"Browser":n=hw(Gt());break;case"Worker":n=`${hw(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e={}){return Hs(t,"GET","/v2/passwordPolicy",$s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=6;class bO{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:wO,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fw(this),this.idTokenSubscription=new fw(this),this.beforeStateQueue=new vO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await r2(this,{idToken:e}),r=await Ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(Mr(this));const n=e?Ie(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xO(this),n=new bO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ui(t){return Ie(t)}class fw{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EO(t){Ph=t}function p2(t){return Ph.loadJS(t)}function TO(){return Ph.recaptchaEnterpriseScript}function kO(){return Ph.gapiScript}function SO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const NO="recaptcha-enterprise",jO="NO_RECAPTCHA";class AO{constructor(e){this.type=NO,this.auth=Ui(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{oO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new aO(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;lw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(jO)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&lw(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=TO();c.length!==0&&(c+=l),p2(c).then(()=>{s(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function mw(t,e,n,r=!1){const s=new AO(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Up(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await mw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await mw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t,e){const n=zs(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vl(i,e??{}))return s;tr(s,"already-initialized")}return n.initialize({options:e})}function CO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PO(t,e,n){const r=Ui(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=g2(e),{host:a,port:l}=RO(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),MO()}function g2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RO(t){const e=g2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:pw(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:pw(a)}}}function pw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function DO(t,e){return Hs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}async function VO(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends Py{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Bl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,n,"signInWithPassword",LO);case"emailLink":return OO(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,r,"signUpPassword",DO);case"emailLink":return VO(e,{idToken:n,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="http://localhost";class _i extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ny(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new _i(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Aa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Aa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Aa(e,n)}buildRequest(){const e={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BO(t){const e=$o(Ho(t)).link,n=e?$o(Ho(e)).deep_link_id:null,r=$o(Ho(t)).deep_link_id;return(r?$o(Ho(r)).link:null)||r||n||e||t}class Ry{constructor(e){var n,r,s,i,a,l;const c=$o(Ho(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=UO((s=c.mode)!==null&&s!==void 0?s:null);fe(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=BO(e);try{return new Ry(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,n){return Bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ry.parseLink(n);return fe(r,"argument-error"),Bl._fromEmailAndCode(e,r.code,r.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends y2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends mc{constructor(){super("facebook.com")}static credential(e){return _i._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _i._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return is.credential(n,r)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends mc{constructor(){super("github.com")}static credential(e){return _i._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends mc{constructor(){super("twitter.com")}static credential(e,n){return _i._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zO(t,e){return fc(t,"POST","/v1/accounts:signUp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ar._fromIdTokenResponse(e,r,s),a=gw(r);return new Ei({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=gw(r);return new Ei({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Hn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ud(e,n,r,s)}}function v2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(t,i,e,r):i})}async function $O(t,e,n=!1){const r=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ei._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e,n=!1){const{auth:r}=t;if(cr(r.app))return Promise.reject(Mr(r));const s="reauthenticate";try{const i=await Ul(t,v2(r,s,e,t),n);fe(i.idToken,r,"internal-error");const a=Iy(i.idToken);fe(a,r,"internal-error");const{sub:l}=a;return fe(t.uid===l,r,"user-mismatch"),Ei._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(t,e,n=!1){if(cr(t.app))return Promise.reject(Mr(t));const r="signIn",s=await v2(t,r,e),i=await Ei._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function WO(t,e){return x2(Ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(t){const e=Ui(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qO(t,e,n){if(cr(t.app))return Promise.reject(Mr(t));const r=Ui(t),a=await Up(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&w2(t),c}),l=await Ei._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function GO(t,e,n){return cr(t.app)?Promise.reject(Mr(t)):WO(Ie(t),Xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w2(t),r})}function KO(t,e,n,r){return Ie(t).onIdTokenChanged(e,n,r)}function QO(t,e,n){return Ie(t).beforeAuthStateChanged(e,n)}function YO(t,e,n,r){return Ie(t).onAuthStateChanged(e,n,r)}function XO(t){return Ie(t).signOut()}const Bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=1e3,ZO=10;class _2 extends b2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);yO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,ZO):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_2.type="LOCAL";const eV=_2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2 extends b2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E2.type="SESSION";const T2=E2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async d=>d(n.origin,i)),c=await tV(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const d=My("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function rV(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function sV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aV(){return k2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="firebaseLocalStorageDb",oV=1,zd="firebaseLocalStorage",N2="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(t,e){return t.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function lV(){const t=indexedDB.deleteDatabase(S2);return new pc(t).toPromise()}function Bp(){const t=indexedDB.open(S2,oV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zd,{keyPath:N2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zd)?e(r):(r.close(),await lV(),e(await Bp()))})})}async function yw(t,e,n){const r=Mh(t,!0).put({[N2]:e,value:n});return new pc(r).toPromise()}async function cV(t,e){const n=Mh(t,!1).get(e),r=await new pc(n).toPromise();return r===void 0?null:r.value}function vw(t,e){const n=Mh(t,!0).delete(e);return new pc(n).toPromise()}const uV=800,dV=3;class j2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(aV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sV(),!this.activeServiceWorker)return;this.sender=new nV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await yw(e,Bd,"1"),await vw(e,Bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Mh(s,!1).getAll();return new pc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j2.type="LOCAL";const hV=j2;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t,e){return e?Ir(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends Py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mV(t){return x2(t.auth,new Dy(t),t.bypassAuthState)}function pV(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),HO(n,new Dy(t),t.bypassAuthState)}async function gV(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),$O(n,new Dy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return gV;case"reauthViaPopup":case"reauthViaRedirect":return pV;default:tr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new hc(2e3,1e4);class xa extends A2{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=My();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yV.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="pendingRedirect",Hu=new Map;class xV extends A2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hu.get(this.auth._key());if(!e){try{const r=await wV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hu.set(this.auth._key(),e)}return this.bypassAuthState||Hu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wV(t,e){const n=EV(e),r=_V(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function bV(t,e){Hu.set(t._key(),e)}function _V(t){return Ir(t._redirectPersistence)}function EV(t){return $u(vV,t.config.apiKey,t.name)}async function TV(t,e,n=!1){if(cr(t.app))return Promise.reject(Mr(t));const r=Ui(t),s=fV(r,e),a=await new xV(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=10*60*1e3;class SV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!I2(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kV&&this.cachedEventUids.clear(),this.cachedEventUids.has(xw(e))}saveEventToCache(e){this.cachedEventUids.add(xw(e)),this.lastProcessedEventTime=Date.now()}}function xw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e={}){return Hs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IV=/^https?/;async function CV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jV(t);for(const n of e)try{if(PV(n))return}catch{}tr(t,"unauthorized-domain")}function PV(t){const e=Vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!IV.test(n))return!1;if(AV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new hc(3e4,6e4);function ww(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MV(t){return new Promise((e,n)=>{var r,s,i;function a(){ww(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ww(),n(mr(t,"network-request-failed"))},timeout:RV.get()})}if(!((s=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=pr().gapi)===null||i===void 0)&&i.load)a();else{const l=SO("iframefcb");return pr()[l]=()=>{gapi.load?a():n(mr(t,"network-request-failed"))},p2(`${kO()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Wu=null,e})}let Wu=null;function DV(t){return Wu=Wu||MV(t),Wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new hc(5e3,15e3),OV="__/auth/iframe",VV="emulator/auth/iframe",FV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BV(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ay(e,VV):`https://${t.config.authDomain}/${OV}`,r={apiKey:e.apiKey,appName:t.name,v:Fi},s=UV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${dc(r).slice(1)}`}async function zV(t){const e=await DV(t),n=pr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:BV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=mr(t,"network-request-failed"),l=pr().setTimeout(()=>{i(a)},LV.get());function c(){pr().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HV=500,WV=600,qV="_blank",GV="http://localhost";class bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KV(t,e,n,r=HV,s=WV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},$V),{width:r.toString(),height:s.toString(),top:i,left:a}),d=Gt().toLowerCase();n&&(l=l2(d)?qV:n),a2(d)&&(e=e||GV,c.scrollbars="yes");const h=Object.entries(c).reduce((m,[g,T])=>`${m}${g}=${T},`,"");if(gO(d)&&l!=="_self")return QV(e||"",l),new bw(null);const f=window.open(e||"",l,h);fe(f,t,"popup-blocked");try{f.focus()}catch{}return new bw(f)}function QV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="__/auth/handler",XV="emulator/auth/handler",JV=encodeURIComponent("fac");async function _w(t,e,n,r,s,i){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fi,eventId:s};if(e instanceof y2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",DD(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof mc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${JV}=${encodeURIComponent(c)}`:"";return`${ZV(t)}?${dc(l).slice(1)}${d}`}function ZV({config:t}){return t.emulator?Ay(t,XV):`https://${t.authDomain}/${YV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class e3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T2,this._completeRedirectFn=TV,this._overrideRedirectResult=bV}async _openPopup(e,n,r,s){var i;Br((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await _w(e,n,r,Vp(),s);return KV(e,a,My())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await _w(e,n,r,Vp(),s);return rV(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zV(e),r=new SV(e);return n.register("authEvent",s=>(fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[hm];a!==void 0&&n(!!a),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f2()||o2()||Cy()}}const t3=e3;var Ew="@firebase/auth",Tw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s3(t){er(new Bn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;fe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m2(t)},d=new _O(r,s,i,c);return CO(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),er(new Bn("auth-internal",e=>{const n=Ui(e.getProvider("auth").getImmediate());return(r=>new n3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(Ew,Tw,r3(t)),hn(Ew,Tw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=5*60,a3=Uk("authIdTokenMaxAge")||i3;let kw=null;const o3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>a3)return;const s=n==null?void 0:n.token;kw!==s&&(kw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function l3(t=Ch()){const e=zs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IO(t,{popupRedirectResolver:t3,persistence:[hV,eV,T2]}),r=Uk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=o3(i.toString());QO(n,a,()=>a(n.currentUser)),KO(n,l=>a(l))}}const s=Ok("auth");return s&&PO(n,`http://${s}`),n}function c3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=mr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",c3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s3("Browser");const C2="@firebase/installations",Ly="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1e4,R2=`w:${Ly}`,M2="FIS_v2",u3="https://firebaseinstallations.googleapis.com/v1",d3=60*60*1e3,h3="installations",f3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ti=new Vi(h3,f3,m3);function D2(t){return t instanceof Hn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2({projectId:t}){return`${u3}/projects/${t}/installations`}function O2(t){return{token:t.token,requestStatus:2,expiresIn:g3(t.expiresIn),creationTime:Date.now()}}async function V2(t,e){const r=(await e.json()).error;return Ti.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function F2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function p3(t,{refreshToken:e}){const n=F2(t);return n.append("Authorization",y3(e)),n}async function U2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function g3(t){return Number(t.replace("s","000"))}function y3(t){return`${M2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=L2(t),s=F2(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={fid:n,authVersion:M2,appId:t.appId,sdkVersion:R2},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await U2(()=>fetch(r,l));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:O2(d.authToken)}}else throw await V2("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=/^[cdef][\w-]{21}$/,zp="";function b3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_3(t);return w3.test(n)?n:zp}catch{return zp}}function _3(t){return x3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Map;function $2(t,e){const n=Dh(t);H2(n,e),E3(n,e)}function H2(t,e){const n=z2.get(t);if(n)for(const r of n)r(e)}function E3(t,e){const n=T3();n&&n.postMessage({key:t,fid:e}),k3()}let li=null;function T3(){return!li&&"BroadcastChannel"in self&&(li=new BroadcastChannel("[Firebase] FID Change"),li.onmessage=t=>{H2(t.data.key,t.data.fid)}),li}function k3(){z2.size===0&&li&&(li.close(),li=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="firebase-installations-database",N3=1,ki="firebase-installations-store";let fm=null;function Oy(){return fm||(fm=Gk(S3,N3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ki)}}})),fm}async function $d(t,e){const n=Dh(t),s=(await Oy()).transaction(ki,"readwrite"),i=s.objectStore(ki),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&$2(t,e.fid),e}async function W2(t){const e=Dh(t),r=(await Oy()).transaction(ki,"readwrite");await r.objectStore(ki).delete(e),await r.done}async function Lh(t,e){const n=Dh(t),s=(await Oy()).transaction(ki,"readwrite"),i=s.objectStore(ki),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&$2(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(t){let e;const n=await Lh(t.appConfig,r=>{const s=j3(r),i=A3(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===zp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j3(t){const e=t||{fid:b3(),registrationStatus:0};return q2(e)}function A3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ti.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=I3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:C3(t)}:{installationEntry:e}}async function I3(t,e){try{const n=await v3(t,e);return $d(t.appConfig,n)}catch(n){throw D2(n)&&n.customData.serverCode===409?await W2(t.appConfig):await $d(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function C3(t){let e=await Sw(t.appConfig);for(;e.registrationStatus===1;)await B2(100),e=await Sw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Vy(t);return r||n}return e}function Sw(t){return Lh(t,e=>{if(!e)throw Ti.create("installation-not-found");return q2(e)})}function q2(t){return P3(t)?{fid:t.fid,registrationStatus:0}:t}function P3(t){return t.registrationStatus===1&&t.registrationTime+P2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3({appConfig:t,heartbeatServiceProvider:e},n){const r=M3(t,n),s=p3(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const a={installation:{sdkVersion:R2,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await U2(()=>fetch(r,l));if(c.ok){const d=await c.json();return O2(d)}else throw await V2("Generate Auth Token",c)}function M3(t,{fid:e}){return`${L2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t,e=!1){let n;const r=await Lh(t.appConfig,i=>{if(!G2(i))throw Ti.create("not-registered");const a=i.authToken;if(!e&&O3(a))return i;if(a.requestStatus===1)return n=D3(t,e),i;{if(!navigator.onLine)throw Ti.create("app-offline");const l=F3(i);return n=L3(t,l),l}});return n?await n:r.authToken}async function D3(t,e){let n=await Nw(t.appConfig);for(;n.authToken.requestStatus===1;)await B2(100),n=await Nw(t.appConfig);const r=n.authToken;return r.requestStatus===0?Fy(t,e):r}function Nw(t){return Lh(t,e=>{if(!G2(e))throw Ti.create("not-registered");const n=e.authToken;return U3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function L3(t,e){try{const n=await R3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await $d(t.appConfig,r),n}catch(n){if(D2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await W2(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $d(t.appConfig,r)}throw n}}function G2(t){return t!==void 0&&t.registrationStatus===2}function O3(t){return t.requestStatus===2&&!V3(t)}function V3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+d3}function F3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function U3(t){return t.requestStatus===1&&t.requestTime+P2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(t){const e=t,{installationEntry:n,registrationPromise:r}=await Vy(e);return r?r.catch(console.error):Fy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t,e=!1){const n=t;return await $3(n),(await Fy(n,e)).token}async function $3(t){const{registrationPromise:e}=await Vy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){if(!t||!t.options)throw mm("App Configuration");if(!t.name)throw mm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw mm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function mm(t){return Ti.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="installations",W3="installations-internal",q3=t=>{const e=t.getProvider("app").getImmediate(),n=H3(e),r=zs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},G3=t=>{const e=t.getProvider("app").getImmediate(),n=zs(e,K2).getImmediate();return{getId:()=>B3(n),getToken:s=>z3(n,s)}};function K3(){er(new Bn(K2,q3,"PUBLIC")),er(new Bn(W3,G3,"PRIVATE"))}K3();hn(C2,Ly);hn(C2,Ly,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="analytics",Q3="firebase_id",Y3="origin",X3=60*1e3,J3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new Vi("analytics","Analytics",Z3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){if(!t.startsWith(Uy)){const e=kn.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function Q2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tF(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nF(t,e){const n=tF("firebase-js-sdk-policy",{createScriptURL:eF}),r=document.createElement("script"),s=`${Uy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function rF(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function sF(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const c=(await Q2(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(l){fn.error(l)}t("config",s,i)}async function iF(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await Q2(n);for(const c of a){const d=l.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){fn.error(i)}}function aF(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[l,c]=a;await iF(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await sF(t,e,n,r,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,d]=a;t("get",l,c,d)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){fn.error(l)}}return s}function oF(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=aF(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function lF(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Uy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=30,uF=1e3;class dF{constructor(e={},n=uF){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Y2=new dF;function hF(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fF(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:hF(r)},i=J3.replace("{app-id}",n),a=await fetch(i,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function mF(t,e=Y2,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw kn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw kn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new yF;return setTimeout(async()=>{l.abort()},X3),X2({appId:r,apiKey:s,measurementId:i},a,l,e)}async function X2(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=Y2){var i;const{appId:a,measurementId:l}=t;try{await pF(r,e)}catch(c){if(l)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await fF(t);return s.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!gF(d)){if(s.deleteThrottleMetadata(a),l)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:a,measurementId:l};throw c}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?J1(n,s.intervalMillis,cF):J1(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(a,f),fn.debug(`Calling attemptFetch again in ${h} millis`),X2(t,f,r,s)}}function pF(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gF(t){if(!(t instanceof Hn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yF{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vF(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a=Object.assign(Object.assign({},r),{send_to:i});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(){if($k())try{await Hk()}catch(t){return fn.warn(kn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wF(t,e,n,r,s,i,a){var l;const c=mF(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>fn.error(g)),e.push(c);const d=xF().then(g=>{if(g)return r.getId()}),[h,f]=await Promise.all([c,d]);lF(i)||nF(i,h.measurementId),s("js",new Date);const m=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return m[Y3]="firebase",m.update=!0,f!=null&&(m[Q3]=f),s("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},jw=[];const Aw={};let pm="dataLayer",_F="gtag",Iw,J2,Cw=!1;function EF(){const t=[];if(zk()&&t.push("This is a browser extension environment."),CD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function TF(t,e,n){EF();const r=t.options.appId;if(!r)throw kn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(ll[r]!=null)throw kn.create("already-exists",{id:r});if(!Cw){rF(pm);const{wrappedGtag:i,gtagCore:a}=oF(ll,jw,Aw,pm,_F);J2=i,Iw=a,Cw=!0}return ll[r]=wF(t,jw,Aw,e,Iw,pm,n),new bF(t)}function kF(t=Ch()){t=Ie(t);const e=zs(t,Hd);return e.isInitialized()?e.getImmediate():SF(t)}function SF(t,e={}){const n=zs(t,Hd);if(n.isInitialized()){const s=n.getImmediate();if(Vl(e,n.getOptions()))return s;throw kn.create("already-initialized")}return n.initialize({options:e})}function NF(t,e,n,r){t=Ie(t),vF(J2,ll[t.app.options.appId],e,n,r).catch(s=>fn.error(s))}const Pw="@firebase/analytics",Rw="0.10.8";function jF(){er(new Bn(Hd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return TF(r,s,n)},"PUBLIC")),er(new Bn("analytics-internal",t,"PRIVATE")),hn(Pw,Rw),hn(Pw,Rw,"esm2017");function t(e){try{const n=e.getProvider(Hd).getImmediate();return{logEvent:(r,s,i)=>NF(n,r,s,i)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}jF();var Mw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mi,Z2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,w){function E(){}E.prototype=w.prototype,b.D=w.prototype,b.prototype=new E,b.prototype.constructor=b,b.C=function(k,M,R){for(var A=Array(arguments.length-2),X=2;X<arguments.length;X++)A[X-2]=arguments[X];return w.prototype[M].apply(k,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,w,E){E||(E=0);var k=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)k[M]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(M=0;16>M;++M)k[M]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=b.g[0],E=b.g[1],M=b.g[2];var R=b.g[3],A=w+(R^E&(M^R))+k[0]+3614090360&4294967295;w=E+(A<<7&4294967295|A>>>25),A=R+(M^w&(E^M))+k[1]+3905402710&4294967295,R=w+(A<<12&4294967295|A>>>20),A=M+(E^R&(w^E))+k[2]+606105819&4294967295,M=R+(A<<17&4294967295|A>>>15),A=E+(w^M&(R^w))+k[3]+3250441966&4294967295,E=M+(A<<22&4294967295|A>>>10),A=w+(R^E&(M^R))+k[4]+4118548399&4294967295,w=E+(A<<7&4294967295|A>>>25),A=R+(M^w&(E^M))+k[5]+1200080426&4294967295,R=w+(A<<12&4294967295|A>>>20),A=M+(E^R&(w^E))+k[6]+2821735955&4294967295,M=R+(A<<17&4294967295|A>>>15),A=E+(w^M&(R^w))+k[7]+4249261313&4294967295,E=M+(A<<22&4294967295|A>>>10),A=w+(R^E&(M^R))+k[8]+1770035416&4294967295,w=E+(A<<7&4294967295|A>>>25),A=R+(M^w&(E^M))+k[9]+2336552879&4294967295,R=w+(A<<12&4294967295|A>>>20),A=M+(E^R&(w^E))+k[10]+4294925233&4294967295,M=R+(A<<17&4294967295|A>>>15),A=E+(w^M&(R^w))+k[11]+2304563134&4294967295,E=M+(A<<22&4294967295|A>>>10),A=w+(R^E&(M^R))+k[12]+1804603682&4294967295,w=E+(A<<7&4294967295|A>>>25),A=R+(M^w&(E^M))+k[13]+4254626195&4294967295,R=w+(A<<12&4294967295|A>>>20),A=M+(E^R&(w^E))+k[14]+2792965006&4294967295,M=R+(A<<17&4294967295|A>>>15),A=E+(w^M&(R^w))+k[15]+1236535329&4294967295,E=M+(A<<22&4294967295|A>>>10),A=w+(M^R&(E^M))+k[1]+4129170786&4294967295,w=E+(A<<5&4294967295|A>>>27),A=R+(E^M&(w^E))+k[6]+3225465664&4294967295,R=w+(A<<9&4294967295|A>>>23),A=M+(w^E&(R^w))+k[11]+643717713&4294967295,M=R+(A<<14&4294967295|A>>>18),A=E+(R^w&(M^R))+k[0]+3921069994&4294967295,E=M+(A<<20&4294967295|A>>>12),A=w+(M^R&(E^M))+k[5]+3593408605&4294967295,w=E+(A<<5&4294967295|A>>>27),A=R+(E^M&(w^E))+k[10]+38016083&4294967295,R=w+(A<<9&4294967295|A>>>23),A=M+(w^E&(R^w))+k[15]+3634488961&4294967295,M=R+(A<<14&4294967295|A>>>18),A=E+(R^w&(M^R))+k[4]+3889429448&4294967295,E=M+(A<<20&4294967295|A>>>12),A=w+(M^R&(E^M))+k[9]+568446438&4294967295,w=E+(A<<5&4294967295|A>>>27),A=R+(E^M&(w^E))+k[14]+3275163606&4294967295,R=w+(A<<9&4294967295|A>>>23),A=M+(w^E&(R^w))+k[3]+4107603335&4294967295,M=R+(A<<14&4294967295|A>>>18),A=E+(R^w&(M^R))+k[8]+1163531501&4294967295,E=M+(A<<20&4294967295|A>>>12),A=w+(M^R&(E^M))+k[13]+2850285829&4294967295,w=E+(A<<5&4294967295|A>>>27),A=R+(E^M&(w^E))+k[2]+4243563512&4294967295,R=w+(A<<9&4294967295|A>>>23),A=M+(w^E&(R^w))+k[7]+1735328473&4294967295,M=R+(A<<14&4294967295|A>>>18),A=E+(R^w&(M^R))+k[12]+2368359562&4294967295,E=M+(A<<20&4294967295|A>>>12),A=w+(E^M^R)+k[5]+4294588738&4294967295,w=E+(A<<4&4294967295|A>>>28),A=R+(w^E^M)+k[8]+2272392833&4294967295,R=w+(A<<11&4294967295|A>>>21),A=M+(R^w^E)+k[11]+1839030562&4294967295,M=R+(A<<16&4294967295|A>>>16),A=E+(M^R^w)+k[14]+4259657740&4294967295,E=M+(A<<23&4294967295|A>>>9),A=w+(E^M^R)+k[1]+2763975236&4294967295,w=E+(A<<4&4294967295|A>>>28),A=R+(w^E^M)+k[4]+1272893353&4294967295,R=w+(A<<11&4294967295|A>>>21),A=M+(R^w^E)+k[7]+4139469664&4294967295,M=R+(A<<16&4294967295|A>>>16),A=E+(M^R^w)+k[10]+3200236656&4294967295,E=M+(A<<23&4294967295|A>>>9),A=w+(E^M^R)+k[13]+681279174&4294967295,w=E+(A<<4&4294967295|A>>>28),A=R+(w^E^M)+k[0]+3936430074&4294967295,R=w+(A<<11&4294967295|A>>>21),A=M+(R^w^E)+k[3]+3572445317&4294967295,M=R+(A<<16&4294967295|A>>>16),A=E+(M^R^w)+k[6]+76029189&4294967295,E=M+(A<<23&4294967295|A>>>9),A=w+(E^M^R)+k[9]+3654602809&4294967295,w=E+(A<<4&4294967295|A>>>28),A=R+(w^E^M)+k[12]+3873151461&4294967295,R=w+(A<<11&4294967295|A>>>21),A=M+(R^w^E)+k[15]+530742520&4294967295,M=R+(A<<16&4294967295|A>>>16),A=E+(M^R^w)+k[2]+3299628645&4294967295,E=M+(A<<23&4294967295|A>>>9),A=w+(M^(E|~R))+k[0]+4096336452&4294967295,w=E+(A<<6&4294967295|A>>>26),A=R+(E^(w|~M))+k[7]+1126891415&4294967295,R=w+(A<<10&4294967295|A>>>22),A=M+(w^(R|~E))+k[14]+2878612391&4294967295,M=R+(A<<15&4294967295|A>>>17),A=E+(R^(M|~w))+k[5]+4237533241&4294967295,E=M+(A<<21&4294967295|A>>>11),A=w+(M^(E|~R))+k[12]+1700485571&4294967295,w=E+(A<<6&4294967295|A>>>26),A=R+(E^(w|~M))+k[3]+2399980690&4294967295,R=w+(A<<10&4294967295|A>>>22),A=M+(w^(R|~E))+k[10]+4293915773&4294967295,M=R+(A<<15&4294967295|A>>>17),A=E+(R^(M|~w))+k[1]+2240044497&4294967295,E=M+(A<<21&4294967295|A>>>11),A=w+(M^(E|~R))+k[8]+1873313359&4294967295,w=E+(A<<6&4294967295|A>>>26),A=R+(E^(w|~M))+k[15]+4264355552&4294967295,R=w+(A<<10&4294967295|A>>>22),A=M+(w^(R|~E))+k[6]+2734768916&4294967295,M=R+(A<<15&4294967295|A>>>17),A=E+(R^(M|~w))+k[13]+1309151649&4294967295,E=M+(A<<21&4294967295|A>>>11),A=w+(M^(E|~R))+k[4]+4149444226&4294967295,w=E+(A<<6&4294967295|A>>>26),A=R+(E^(w|~M))+k[11]+3174756917&4294967295,R=w+(A<<10&4294967295|A>>>22),A=M+(w^(R|~E))+k[2]+718787259&4294967295,M=R+(A<<15&4294967295|A>>>17),A=E+(R^(M|~w))+k[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+M&4294967295,b.g[3]=b.g[3]+R&4294967295}r.prototype.u=function(b,w){w===void 0&&(w=b.length);for(var E=w-this.blockSize,k=this.B,M=this.h,R=0;R<w;){if(M==0)for(;R<=E;)s(this,b,R),R+=this.blockSize;if(typeof b=="string"){for(;R<w;)if(k[M++]=b.charCodeAt(R++),M==this.blockSize){s(this,k),M=0;break}}else for(;R<w;)if(k[M++]=b[R++],M==this.blockSize){s(this,k),M=0;break}}this.h=M,this.o+=w},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;var E=8*this.o;for(w=b.length-8;w<b.length;++w)b[w]=E&255,E/=256;for(this.u(b),b=Array(16),w=E=0;4>w;++w)for(var k=0;32>k;k+=8)b[E++]=this.g[w]>>>k&255;return b};function i(b,w){var E=l;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=w(b)}function a(b,w){this.h=w;for(var E=[],k=!0,M=b.length-1;0<=M;M--){var R=b[M]|0;k&&R==w||(E[M]=R,k=!1)}this.g=E}var l={};function c(b){return-128<=b&&128>b?i(b,function(w){return new a([w|0],0>w?-1:0)}):new a([b|0],0>b?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return N(d(-b));for(var w=[],E=1,k=0;b>=E;k++)w[k]=b/E|0,E*=4294967296;return new a(w,0)}function h(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return N(h(b.substring(1),w));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(w,8)),k=f,M=0;M<b.length;M+=8){var R=Math.min(8,b.length-M),A=parseInt(b.substring(M,M+R),w);8>R?(R=d(Math.pow(w,R)),k=k.j(R).add(d(A))):(k=k.j(E),k=k.add(d(A)))}return k}var f=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(S(this))return-N(this).m();for(var b=0,w=1,E=0;E<this.g.length;E++){var k=this.i(E);b+=(0<=k?k:4294967296+k)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(T(this))return"0";if(S(this))return"-"+N(this).toString(b);for(var w=d(Math.pow(b,6)),E=this,k="";;){var M=j(E,w).g;E=_(E,M.j(w));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(b);if(E=M,T(E))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function T(b){if(b.h!=0)return!1;for(var w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=_(this,b),S(b)?-1:T(b)?0:1};function N(b){for(var w=b.g.length,E=[],k=0;k<w;k++)E[k]=~b.g[k];return new a(E,~b.h).add(m)}t.abs=function(){return S(this)?N(this):this},t.add=function(b){for(var w=Math.max(this.g.length,b.g.length),E=[],k=0,M=0;M<=w;M++){var R=k+(this.i(M)&65535)+(b.i(M)&65535),A=(R>>>16)+(this.i(M)>>>16)+(b.i(M)>>>16);k=A>>>16,R&=65535,A&=65535,E[M]=A<<16|R}return new a(E,E[E.length-1]&-2147483648?-1:0)};function _(b,w){return b.add(N(w))}t.j=function(b){if(T(this)||T(b))return f;if(S(this))return S(b)?N(this).j(N(b)):N(N(this).j(b));if(S(b))return N(this.j(N(b)));if(0>this.l(g)&&0>b.l(g))return d(this.m()*b.m());for(var w=this.g.length+b.g.length,E=[],k=0;k<2*w;k++)E[k]=0;for(k=0;k<this.g.length;k++)for(var M=0;M<b.g.length;M++){var R=this.i(k)>>>16,A=this.i(k)&65535,X=b.i(M)>>>16,Z=b.i(M)&65535;E[2*k+2*M]+=A*Z,y(E,2*k+2*M),E[2*k+2*M+1]+=R*Z,y(E,2*k+2*M+1),E[2*k+2*M+1]+=A*X,y(E,2*k+2*M+1),E[2*k+2*M+2]+=R*X,y(E,2*k+2*M+2)}for(k=0;k<w;k++)E[k]=E[2*k+1]<<16|E[2*k];for(k=w;k<2*w;k++)E[k]=0;return new a(E,0)};function y(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function x(b,w){this.g=b,this.h=w}function j(b,w){if(T(w))throw Error("division by zero");if(T(b))return new x(f,f);if(S(b))return w=j(N(b),w),new x(N(w.g),N(w.h));if(S(w))return w=j(b,N(w)),new x(N(w.g),w.h);if(30<b.g.length){if(S(b)||S(w))throw Error("slowDivide_ only works with positive integers.");for(var E=m,k=w;0>=k.l(b);)E=D(E),k=D(k);var M=C(E,1),R=C(k,1);for(k=C(k,2),E=C(E,2);!T(k);){var A=R.add(k);0>=A.l(b)&&(M=M.add(E),R=A),k=C(k,1),E=C(E,1)}return w=_(b,M.j(w)),new x(M,w)}for(M=f;0<=b.l(w);){for(E=Math.max(1,Math.floor(b.m()/w.m())),k=Math.ceil(Math.log(E)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=d(E),A=R.j(w);S(A)||0<A.l(b);)E-=k,R=d(E),A=R.j(w);T(R)&&(R=m),M=M.add(R),b=_(b,A)}return new x(M,b)}t.A=function(b){return j(this,b).h},t.and=function(b){for(var w=Math.max(this.g.length,b.g.length),E=[],k=0;k<w;k++)E[k]=this.i(k)&b.i(k);return new a(E,this.h&b.h)},t.or=function(b){for(var w=Math.max(this.g.length,b.g.length),E=[],k=0;k<w;k++)E[k]=this.i(k)|b.i(k);return new a(E,this.h|b.h)},t.xor=function(b){for(var w=Math.max(this.g.length,b.g.length),E=[],k=0;k<w;k++)E[k]=this.i(k)^b.i(k);return new a(E,this.h^b.h)};function D(b){for(var w=b.g.length+1,E=[],k=0;k<w;k++)E[k]=b.i(k)<<1|b.i(k-1)>>>31;return new a(E,b.h)}function C(b,w){var E=w>>5;w%=32;for(var k=b.g.length-E,M=[],R=0;R<k;R++)M[R]=0<w?b.i(R+E)>>>w|b.i(R+E+1)<<32-w:b.i(R+E);return new a(M,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Z2=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,mi=a}).apply(typeof Mw<"u"?Mw:typeof self<"u"?self:typeof window<"u"?window:{});var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eS,Wo,tS,qu,$p,nS,rS,sS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,v){return u==Array.prototype||u==Object.prototype||(u[p]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xu=="object"&&xu];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var v=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var L=u[I];if(!(L in v))break e;v=v[L]}u=u[u.length-1],I=v[u],p=p(I),p!=I&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var v=0,I=!1,L={next:function(){if(!I&&v<u.length){var V=v++;return{value:p(V,u[V]),done:!1}}return I=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,v){return u.call.apply(u.bind,arguments)}function f(u,p,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,I),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function m(u,p,v){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function T(u,p){function v(){}v.prototype=p.prototype,u.aa=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,L,V){for(var G=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)G[Re-2]=arguments[Re];return p.prototype[L].apply(I,G)}}function S(u){const p=u.length;if(0<p){const v=Array(p);for(let I=0;I<p;I++)v[I]=u[I];return v}return[]}function N(u,p){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(c(I)){const L=u.length||0,V=I.length||0;u.length=L+V;for(let G=0;G<V;G++)u[L+G]=I[G]}else u.push(I)}}class _{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function y(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function j(u){return j[" "](u),u}j[" "]=function(){};var D=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function C(u,p,v){for(const I in u)p.call(v,u[I],I,u)}function b(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function w(u){const p={};for(const v in u)p[v]=u[v];return p}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,p){let v,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(v in I)u[v]=I[v];for(let V=0;V<E.length;V++)v=E[V],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function M(u){var p=1;u=u.split(":");const v=[];for(;0<p&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function R(u){l.setTimeout(()=>{throw u},0)}function A(){var u=K;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class X{constructor(){this.h=this.g=null}add(p,v){const I=Z.get();I.set(p,v),this.h?this.h.next=I:this.g=I,this.h=I}}var Z=new _(()=>new ue,u=>u.reset());class ue{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let me,F=!1,K=new X,H=()=>{const u=l.Promise.resolve(void 0);me=()=>{u.then(ne)}};var ne=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(v){R(v)}var p=Z;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}F=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};l.addEventListener("test",v,p),l.removeEventListener("test",v,p)}catch{}return u}();function q(u,p){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{j(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ie[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&q.aa.h.call(this)}}T(q,ye);var ie={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function ae(u,p,v,I,L){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!I,this.ha=L,this.key=++Pe,this.da=this.fa=!1}function _e(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xe(u){this.src=u,this.g={},this.h=0}xe.prototype.add=function(u,p,v,I,L){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var G=sn(u,p,I,L);return-1<G?(p=u[G],v||(p.fa=!1)):(p=new ae(p,this.src,V,!!I,L),p.fa=v,u.push(p)),p};function vt(u,p){var v=p.type;if(v in u.g){var I=u.g[v],L=Array.prototype.indexOf.call(I,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(I,L,1),V&&(_e(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function sn(u,p,v,I){for(var L=0;L<u.length;++L){var V=u[L];if(!V.da&&V.listener==p&&V.capture==!!v&&V.ha==I)return L}return-1}var qs="closure_lm_"+(1e6*Math.random()|0),wr={};function io(u,p,v,I,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)io(u,p[V],v,I,L);return null}return v=co(v),u&&u[se]?u.K(p,v,d(I)?!!I.capture:!!I,L):Ic(u,p,v,!1,I,L)}function Ic(u,p,v,I,L,V){if(!p)throw Error("Invalid event type");var G=d(L)?!!L.capture:!!L,Re=lo(u);if(Re||(u[qs]=Re=new xe(u)),v=Re.add(p,v,I,G,V),v.proxy)return v;if(I=ao(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)B||(L=G),L===void 0&&(L=!1),u.addEventListener(p.toString(),I,L);else if(u.attachEvent)u.attachEvent($i(p.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ao(){function u(v){return p.call(u.src,u.listener,v)}const p=af;return u}function Cc(u,p,v,I,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)Cc(u,p[V],v,I,L);else I=d(I)?!!I.capture:!!I,v=co(v),u&&u[se]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],v=sn(V,v,I,L),-1<v&&(_e(V[v]),Array.prototype.splice.call(V,v,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=lo(u))&&(p=u.g[p.toString()],u=-1,p&&(u=sn(p,v,I,L)),(v=-1<u?p[u]:null)&&oo(v))}function oo(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[se])vt(p.i,u);else{var v=u.type,I=u.proxy;p.removeEventListener?p.removeEventListener(v,I,u.capture):p.detachEvent?p.detachEvent($i(v),I):p.addListener&&p.removeListener&&p.removeListener(I),(v=lo(p))?(vt(v,u),v.h==0&&(v.src=null,p[qs]=null)):_e(u)}}}function $i(u){return u in wr?wr[u]:wr[u]="on"+u}function af(u,p){if(u.da)u=!0;else{p=new q(p,this);var v=u.listener,I=u.ha||u.src;u.fa&&oo(u),u=v.call(I,p)}return u}function lo(u){return u=u[qs],u instanceof xe?u:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function co(u){return typeof u=="function"?u:(u[Hi]||(u[Hi]=function(p){return u.handleEvent(p)}),u[Hi])}function ht(){re.call(this),this.i=new xe(this),this.M=this,this.F=null}T(ht,re),ht.prototype[se]=!0,ht.prototype.removeEventListener=function(u,p,v,I){Cc(this,u,p,v,I)};function kt(u,p){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=p.type||p,typeof p=="string")p=new ye(p,u);else if(p instanceof ye)p.target=p.target||u;else{var L=p;p=new ye(I,u),k(p,L)}if(L=!0,v)for(var V=v.length-1;0<=V;V--){var G=p.g=v[V];L=Wi(G,I,!0,p)&&L}if(G=p.g=u,L=Wi(G,I,!0,p)&&L,L=Wi(G,I,!1,p)&&L,v)for(V=0;V<v.length;V++)G=p.g=v[V],L=Wi(G,I,!1,p)&&L}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var v=u.g[p],I=0;I<v.length;I++)_e(v[I]);delete u.g[p],u.h--}}this.F=null},ht.prototype.K=function(u,p,v,I){return this.i.add(String(u),p,!1,v,I)},ht.prototype.L=function(u,p,v,I){return this.i.add(String(u),p,!0,v,I)};function Wi(u,p,v,I){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var G=p[V];if(G&&!G.da&&G.capture==v){var Re=G.listener,St=G.ha||G.src;G.fa&&vt(u.i,G),L=Re.call(St,I)!==!1&&L}}return L&&!I.defaultPrevented}function Pc(u,p,v){if(typeof u=="function")v&&(u=m(u,v));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:l.setTimeout(u,p||0)}function Rc(u){u.g=Pc(()=>{u.g=null,u.i&&(u.i=!1,Rc(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class of extends re{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Rc(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(u){re.call(this),this.h=u,this.g={}}T(Gs,re);var Mc=[];function uo(u){C(u.g,function(p,v){this.g.hasOwnProperty(v)&&oo(p)},u),u.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),uo(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=l.JSON.stringify,Dc=l.JSON.parse,Lc=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Gi(){}Gi.prototype.h=null;function ho(u){return u.h||(u.h=u.i())}function W(){}var te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ft(){ye.call(this,"d")}T(ft,ye);function Se(){ye.call(this,"c")}T(Se,ye);var Ze={},et=null;function Kt(){return et=et||new ht}Ze.La="serverreachability";function Ki(u){ye.call(this,Ze.La,u)}T(Ki,ye);function ir(u){const p=Kt();kt(p,new Ki(p))}Ze.STAT_EVENT="statevent";function fo(u,p){ye.call(this,Ze.STAT_EVENT,u),this.stat=p}T(fo,ye);function $e(u){const p=Kt();kt(p,new fo(p,u))}Ze.Ma="timingevent";function $v(u,p){ye.call(this,Ze.Ma,u),this.size=p}T($v,ye);function mo(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function po(){this.g=!0}po.prototype.xa=function(){this.g=!1};function aj(u,p,v,I,L,V){u.info(function(){if(u.g)if(V)for(var G="",Re=V.split("&"),St=0;St<Re.length;St++){var Ne=Re[St].split("=");if(1<Ne.length){var Ot=Ne[0];Ne=Ne[1];var Vt=Ot.split("_");G=2<=Vt.length&&Vt[1]=="type"?G+(Ot+"="+Ne+"&"):G+(Ot+"=redacted&")}}else G=null;else G=V;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+p+`
`+v+`
`+G})}function oj(u,p,v,I,L,V,G){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+p+`
`+v+`
`+V+" "+G})}function Qi(u,p,v,I){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+cj(u,v)+(I?" "+I:"")})}function lj(u,p){u.info(function(){return"TIMEOUT: "+p})}po.prototype.info=function(){};function cj(u,p){if(!u.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var L=I[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return qi(v)}catch{return p}}var Oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lf;function Vc(){}T(Vc,Gi),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},lf=new Vc;function Gr(u,p,v,I){this.j=u,this.i=p,this.l=v,this.R=I||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wv}function Wv(){this.i=null,this.g="",this.h=!1}var qv={},cf={};function uf(u,p,v){u.L=1,u.v=zc(br(p)),u.m=v,u.P=!0,Gv(u,null)}function Gv(u,p){u.F=Date.now(),Fc(u),u.A=br(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),o0(v.i,"t",I),u.C=0,v=u.j.J,u.h=new Wv,u.g=k0(u.j,v?p:null,!u.m),0<u.O&&(u.M=new of(m(u.Y,u,u.g),u.O)),p=u.U,v=u.g,I=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Mc[0]=L.toString()),L=Mc);for(var V=0;V<L.length;V++){var G=io(v,L[V],I||p.handleEvent,!1,p.h||p);if(!G)break;p.g[G.key]=G}p=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ir(),aj(u.i,u.u,u.A,u.l,u.R,u.m)}Gr.prototype.ca=function(u){u=u.target;const p=this.M;p&&_r(u)==3?p.j():this.Y(u)},Gr.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=_r(this.g);var p=this.g.Ba();const Ji=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||m0(this.g)))){this.J||Vt!=4||p==7||(p==8||0>=Ji?ir(3):ir(2)),df(this);var v=this.g.Z();this.X=v;t:if(Kv(this)){var I=m0(this.g);u="";var L=I.length,V=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ks(this),go(this);var G="";break t}this.h.i=new l.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(I[p],{stream:!(V&&p==L-1)});I.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=v==200,oj(this.i,this.u,this.A,this.l,this.R,Vt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,St=this.g;if((Re=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Re)){var Ne=Re;break t}}Ne=null}if(v=Ne)Qi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hf(this,v);else{this.o=!1,this.s=3,$e(12),Ks(this),go(this);break e}}if(this.P){v=!0;let Wn;for(;!this.J&&this.C<G.length;)if(Wn=uj(this,G),Wn==cf){Vt==4&&(this.s=4,$e(14),v=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==qv){this.s=4,$e(15),Qi(this.i,this.l,G,"[Invalid Chunk]"),v=!1;break}else Qi(this.i,this.l,Wn,null),hf(this,Wn);if(Kv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||G.length!=0||this.h.h||(this.s=1,$e(16),v=!1),this.o=this.o&&v,!v)Qi(this.i,this.l,G,"[Invalid Chunked Response]"),Ks(this),go(this);else if(0<G.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),vf(Ot),Ot.M=!0,$e(11))}}else Qi(this.i,this.l,G,null),hf(this,G);Vt==4&&Ks(this),this.o&&!this.J&&(Vt==4?b0(this.j,this):(this.o=!1,Fc(this)))}else Nj(this.g),v==400&&0<G.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Ks(this),go(this)}}}catch{}finally{}};function Kv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function uj(u,p){var v=u.C,I=p.indexOf(`
`,v);return I==-1?cf:(v=Number(p.substring(v,I)),isNaN(v)?qv:(I+=1,I+v>p.length?cf:(p=p.slice(I,I+v),u.C=I+v,p)))}Gr.prototype.cancel=function(){this.J=!0,Ks(this)};function Fc(u){u.S=Date.now()+u.I,Qv(u,u.I)}function Qv(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=mo(m(u.ba,u),p)}function df(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Gr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lj(this.i,this.A),this.L!=2&&(ir(),$e(17)),Ks(this),this.s=2,go(this)):Qv(this,this.S-u)};function go(u){u.j.G==0||u.J||b0(u.j,u)}function Ks(u){df(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,uo(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function hf(u,p){try{var v=u.j;if(v.G!=0&&(v.g==u||ff(v.h,u))){if(!u.K&&ff(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Kc(v),qc(v);else break e;yf(v),$e(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=mo(m(v.Za,v),6e3));if(1>=Jv(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ys(v,11)}else if((u.K||v.g==u)&&Kc(v),!y(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let Ne=L[p];if(v.T=Ne[0],Ne=Ne[1],v.G==2)if(Ne[0]=="c"){v.K=Ne[1],v.ia=Ne[2];const Ot=Ne[3];Ot!=null&&(v.la=Ot,v.j.info("VER="+v.la));const Vt=Ne[4];Vt!=null&&(v.Aa=Vt,v.j.info("SVER="+v.Aa));const Ji=Ne[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(I=1.5*Ji,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const Wn=u.g;if(Wn){const Yc=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var V=I.h;V.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(mf(V,V.h),V.h=null))}if(I.D){const xf=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;xf&&(I.ya=xf,Ve(I.I,I.D,xf))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var G=u;if(I.qa=T0(I,I.J?I.ia:null,I.W),G.K){Zv(I.h,G);var Re=G,St=I.L;St&&(Re.I=St),Re.B&&(df(Re),Fc(Re)),I.g=G}else x0(I);0<v.i.length&&Gc(v)}else Ne[0]!="stop"&&Ne[0]!="close"||Ys(v,7);else v.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ys(v,7):gf(v):Ne[0]!="noop"&&v.l&&v.l.ta(Ne),v.v=0)}}ir(4)}catch{}}var dj=class{constructor(u,p){this.g=u,this.map=p}};function Yv(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jv(u){return u.h?1:u.g?u.g.size:0}function ff(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function mf(u,p){u.g?u.g.add(p):u.h=p}function Zv(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Yv.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function e0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.D);return p}return S(u.i)}function hj(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],v=u.length,I=0;I<v;I++)p.push(u[I]);return p}p=[],v=0;for(I in u)p[v++]=u[I];return p}function fj(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var v=0;v<u;v++)p.push(v);return p}p=[],v=0;for(const I in u)p[v++]=I;return p}}}function t0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var v=fj(u),I=hj(u),L=I.length,V=0;V<L;V++)p.call(void 0,I[V],v&&v[V],u)}var n0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mj(u,p){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),L=null;if(0<=I){var V=u[v].substring(0,I);L=u[v].substring(I+1)}else V=u[v];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Qs){this.h=u.h,Uc(this,u.j),this.o=u.o,this.g=u.g,Bc(this,u.s),this.l=u.l;var p=u.i,v=new xo;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),r0(this,v),this.m=u.m}else u&&(p=String(u).match(n0))?(this.h=!1,Uc(this,p[1]||"",!0),this.o=yo(p[2]||""),this.g=yo(p[3]||"",!0),Bc(this,p[4]),this.l=yo(p[5]||"",!0),r0(this,p[6]||"",!0),this.m=yo(p[7]||"")):(this.h=!1,this.i=new xo(null,this.h))}Qs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(vo(p,s0,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(vo(p,s0,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vo(v,v.charAt(0)=="/"?yj:gj,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vo(v,xj)),u.join("")};function br(u){return new Qs(u)}function Uc(u,p,v){u.j=v?yo(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Bc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function r0(u,p,v){p instanceof xo?(u.i=p,wj(u.i,u.h)):(v||(p=vo(p,vj)),u.i=new xo(p,u.h))}function Ve(u,p,v){u.i.set(p,v)}function zc(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yo(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vo(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,pj),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pj(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var s0=/[#\/\?@]/g,gj=/[#\?:]/g,yj=/[#\?]/g,vj=/[#\?@]/g,xj=/#/g;function xo(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Kr(u){u.g||(u.g=new Map,u.h=0,u.i&&mj(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=xo.prototype,t.add=function(u,p){Kr(this),this.i=null,u=Yi(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function i0(u,p){Kr(u),p=Yi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function a0(u,p){return Kr(u),p=Yi(u,p),u.g.has(p)}t.forEach=function(u,p){Kr(this),this.g.forEach(function(v,I){v.forEach(function(L){u.call(p,L,I,this)},this)},this)},t.na=function(){Kr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let I=0;I<p.length;I++){const L=u[I];for(let V=0;V<L.length;V++)v.push(p[I])}return v},t.V=function(u){Kr(this);let p=[];if(typeof u=="string")a0(this,u)&&(p=p.concat(this.g.get(Yi(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)p=p.concat(u[v])}return p},t.set=function(u,p){return Kr(this),this.i=null,u=Yi(this,u),a0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function o0(u,p,v){i0(u,p),0<v.length&&(u.i=null,u.g.set(Yi(u,p),S(v)),u.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var I=p[v];const V=encodeURIComponent(String(I)),G=this.V(I);for(I=0;I<G.length;I++){var L=V;G[I]!==""&&(L+="="+encodeURIComponent(String(G[I]))),u.push(L)}}return this.i=u.join("&")};function Yi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function wj(u,p){p&&!u.j&&(Kr(u),u.i=null,u.g.forEach(function(v,I){var L=I.toLowerCase();I!=L&&(i0(this,I),o0(this,L,v))},u)),u.j=p}function bj(u,p){const v=new po;if(l.Image){const I=new Image;I.onload=g(Qr,v,"TestLoadImage: loaded",!0,p,I),I.onerror=g(Qr,v,"TestLoadImage: error",!1,p,I),I.onabort=g(Qr,v,"TestLoadImage: abort",!1,p,I),I.ontimeout=g(Qr,v,"TestLoadImage: timeout",!1,p,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else p(!1)}function _j(u,p){const v=new po,I=new AbortController,L=setTimeout(()=>{I.abort(),Qr(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:I.signal}).then(V=>{clearTimeout(L),V.ok?Qr(v,"TestPingServer: ok",!0,p):Qr(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Qr(v,"TestPingServer: error",!1,p)})}function Qr(u,p,v,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(v)}catch{}}function Ej(){this.g=new Lc}function Tj(u,p,v){const I=v||"";try{t0(u,function(L,V){let G=L;d(L)&&(G=qi(L)),p.push(I+V+"="+encodeURIComponent(G))})}catch(L){throw p.push(I+"type="+encodeURIComponent("_badmap")),L}}function $c(u){this.l=u.Ub||null,this.j=u.eb||!1}T($c,Gi),$c.prototype.g=function(){return new Hc(this.l,this.j)},$c.prototype.i=function(u){return function(){return u}}({});function Hc(u,p){ht.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Hc,ht),t=Hc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,bo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||l).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bo(this)),this.g&&(this.readyState=3,bo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function l0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?wo(this):bo(this),this.readyState==3&&l0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,wo(this))},t.Qa=function(u){this.g&&(this.response=u,wo(this))},t.ga=function(){this.g&&wo(this)};function wo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,bo(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function bo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function c0(u){let p="";return C(u,function(v,I){p+=I,p+=":",p+=v,p+=`\r
`}),p}function pf(u,p,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=c0(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ve(u,p,v))}function Qe(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Qe,ht);var kj=/^https?$/i,Sj=["POST","PUT"];t=Qe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lf.g(),this.v=this.o?ho(this.o):ho(lf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){u0(this,V);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)v.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const V of I.keys())v.set(V,I.get(V));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(V=>V.toLowerCase()=="content-type"),L=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Sj,p,void 0))||I||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of v)this.g.setRequestHeader(V,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f0(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){u0(this,V)}};function u0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,d0(u),Wc(u)}function d0(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?h0(this):this.bb())},t.bb=function(){h0(this)};function h0(u){if(u.h&&typeof a<"u"&&(!u.v[1]||_r(u)!=4||u.Z()!=2)){if(u.u&&_r(u)==4)Pc(u.Ea,0,u);else if(kt(u,"readystatechange"),_r(u)==4){u.h=!1;try{const G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var I;if(I=G===0){var L=String(u.D).match(n0)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),I=!kj.test(L?L.toLowerCase():"")}v=I}if(v)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var V=2<_r(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",d0(u)}}finally{Wc(u)}}}}function Wc(u,p){if(u.g){f0(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||kt(u,"ready");try{v.onreadystatechange=I}catch{}}}function f0(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function _r(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Dc(p)}};function m0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Nj(u){const p={};u=(u.g&&2<=_r(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(y(u[I]))continue;var v=M(u[I]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const V=p[L]||[];p[L]=V,V.push(v)}b(p,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function p0(u){this.Aa=0,this.i=[],this.j=new po,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_o("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_o("baseRetryDelayMs",5e3,u),this.cb=_o("retryDelaySeedMs",1e4,u),this.Wa=_o("forwardChannelMaxRetries",2,u),this.wa=_o("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Yv(u&&u.concurrentRequestLimit),this.Da=new Ej,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=p0.prototype,t.la=8,t.G=1,t.connect=function(u,p,v,I){$e(0),this.W=u,this.H=p||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=T0(this,null,this.W),Gc(this)};function gf(u){if(g0(u),u.G==3){var p=u.U++,v=br(u.I);if(Ve(v,"SID",u.K),Ve(v,"RID",p),Ve(v,"TYPE","terminate"),Eo(u,v),p=new Gr(u,u.j,p),p.L=2,p.v=zc(br(v)),v=!1,l.navigator&&l.navigator.sendBeacon)try{v=l.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&l.Image&&(new Image().src=p.v,v=!0),v||(p.g=k0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Fc(p)}E0(u)}function qc(u){u.g&&(vf(u),u.g.cancel(),u.g=null)}function g0(u){qc(u),u.u&&(l.clearTimeout(u.u),u.u=null),Kc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Gc(u){if(!Xv(u.h)&&!u.s){u.s=!0;var p=u.Ga;me||H(),F||(me(),F=!0),K.add(p,u),u.B=0}}function jj(u,p){return Jv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=mo(m(u.Ga,u,p),_0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Gr(this,this.j,u);let V=this.o;if(this.S&&(V?(V=w(V),k(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=v0(this,L,p),v=br(this.I),Ve(v,"RID",u),Ve(v,"CVER",22),this.D&&Ve(v,"X-HTTP-Session-Id",this.D),Eo(this,v),V&&(this.O?p="headers="+encodeURIComponent(String(c0(V)))+"&"+p:this.m&&pf(v,this.m,V)),mf(this.h,L),this.Ua&&Ve(v,"TYPE","init"),this.P?(Ve(v,"$req",p),Ve(v,"SID","null"),L.T=!0,uf(L,v,null)):uf(L,v,p),this.G=2}}else this.G==3&&(u?y0(this,u):this.i.length==0||Xv(this.h)||y0(this))};function y0(u,p){var v;p?v=p.l:v=u.U++;const I=br(u.I);Ve(I,"SID",u.K),Ve(I,"RID",v),Ve(I,"AID",u.T),Eo(u,I),u.m&&u.o&&pf(I,u.m,u.o),v=new Gr(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),p&&(u.i=p.D.concat(u.i)),p=v0(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),mf(u.h,v),uf(v,I,p)}function Eo(u,p){u.H&&C(u.H,function(v,I){Ve(p,I,v)}),u.l&&t0({},function(v,I){Ve(p,I,v)})}function v0(u,p,v){v=Math.min(u.i.length,v);var I=u.l?m(u.l.Na,u.l,u):null;e:{var L=u.i;let V=-1;for(;;){const G=["count="+v];V==-1?0<v?(V=L[0].g,G.push("ofs="+V)):V=0:G.push("ofs="+V);let Re=!0;for(let St=0;St<v;St++){let Ne=L[St].g;const Ot=L[St].map;if(Ne-=V,0>Ne)V=Math.max(0,L[St].g-100),Re=!1;else try{Tj(Ot,G,"req"+Ne+"_")}catch{I&&I(Ot)}}if(Re){I=G.join("&");break e}}}return u=u.i.splice(0,v),p.D=u,I}function x0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;me||H(),F||(me(),F=!0),K.add(p,u),u.v=0}}function yf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=mo(m(u.Fa,u),_0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,w0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=mo(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),qc(this),w0(this))};function vf(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function w0(u){u.g=new Gr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=br(u.qa);Ve(p,"RID","rpc"),Ve(p,"SID",u.K),Ve(p,"AID",u.T),Ve(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(p,"TO",u.ja),Ve(p,"TYPE","xmlhttp"),Eo(u,p),u.m&&u.o&&pf(p,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=zc(br(p)),v.m=null,v.P=!0,Gv(v,u)}t.Za=function(){this.C!=null&&(this.C=null,qc(this),yf(this),$e(19))};function Kc(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function b0(u,p){var v=null;if(u.g==p){Kc(u),vf(u),u.g=null;var I=2}else if(ff(u.h,p))v=p.D,Zv(u.h,p),I=1;else return;if(u.G!=0){if(p.o)if(I==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;I=Kt(),kt(I,new $v(I,v)),Gc(u)}else x0(u);else if(L=p.s,L==3||L==0&&0<p.X||!(I==1&&jj(u,p)||I==2&&yf(u)))switch(v&&0<v.length&&(p=u.h,p.i=p.i.concat(v)),L){case 1:Ys(u,5);break;case 4:Ys(u,10);break;case 3:Ys(u,6);break;default:Ys(u,2)}}}function _0(u,p){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*p}function Ys(u,p){if(u.j.info("Error code "+p),p==2){var v=m(u.fb,u),I=u.Xa;const L=!I;I=new Qs(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Uc(I,"https"),zc(I),L?bj(I.toString(),v):_j(I.toString(),v)}else $e(2);u.G=0,u.l&&u.l.sa(p),E0(u),g0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function E0(u){if(u.G=0,u.ka=[],u.l){const p=e0(u.h);(p.length!=0||u.i.length!=0)&&(N(u.ka,p),N(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function T0(u,p,v){var I=v instanceof Qs?br(v):new Qs(v);if(I.g!="")p&&(I.g=p+"."+I.g),Bc(I,I.s);else{var L=l.location;I=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new Qs(null);I&&Uc(V,I),p&&(V.g=p),L&&Bc(V,L),v&&(V.l=v),I=V}return v=u.D,p=u.ya,v&&p&&Ve(I,v,p),Ve(I,"VER",u.la),Eo(u,I),I}function k0(u,p,v){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Qe(new $c({eb:v})):new Qe(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function S0(){}t=S0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qc(){}Qc.prototype.g=function(u,p){return new yn(u,p)};function yn(u,p){ht.call(this),this.g=new p0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!y(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!y(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Xi(this)}T(yn,ht),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){gf(this.g)},yn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=qi(u),u=v);p.i.push(new dj(p.Ya++,u)),p.G==3&&Gc(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,yn.aa.N.call(this)};function N0(u){ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}T(N0,ft);function j0(){Se.call(this),this.status=1}T(j0,Se);function Xi(u){this.g=u}T(Xi,S0),Xi.prototype.ua=function(){kt(this.g,"a")},Xi.prototype.ta=function(u){kt(this.g,new N0(u))},Xi.prototype.sa=function(u){kt(this.g,new j0)},Xi.prototype.ra=function(){kt(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,sS=function(){return new Qc},rS=function(){return Kt()},nS=Ze,$p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oc.NO_ERROR=0,Oc.TIMEOUT=8,Oc.HTTP_ERROR=6,qu=Oc,Hv.COMPLETE="complete",tS=Hv,W.EventType=te,te.OPEN="a",te.CLOSE="b",te.ERROR="c",te.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Wo=W,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,eS=Qe}).apply(typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{});const Dw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Ih("@firebase/firestore");function Mo(){return Si.logLevel}function ee(t,...e){if(Si.logLevel<=we.DEBUG){const n=e.map(By);Si.debug(`Firestore (${Ja}): ${t}`,...n)}}function zr(t,...e){if(Si.logLevel<=we.ERROR){const n=e.map(By);Si.error(`Firestore (${Ja}): ${t}`,...n)}}function Ua(t,...e){if(Si.logLevel<=we.WARN){const n=e.map(By);Si.warn(`Firestore (${Ja}): ${t}`,...n)}}function By(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function ke(t,e){t||ce()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class IF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CF{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new iS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new $t(e)}}class PF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new MF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=LF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Ba(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new gt(0,0))}static max(){return new he(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends zl{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const OF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends zl{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return OF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(De.fromString(e))}static fromName(e){return new oe(De.fromString(e).popFirst(5))}static empty(){return new oe(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new De(e.slice()))}}function VF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Rs(s,oe.empty(),e)}function FF(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(he.min(),oe.empty(),-1)}static max(){return new Rs(he.max(),oe.empty(),-1)}}function UF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==BF)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===i&&r(a)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function $F(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zy.oe=-1;function vc(t){return t==null}function Wd(t){return t===0&&1/t==-1/0}function HF(t){return typeof t=="number"&&Number.isInteger(t)&&!Wd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ow(this.data.getIterator())}getIteratorFrom(e){return new Ow(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class Ow{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Pt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new lS("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const WF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(t){if(ke(!!t),typeof t=="string"){let e=0;const n=WF.exec(t);if(ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hy(t){const e=t.mapValue.fields.__previous_value__;return $y(e)?Hy(e):e}function $l(t){const e=Ms(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,s,i,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$y(t)?4:KF(t)?9007199254740991:GF(t)?10:11:ce()}function xr(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ms(s.timestampValue),l=Ms(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ni(s.bytesValue).isEqual(Ni(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=tt(s.doubleValue),l=tt(i.doubleValue);return a===l?Wd(a)===Wd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ba(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Lw(a)!==Lw(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!xr(a[c],l[c])))return!1;return!0}(t,e);default:return ce()}}function Wl(t,e){return(t.values||[]).find(n=>xr(n,e))!==void 0}function za(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=tt(i.integerValue||i.doubleValue),c=tt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Vw(t.timestampValue,e.timestampValue);case 4:return Vw($l(t),$l(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ni(i),c=Ni(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=je(l[d],c[d]);if(h!==0)return h}return je(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=je(tt(i.latitude),tt(a.latitude));return l!==0?l:je(tt(i.longitude),tt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Fw(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,d,h;const f=i.fields||{},m=a.fields||{},g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,T=(c=m.value)===null||c===void 0?void 0:c.arrayValue,S=je(((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:Fw(g,T)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===bu.mapValue&&a===bu.mapValue)return 0;if(i===bu.mapValue)return 1;if(a===bu.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=je(c[f],h[f]);if(m!==0)return m;const g=za(l[c[f]],d[h[f]]);if(g!==0)return g}return je(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ce()}}function Vw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Ms(t),r=Ms(e),s=je(n.seconds,r.seconds);return s!==0?s:je(n.nanos,r.nanos)}function Fw(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=za(n[s],r[s]);if(i)return i}return je(n.length,r.length)}function $a(t){return Hp(t)}function Hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ms(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Hp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Hp(n.fields[a])}`;return s+"}"}(t.mapValue):ce()}function Uw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wp(t){return!!t&&"integerValue"in t}function Wy(t){return!!t&&"arrayValue"in t}function Bw(t){return!!t&&"nullValue"in t}function zw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gu(t){return!!t&&"mapValue"in t}function GF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cl(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=cl(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Gu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Gu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new en(cl(this.value))}}function cS(t){const e=[];return Bi(t.fields,(n,r)=>{const s=new It([n]);if(Gu(r)){const i=cS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new _t(e,0,he.min(),he.min(),he.min(),en.empty(),0)}static newFoundDocument(e,n,r,s){return new _t(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new _t(e,2,n,he.min(),he.min(),en.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,he.min(),he.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.position=e,this.inclusive=n}}function $w(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(a.referenceValue),n.key):r=za(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function QF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uS=class{};class lt extends uS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XF(e,n,r):n==="array-contains"?new e5(e,r):n==="in"?new t5(e,r):n==="not-in"?new n5(e,r):n==="array-contains-any"?new r5(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JF(e,r):new ZF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(za(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(za(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends uS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return dS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dS(t){return t.op==="and"}function hS(t){return YF(t)&&dS(t)}function YF(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function qp(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+$a(t.value);if(hS(t))return t.filters.map(e=>qp(e)).join(",");{const e=t.filters.map(n=>qp(n)).join(",");return`${t.op}(${e})`}}function fS(t,e){return t instanceof lt?function(r,s){return s instanceof lt&&r.op===s.op&&r.field.isEqual(s.field)&&xr(r.value,s.value)}(t,e):t instanceof nr?function(r,s){return s instanceof nr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&fS(a,s.filters[l]),!0):!1}(t,e):void ce()}function mS(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(mS).join(" ,")+"}"}(t):"Filter"}class XF extends lt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class JF extends lt{constructor(e,n){super(e,"in",n),this.keys=pS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZF extends lt{constructor(e,n){super(e,"not-in",n),this.keys=pS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class e5 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wy(n)&&Wl(n.arrayValue,this.value)}}class t5 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class n5 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class r5 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.ue=null}}function Ww(t,e=null,n=[],r=[],s=null,i=null,a=null){return new s5(t,e,n,r,s,i,a)}function qy(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),e.ue=n}return e.ue}function Gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hw(t.startAt,e.startAt)&&Hw(t.endAt,e.endAt)}function Gp(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function i5(t,e,n,r,s,i,a,l){return new Za(t,e,n,r,s,i,a,l)}function Oh(t){return new Za(t)}function qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gS(t){return t.collectionGroup!==null}function ul(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Pt(It.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new ql(i,r))}),n.has(It.keyField().canonicalString())||e.ce.push(new ql(It.keyField(),r))}return e.ce}function yr(t){const e=pe(t);return e.le||(e.le=a5(e,ul(t))),e.le}function a5(t,e){if(t.limitType==="F")return Ww(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ql(s.field,i)});const n=t.endAt?new qd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qd(t.startAt.position,t.startAt.inclusive):null;return Ww(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kp(t,e){const n=t.filters.concat([e]);return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gd(t,e,n){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vh(t,e){return Gy(yr(t),yr(e))&&t.limitType===e.limitType}function yS(t){return`${qy(yr(t))}|lt:${t.limitType}`}function ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mS(s)).join(", ")}]`),vc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>$a(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>$a(s)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ul(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const d=$w(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,ul(r),s)||r.endAt&&!function(a,l,c){const d=$w(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,ul(r),s))}(t,e)}function o5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vS(t){return(e,n)=>{let r=!1;for(const s of ul(t)){const i=l5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function l5(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),d=l.data.field(i);return c!==null&&d!==null?za(c,d):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=new Ke(oe.comparator);function $r(){return c5}const xS=new Ke(oe.comparator);function qo(...t){let e=xS;for(const n of t)e=e.insert(n.key,n);return e}function wS(t){let e=xS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return dl()}function bS(){return dl()}function dl(){return new eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const u5=new Ke(oe.comparator),d5=new Pt(oe.comparator);function ve(...t){let e=d5;for(const n of t)e=e.add(n);return e}const h5=new Pt(je);function f5(){return h5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function _S(t){return{integerValue:""+t}}function m5(t,e){return HF(e)?_S(e):Ky(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function p5(t,e,n){return t instanceof Gl?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&$y(i)&&(i=Hy(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Kl?TS(t,e):t instanceof Ql?kS(t,e):function(s,i){const a=ES(s,i),l=Gw(a)+Gw(s.Pe);return Wp(a)&&Wp(s.Pe)?_S(l):Ky(s.serializer,l)}(t,e)}function g5(t,e,n){return t instanceof Kl?TS(t,e):t instanceof Ql?kS(t,e):n}function ES(t,e){return t instanceof Kd?function(r){return Wp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Gl extends Uh{}class Kl extends Uh{constructor(e){super(),this.elements=e}}function TS(t,e){const n=SS(e);for(const r of t.elements)n.some(s=>xr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ql extends Uh{constructor(e){super(),this.elements=e}}function kS(t,e){let n=SS(e);for(const r of t.elements)n=n.filter(s=>!xr(s,r));return{arrayValue:{values:n}}}class Kd extends Uh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Gw(t){return tt(t.integerValue||t.doubleValue)}function SS(t){return Wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this.field=e,this.transform=n}}function v5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Kl&&s instanceof Kl||r instanceof Ql&&s instanceof Ql?Ba(r.elements,s.elements,xr):r instanceof Kd&&s instanceof Kd?xr(r.Pe,s.Pe):r instanceof Gl&&s instanceof Gl}(t.transform,e.transform)}class x5{constructor(e,n){this.version=e,this.transformResults=n}}class ct{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ct}static exists(e){return new ct(void 0,e)}static updateTime(e){return new ct(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function NS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wc(t.key,ct.none()):new xc(t.key,t.data,ct.none());{const n=t.data,r=en.empty();let s=new Pt(It.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Ws(t.key,r,new _n(s.toArray()),ct.none())}}function w5(t,e,n){t instanceof xc?function(s,i,a){const l=s.value.clone(),c=Qw(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ws?function(s,i,a){if(!Ku(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Qw(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(jS(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function hl(t,e,n,r){return t instanceof xc?function(i,a,l,c){if(!Ku(i.precondition,a))return l;const d=i.value.clone(),h=Yw(i.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ws?function(i,a,l,c){if(!Ku(i.precondition,a))return l;const d=Yw(i.fieldTransforms,c,a),h=a.data;return h.setAll(jS(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Ku(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function b5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=ES(r.transform,s||null);i!=null&&(n===null&&(n=en.empty()),n.set(r.field,i))}return n||null}function Kw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ba(r,s,(i,a)=>v5(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends Bh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ws extends Bh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qw(t,e,n){const r=new Map;ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,g5(a,l,n[s]))}return r}function Yw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,p5(i,a,e))}return r}class wc extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AS extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&w5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bS();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=NS(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(n,r)=>Kw(n,r))&&Ba(this.baseMutations,e.baseMutations,(n,r)=>Kw(n,r))}}class Qy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length);let s=function(){return u5}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Qy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ee;function IS(t){switch(t){default:return ce();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function CS(t){if(t===void 0)return zr("GRPC error has no .code"),U.UNKNOWN;switch(t){case it.OK:return U.OK;case it.CANCELLED:return U.CANCELLED;case it.UNKNOWN:return U.UNKNOWN;case it.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case it.INTERNAL:return U.INTERNAL;case it.UNAVAILABLE:return U.UNAVAILABLE;case it.UNAUTHENTICATED:return U.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case it.NOT_FOUND:return U.NOT_FOUND;case it.ALREADY_EXISTS:return U.ALREADY_EXISTS;case it.PERMISSION_DENIED:return U.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case it.ABORTED:return U.ABORTED;case it.OUT_OF_RANGE:return U.OUT_OF_RANGE;case it.UNIMPLEMENTED:return U.UNIMPLEMENTED;case it.DATA_LOSS:return U.DATA_LOSS;default:return ce()}}(Ee=it||(it={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=new mi([4294967295,4294967295],0);function Xw(t){const e=k5().encode(t),n=new Z2;return n.update(e),new Uint8Array(n.digest())}function Jw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new mi([n,r],0),new mi([s,i],0)]}class Yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(r<0)throw new Go(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(mi.fromNumber(r)));return s.compare(S5)===1&&(s=new mi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Xw(e),[r,s]=Jw(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Yy(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=Xw(e),[r,s]=Jw(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(he.min(),s,new Ke(je),$r(),ve())}}class bc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bc(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class PS{constructor(e,n){this.targetId=e,this.me=n}}class RS{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Zw{constructor(){this.fe=0,this.ge=tb(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce()}}),new bc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=tb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class N5{constructor(e){this.Le=e,this.Be=new Map,this.ke=$r(),this.qe=eb(),this.Qe=new Ke(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Gp(i))if(r===0){const a=new oe(i.path);this.Ue(n,a,_t.newNoDocument(a,he.min()))}else ke(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=Ni(r).toUint8Array()}catch(c){if(c instanceof lS)return Ua("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Yy(a,s,i)}catch(c){return Ua(c instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const l=this.Je(a);if(l){if(i.current&&Gp(l.target)){const c=new oe(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,_t.newNoDocument(c,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=ve();this.qe.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new zh(e,n,this.Qe,this.ke,r);return this.ke=$r(),this.qe=eb(),this.Qe=new Ke(je),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Zw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pt(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zw),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function eb(){return new Ke(oe.comparator)}function tb(){return new Ke(oe.comparator)}const j5={asc:"ASCENDING",desc:"DESCENDING"},A5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I5={and:"AND",or:"OR"};class C5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qp(t,e){return t.useProto3Json||vc(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P5(t,e){return Qd(t,e.toTimestamp())}function Sn(t){return ke(!!t),he.fromTimestamp(function(n){const r=Ms(n);return new gt(r.seconds,r.nanos)}(t))}function Xy(t,e){return Yp(t,e).canonicalString()}function Yp(t,e){const n=function(s){return new De(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DS(t){const e=De.fromString(t);return ke(BS(e)),e}function Yd(t,e){return Xy(t.databaseId,e.path)}function fl(t,e){const n=DS(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(OS(n))}function LS(t,e){return Xy(t.databaseId,e)}function R5(t){const e=DS(t);return e.length===4?De.emptyPath():OS(e)}function Xp(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OS(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nb(t,e,n){return{name:Yd(t,e),fields:n.value.mapValue.fields}}function M5(t,e){return"found"in e?function(r,s){ke(!!s.found),s.found.name,s.found.updateTime;const i=fl(r,s.found.name),a=Sn(s.found.updateTime),l=s.found.createTime?Sn(s.found.createTime):he.min(),c=new en({mapValue:{fields:s.found.fields}});return _t.newFoundDocument(i,a,l,c)}(t,e):"missing"in e?function(r,s){ke(!!s.missing),ke(!!s.readTime);const i=fl(r,s.missing),a=Sn(s.readTime);return _t.newNoDocument(i,a)}(t,e):ce()}function D5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ke(h===void 0||typeof h=="string"),Lt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?U.UNKNOWN:CS(d.code);return new Q(h,d.message||"")}(a);n=new RS(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fl(t,r.document.name),i=Sn(r.document.updateTime),a=r.document.createTime?Sn(r.document.createTime):he.min(),l=new en({mapValue:{fields:r.document.fields}}),c=_t.newFoundDocument(s,i,a,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Qu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fl(t,r.document),i=r.readTime?Sn(r.readTime):he.min(),a=_t.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Qu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fl(t,r.document),i=r.removedTargetIds||[];n=new Qu([],i,s,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new T5(s,i),l=r.targetId;n=new PS(l,a)}}return n}function VS(t,e){let n;if(e instanceof xc)n={update:nb(t,e.key,e.value)};else if(e instanceof wc)n={delete:Yd(t,e.key)};else if(e instanceof Ws)n={update:nb(t,e.key,e.data),updateMask:H5(e.fieldMask)};else{if(!(e instanceof AS))return ce();n={verify:Yd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Gl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Kl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ql)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Kd)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:P5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function L5(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?Sn(s.updateTime):Sn(i);return a.isEqual(he.min())&&(a=Sn(i)),new x5(a,s.transformResults||[])}(n,e))):[]}function O5(t,e){return{documents:[LS(t,e.path)]}}function V5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LS(t,s);const i=function(d){if(d.length!==0)return US(nr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:ta(m.field),direction:B5(m.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Qp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function F5(t){let e=R5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=FS(f);return m instanceof nr&&hS(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(T){return new ql(na(T.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,vc(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new qd(g,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,g=f.values||[];return new qd(g,m)}(n.endAt)),i5(e,s,a,i,l,"F",c,d)}function U5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=na(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=na(n.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=na(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=na(n.unaryFilter.field);return lt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(na(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>FS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function B5(t){return j5[t]}function z5(t){return A5[t]}function $5(t){return I5[t]}function ta(t){return{fieldPath:t.canonicalString()}}function na(t){return It.fromServerFormat(t.fieldPath)}function US(t){return t instanceof lt?function(n){if(n.op==="=="){if(zw(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NAN"}};if(Bw(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zw(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NAN"}};if(Bw(n.value))return{unaryFilter:{field:ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(n.field),op:z5(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(s=>US(s));return r.length===1?r[0]:{compositeFilter:{op:$5(n.op),filters:r}}}(t):ce()}function H5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function BS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,s,i=he.min(),a=he.min(),l=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.ct=e}}function q5(t){const e=F5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(){this.un=new K5}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Rs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class K5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Pt(De.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Pt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ha(0)}static kn(){return new Ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.changes=new eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hl(r.mutation,s,_n.empty(),gt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=qo();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=$r();const a=dl(),l=function(){return dl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ws)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),hl(h.mutation,d,h.mutation.getFieldMask(),gt.now())):a.set(d.key,_n.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var f;return l.set(d,new Y5(h,(f=a.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=dl();let s=new Ke((a,l)=>a-l),i=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||_n.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||ve()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=bS();h.forEach(m=>{if(!i.has(m)){const g=NS(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,f))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(ci());let l=-1,c=i;return a.next(d=>z.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,ve())).next(h=>({batchId:l,changes:wS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=qo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=qo();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,c=>{const d=function(f,m){return new Za(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,_t.newInvalidDocument(h)))});let l=qo();return a.forEach((c,d)=>{const h=i.get(c);h!==void 0&&hl(h.mutation,d,_n.empty(),gt.now()),Fh(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Sn(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:q5(s.bundledQuery),readTime:Sn(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.overlays=new Ke(oe.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=ci(),i=n.length+1,a=new oe(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=ci(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=ci(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return z.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new E5(n,r));let i=this.Ir.get(n);i===void 0&&(i=ve(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Tr=new Pt(wt.Er),this.dr=new Pt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new De([])),r=new wt(n,e),s=new wt(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new De([])),r=new wt(n,e),s=new wt(n,e+1);let i=ve();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pt(wt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new _5(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new wt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),s=new wt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const l=this.Dr(a.wr);i.push(l)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(je);return n.forEach(s=>{const i=new wt(s,0),a=new wt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],l=>{r=r.add(l.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const a=new wt(new oe(i),0);let l=new Pt(je);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.wr)),!0)},a),z.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const i=new wt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new wt(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.Mr=e,this.docs=function(){return new Ke(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_t.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=$r();const a=n.path,l=new oe(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||UF(FF(h),r)<=0||(s.has(h.key)||Fh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r6(this)}getSize(e){return z.resolve(this.size)}}class r6 extends Q5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.persistence=e,this.Nr=new eo(n=>qy(n),Gy),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jy,this.targetCount=0,this.kr=Ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zy(0),this.Kr=!1,this.Kr=!0,this.$r=new e6,this.referenceDelegate=e(this),this.Ur=new s6(this),this.indexManager=new G5,this.remoteDocumentCache=function(s){return new n6(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new W5(n),this.Gr=new J5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new t6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new a6(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class a6 extends zF{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Jr=new Jy,this.Yr=null}static Zr(e){return new Zy(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=oe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ve(),s=ve();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ev(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ID()?8:$F(Gt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new o6;return this.Xi(e,n,a).next(l=>{if(i.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Mo()<=we.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Mo()<=we.DEBUG&&ee("QueryEngine","Query:",ea(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Mo()<=we.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):z.resolve())}Yi(e,n){if(qw(n))return z.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gd(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=ve(...i);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,a,c.readTime)?this.Yi(e,Gd(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return qw(n)||s.isEqual(he.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?z.resolve(null):(Mo()<=we.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ea(n)),this.rs(e,a,n,VF(s,-1)).next(l=>l))})}ts(e,n){let r=new Pt(vS(e));return n.forEach((s,i)=>{Fh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Mo()<=we.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",ea(n)),this.Ji.getDocumentsMatchingQuery(e,n,Rs.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ke(je),this._s=new eo(i=>qy(i),Gy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function u6(t,e,n,r){return new c6(t,e,n,r)}async function zS(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=ve();for(const d of s){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:l}))})})}function d6(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,m=f.keys();let g=z.resolve();return m.forEach(T=>{g=g.next(()=>h.getEntry(c,T)).next(S=>{const N=d.docVersions.get(T);ke(N!==null),S.version.compareTo(N)<0&&(f.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),h.addEntry(S)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ve();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function $S(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function h6(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;l.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Lt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(S,N,_){return S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,h)&&l.push(n.Ur.updateTargetData(i,g))});let c=$r(),d=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(f6(i,a,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(he.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return z.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function f6(t,e,n){let r=ve(),s=ve();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=$r();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ee("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function m6(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function p6(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new fs(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Jp(t,e,n){const r=pe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!yc(a))throw a;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function rb(t,e,n){const r=pe(t);let s=he.min(),i=ve();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const f=pe(c),m=f._s.get(h);return m!==void 0?z.resolve(f.os.get(m)):f.Ur.getTargetData(d,h)}(r,a,yr(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:he.min(),n?i:ve())).next(l=>(g6(r,o5(e),l),{documents:l,Ts:i})))}function g6(t,e,n){let r=t.us.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class sb{constructor(){this.activeTargetIds=f5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y6{constructor(){this.so=new sb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u=null;function gm(){return _u===null?_u=function(){return 268435456+Math.round(2147483648*Math.random())}():_u++,"0x"+_u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class b6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const l=gm(),c=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,c,d,s).then(h=>(ee("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw Ua("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,a,l){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ja}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=x6[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=gm();return new Promise((a,l)=>{const c=new eS;c.setWithCredentials(!0),c.listenOnce(tS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qu.NO_ERROR:const h=c.getResponseJson();ee(Bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case qu.TIMEOUT:ee(Bt,`RPC '${e}' ${i} timed out`),l(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const f=c.getStatus();if(ee(Bt,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const T=function(N){const _=N.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(g.status);l(new Q(T,g.message))}else l(new Q(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q(U.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{ee(Bt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);ee(Bt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=gm(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=sS(),l=rS(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");ee(Bt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=a.createWebChannel(h,c);let m=!1,g=!1;const T=new w6({Io:N=>{g?ee(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(m||(ee(Bt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),ee(Bt,`RPC '${e}' stream ${s} sending:`,N),f.send(N))},To:()=>f.close()}),S=(N,_,y)=>{N.listen(_,x=>{try{y(x)}catch(j){setTimeout(()=>{throw j},0)}})};return S(f,Wo.EventType.OPEN,()=>{g||(ee(Bt,`RPC '${e}' stream ${s} transport opened.`),T.yo())}),S(f,Wo.EventType.CLOSE,()=>{g||(g=!0,ee(Bt,`RPC '${e}' stream ${s} transport closed`),T.So())}),S(f,Wo.EventType.ERROR,N=>{g||(g=!0,Ua(Bt,`RPC '${e}' stream ${s} transport errored:`,N),T.So(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),S(f,Wo.EventType.MESSAGE,N=>{var _;if(!g){const y=N.data[0];ke(!!y);const x=y,j=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(j){ee(Bt,`RPC '${e}' stream ${s} received error:`,j);const D=j.status;let C=function(E){const k=it[E];if(k!==void 0)return CS(k)}(D),b=j.message;C===void 0&&(C=U.INTERNAL,b="Unknown error status: "+D+" with message "+j.message),g=!0,T.So(new Q(C,b)),f.close()}else ee(Bt,`RPC '${e}' stream ${s} received:`,y),T.bo(y)}}),S(l,nS.STAT_EVENT,N=>{N.stat===$p.PROXY?ee(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===$p.NOPROXY&&ee(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return new C5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,s,i,a,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tv(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _6 extends HS{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=D5(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?Sn(a.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xp(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Gp(c)?{documents:O5(i,c)}:{query:V5(i,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=MS(i,a.resumeToken);const d=Qp(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(he.min())>0){l.readTime=Qd(i,a.snapshotVersion.toTimestamp());const d=Qp(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=U5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xp(this.serializer),n.removeTarget=e,this.a_(n)}}class E6 extends HS{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=L5(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Xp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VS(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Yp(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(U.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,Yp(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q(U.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class k6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{zi(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=pe(c);d.L_.add(4),await _c(d),d.q_.set("Unknown"),d.L_.delete(4),await Hh(d)}(this))})}),this.q_=new k6(r,s)}}async function Hh(t){if(zi(t))for(const e of t.B_)await e(!0)}async function _c(t){for(const e of t.B_)await e(!1)}function WS(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),iv(n)?sv(n):to(n).r_()&&rv(n,e))}function nv(t,e){const n=pe(t),r=to(n);n.N_.delete(e),r.r_()&&qS(n,e),n.N_.size===0&&(r.r_()?r.o_():zi(n)&&n.q_.set("Unknown"))}function rv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}to(t).A_(e)}function qS(t,e){t.Q_.xe(e),to(t).R_(e)}function sv(t){t.Q_=new N5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),to(t).start(),t.q_.v_()}function iv(t){return zi(t)&&!to(t).n_()&&t.N_.size>0}function zi(t){return pe(t).L_.size===0}function GS(t){t.Q_=void 0}async function N6(t){t.q_.set("Online")}async function j6(t){t.N_.forEach((e,n)=>{rv(t,e)})}async function A6(t,e){GS(t),iv(t)?(t.q_.M_(e),sv(t)):t.q_.set("Unknown")}async function I6(t,e,n){if(t.q_.set("Online"),e instanceof RS&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xd(t,r)}else if(e instanceof Qu?t.Q_.Ke(e):e instanceof PS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await $S(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.Q_.rt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),qS(i,c);const f=new fs(h.target,c,d,h.sequenceNumber);rv(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Xd(t,r)}}async function Xd(t,e,n){if(!yc(e))throw e;t.L_.add(1),await _c(t),t.q_.set("Offline"),n||(n=()=>$S(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Hh(t)})}function KS(t,e){return e().catch(n=>Xd(t,n,e))}async function Wh(t){const e=pe(t),n=Ds(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;C6(e);)try{const s=await m6(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,P6(e,s)}catch(s){await Xd(e,s)}QS(e)&&YS(e)}function C6(t){return zi(t)&&t.O_.length<10}function P6(t,e){t.O_.push(e);const n=Ds(t);n.r_()&&n.V_&&n.m_(e.mutations)}function QS(t){return zi(t)&&!Ds(t).n_()&&t.O_.length>0}function YS(t){Ds(t).start()}async function R6(t){Ds(t).p_()}async function M6(t){const e=Ds(t);for(const n of t.O_)e.m_(n.mutations)}async function D6(t,e,n){const r=t.O_.shift(),s=Qy.from(r,e,n);await KS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wh(t)}async function L6(t,e){e&&Ds(t).V_&&await async function(r,s){if(function(a){return IS(a)&&a!==U.ABORTED}(s.code)){const i=r.O_.shift();Ds(r).s_(),await KS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Wh(r)}}(t,e),QS(t)&&YS(t)}async function ab(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=zi(n);n.L_.add(3),await _c(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Hh(n)}async function O6(t,e){const n=pe(t);e?(n.L_.delete(2),await Hh(n)):e||(n.L_.add(2),await _c(n),n.q_.set("Unknown"))}function to(t){return t.K_||(t.K_=function(n,r,s){const i=pe(n);return i.w_(),new _6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:N6.bind(null,t),Ro:j6.bind(null,t),mo:A6.bind(null,t),d_:I6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),iv(t)?sv(t):t.q_.set("Unknown")):(await t.K_.stop(),GS(t))})),t.K_}function Ds(t){return t.U_||(t.U_=function(n,r,s){const i=pe(n);return i.w_(),new E6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R6.bind(null,t),mo:L6.bind(null,t),f_:M6.bind(null,t),g_:D6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Wh(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new av(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(t,e){if(zr("AsyncQueue",`${e}: ${t}`),yc(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=qo(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Ia(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.W_=new Ke(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wa{constructor(e,n,r,s,i,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Wa(e,n,Ia.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class F6{constructor(){this.queries=lb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=lb(),i.forEach((a,l)=>{for(const c of l.j_)c.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function lb(){return new eo(t=>yS(t),Vh)}async function lv(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new V6,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=ov(a,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&uv(n)}async function cv(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function U6(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&uv(n)}function B6(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function uv(t){t.Y_.forEach(e=>{e.next()})}var Zp,cb;(cb=Zp||(Zp={})).ea="default",cb.Cache="cache";class dv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.key=e}}class JS{constructor(e){this.key=e}}class z6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=vS(e),this.Ra=new Ia(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ob,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=Fh(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),S=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;m&&g?m.data.isEqual(g.data)?T!==S&&(r.track({type:3,doc:g}),N=!0):this.ga(m,g)||(r.track({type:2,doc:g}),N=!0,(c&&this.Aa(g,c)>0||d&&this.Aa(g,d)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),N=!0):m&&!g&&(r.track({type:1,doc:m}),N=!0,(c||d)&&(l=!0)),N&&(g?(a=a.add(g),i=S?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(g,T){const S=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return S(g)-S(T)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,a.length!==0||d?{snapshot:new Wa(this.query,e.Ra,i,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ob,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new JS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new XS(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Wa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class H6{constructor(e){this.key=e,this.va=!1}}class W6{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new eo(l=>yS(l),Vh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(oe.comparator),this.Na=new Map,this.La=new Jy,this.Ba={},this.ka=new Map,this.qa=Ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function q6(t,e,n=!0){const r=sN(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await ZS(r,e,n,!0),s}async function G6(t,e){const n=sN(t);await ZS(n,e,!0,!1)}async function ZS(t,e,n,r){const s=await p6(t.localStore,yr(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await K6(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&WS(t.remoteStore,s),l}async function K6(t,e,n,r,s){t.Ka=(f,m,g)=>async function(S,N,_,y){let x=N.view.ma(_);x.ns&&(x=await rb(S.localStore,N.query,!1).then(({documents:b})=>N.view.ma(b,x)));const j=y&&y.targetChanges.get(N.targetId),D=y&&y.targetMismatches.get(N.targetId)!=null,C=N.view.applyChanges(x,S.isPrimaryClient,j,D);return db(S,N.targetId,C.wa),C.snapshot}(t,f,m,g);const i=await rb(t.localStore,e,!0),a=new z6(e,i.Ts),l=a.ma(i.documents),c=bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(l,t.isPrimaryClient,c);db(t,n,d.wa);const h=new $6(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function Q6(t,e,n){const r=pe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!Vh(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&nv(r.remoteStore,s.targetId),eg(r,s.targetId)}).catch(gc)):(eg(r,s.targetId),await Jp(r.localStore,s.targetId,!0))}async function Y6(t,e){const n=pe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nv(n.remoteStore,r.targetId))}async function X6(t,e,n){const r=sU(t);try{const s=await function(a,l){const c=pe(a),d=gt.now(),h=l.reduce((g,T)=>g.add(T.key),ve());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=$r(),S=ve();return c.cs.getEntries(g,h).next(N=>{T=N,T.forEach((_,y)=>{y.isValidDocument()||(S=S.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,T)).next(N=>{f=N;const _=[];for(const y of l){const x=b5(y,f.get(y.key).overlayedDocument);x!=null&&_.push(new Ws(y.key,x,cS(x.value.mapValue),ct.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,_,l)}).next(N=>{m=N;const _=N.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(g,N.batchId,_)})}).then(()=>({batchId:m.batchId,changes:wS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let d=a.Ba[a.currentUser.toKey()];d||(d=new Ke(je)),d=d.insert(l,c),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,n),await Ec(r,s.changes),await Wh(r.remoteStore)}catch(s){const i=ov(s,"Failed to persist write");n.reject(i)}}async function eN(t,e){const n=pe(t);try{const r=await h6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?ke(a.va):s.removedDocuments.size>0&&(ke(a.va),a.va=!1))}),await Ec(n,r,e)}catch(r){await gc(r)}}function ub(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=pe(a);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(l)&&(d=!0)}),d&&uv(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J6(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new Ke(oe.comparator);a=a.insert(i,_t.newNoDocument(i,he.min()));const l=ve().add(i),c=new zh(he.min(),new Map,new Ke(je),a,l);await eN(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),hv(r)}else await Jp(r.localStore,e,!1).then(()=>eg(r,e,n)).catch(gc)}async function Z6(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await d6(n.localStore,e);nN(n,r,null),tN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ec(n,s)}catch(s){await gc(s)}}async function eU(t,e,n){const r=pe(t);try{const s=await function(a,l){const c=pe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(ke(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);nN(r,e,n),tN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ec(r,s)}catch(s){await gc(s)}}function tN(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nN(t,e,n){const r=pe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function eg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rN(t,r)})}function rN(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(nv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),hv(t))}function db(t,e,n){for(const r of n)r instanceof XS?(t.La.addReference(r.key,e),tU(t,r)):r instanceof JS?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rN(t,r.key)):ce()}function tU(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),hv(t))}function hv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(De.fromString(e)),r=t.qa.next();t.Na.set(r,new H6(n)),t.Oa=t.Oa.insert(n,r),WS(t.remoteStore,new fs(yr(Oh(n.path)),r,"TargetPurposeLimboResolution",zy.oe))}}async function Ec(t,e,n){const r=pe(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{a.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=ev.Wi(c.targetId,d);i.push(f)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(c,d){const h=pe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(d,m=>z.forEach(m.$i,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>z.forEach(m.Ui,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!yc(f))throw f;ee("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const g=h.os.get(m),T=g.snapshotVersion,S=g.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(m,S)}}}(r.localStore,i))}async function nU(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await zS(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new Q(U.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ec(n,r.hs)}}function rU(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let s=ve();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function sN(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J6.bind(null,e),e.Ca.d_=U6.bind(null,e.eventManager),e.Ca.$a=B6.bind(null,e.eventManager),e}function sU(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eU.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return u6(this.persistence,new l6,e.initialUser,this.serializer)}Ga(e){return new i6(Zy.Zr,this.serializer)}Wa(e){return new y6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ub(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nU.bind(null,this.syncEngine),await O6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F6}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),r=function(i){return new b6(i)}(e.databaseInfo);return function(i,a,l,c){return new T6(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new S6(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>ub(this.syncEngine,n,0),function(){return ib.D()?new ib:new v6}())}createSyncEngine(e,n){return function(s,i,a,l,c,d,h){const f=new W6(s,i,a,l,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);ee("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await _c(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tg.provider={build:()=>new tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Q(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const a=pe(s),l={documents:i.map(f=>Yd(a.serializer,f))},c=await a.Lo("BatchGetDocuments",a.serializer.databaseId,De.emptyPath(),l,i.length),d=new Map;c.forEach(f=>{const m=M5(a.serializer,f);d.set(m.key.toString(),m)});const h=[];return i.forEach(f=>{const m=d.get(f.toString());ke(!!m),h.push(m)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=oe.fromPath(r);this.mutations.push(new AS(s,this.precondition(s)))}),await async function(r,s){const i=pe(r),a={writes:s.map(l=>VS(i.serializer,l))};await i.Mo("Commit",i.serializer.databaseId,De.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ce();n=he.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Q(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(he.min())?ct.exists(!1):ct.updateTime(n):ct.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(he.min()))throw new Q(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(n)}return ct.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new tv(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new iU(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!vc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!IS(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=aS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{ee("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ee("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ov(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vm(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lU(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ab(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ab(e.remoteStore,s)),t._onlineComponents=e}async function lU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await vm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await vm(t,new Jd)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await vm(t,new Jd);return t._offlineComponents}async function mv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await hb(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await hb(t,new tg))),t._onlineComponents}function cU(t){return mv(t).then(e=>e.syncEngine)}function uU(t){return mv(t).then(e=>e.datastore)}async function Zd(t){const e=await mv(t),n=e.eventManager;return n.onListen=q6.bind(null,e.syncEngine),n.onUnlisten=Q6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y6.bind(null,e.syncEngine),n}function dU(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new fv({next:m=>{h.Za(),a.enqueueAndForget(()=>cv(i,f));const g=m.docs.has(l);!g&&m.fromCache?d.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?d.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new dv(Oh(l.path),h,{includeMetadataChanges:!0,_a:!0});return lv(i,f)}(await Zd(t),t.asyncQueue,e,n,r)),r.promise}function hU(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,d){const h=new fv({next:m=>{h.Za(),a.enqueueAndForget(()=>cv(i,f)),m.fromCache&&c.source==="server"?d.reject(new Q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new dv(l,h,{includeMetadataChanges:!0,_a:!0});return lv(i,f)}(await Zd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fU(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mb(t){if(!oe.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pb(t){if(oe.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mU(t,e){if(e<=0)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AF;switch(r.type){case"firstParty":return new RF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fb.get(n);r&&(ee("ComponentProvider","Removing Datastore"),fb.delete(n),r.terminate())}(this),Promise.resolve()}}function pU(t,e,n,r={}){var s;const i=(t=Wt(t,Gh))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=$t.MOCK_USER;else{l=Bk(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new $t(d)}t._authCredentials=new IF(new iS(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class Ss extends qr{constructor(e,n,r){super(e,n,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new oe(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function gn(t,e,...n){if(t=Ie(t),aN("collection","path",e),t instanceof Gh){const r=De.fromString(e,...n);return pb(r),new Ss(t,null,r)}{if(!(t instanceof Rt||t instanceof Ss))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return pb(r),new Ss(t.firestore,null,r)}}function ut(t,e,...n){if(t=Ie(t),arguments.length===1&&(e=aS.newId()),aN("doc","path",e),t instanceof Gh){const r=De.fromString(e,...n);return mb(r),new Rt(t,null,new oe(r))}{if(!(t instanceof Rt||t instanceof Ss))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return mb(r),new Rt(t.firestore,t instanceof Ss?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tv(this,"async_queue_retry"),this.Vu=()=>{const r=ym();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new gr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yc(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw zr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=av.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function vb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class rr extends Gh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new yb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yb(e),this._firestoreClient=void 0,await e}}}function gU(t,e){const n=typeof t=="object"?t:Ch(),r=typeof t=="string"?t:"(default)",s=zs(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Vk("firestore");i&&pU(s,...i)}return s}function no(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yU(t),t._firestoreClient}function yU(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,h){return new qF(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iN(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new oU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ai(Lt.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ai(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=/^__.*__$/;class xU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class oN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function lN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class yv{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new yv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return eh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(lN(this.Cu)&&vU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}Qu(e,n,r,s=!1){return new yv({Cu:e,methodName:n,qu:r,path:It.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function so(t){const e=t._freezeSettings(),n=$h(t._databaseId);return new wU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Qh(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);bv("Data must be an object, but it was:",a,r);const l=cN(r,a);let c,d;if(i.merge)c=new _n(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=ng(e,f,n);if(!a.contains(m))throw new Q(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);dN(h,m)||h.push(m)}c=new _n(h),d=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=a.fieldTransforms;return new xU(new en(l),c,d)}class Yh extends Kh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class vv extends Kh{_toFieldTransform(e){return new y5(e.path,new Gl)}isEqual(e){return e instanceof vv}}function xv(t,e,n,r){const s=t.Qu(1,e,n);bv("Data must be an object, but it was:",s,r);const i=[],a=en.empty();Bi(r,(c,d)=>{const h=_v(e,c,n);d=Ie(d);const f=s.Nu(h);if(d instanceof Yh)i.push(h);else{const m=Tc(d,f);m!=null&&(i.push(h),a.set(h,m))}});const l=new _n(i);return new oN(a,l,s.fieldTransforms)}function wv(t,e,n,r,s,i){const a=t.Qu(1,e,n),l=[ng(e,r,n)],c=[s];if(i.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(ng(e,i[m])),c.push(i[m+1]);const d=[],h=en.empty();for(let m=l.length-1;m>=0;--m)if(!dN(d,l[m])){const g=l[m];let T=c[m];T=Ie(T);const S=a.Nu(g);if(T instanceof Yh)d.push(g);else{const N=Tc(T,S);N!=null&&(d.push(g),h.set(g,N))}}const f=new _n(d);return new oN(h,f,a.fieldTransforms)}function bU(t,e,n,r=!1){return Tc(n,t.Qu(r?4:3,e))}function Tc(t,e){if(uN(t=Ie(t)))return bv("Unsupported field value:",e,t),cN(t,e);if(t instanceof Kh)return function(r,s){if(!lN(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=Tc(l,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ie(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=gt.fromDate(r);return{timestampValue:Qd(s.serializer,i)}}if(r instanceof gt){const i=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qd(s.serializer,i)}}if(r instanceof pv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ai)return{bytesValue:MS(s.serializer,r._byteString)};if(r instanceof Rt){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gv)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return Ky(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${qh(r)}`)}(t,e)}function cN(t,e){const n={};return oS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,s)=>{const i=Tc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function uN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof pv||t instanceof Ai||t instanceof Rt||t instanceof Kh||t instanceof gv)}function bv(t,e,n){if(!uN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=qh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ng(t,e,n){if((e=Ie(e))instanceof ro)return e._internalPath;if(typeof e=="string")return _v(t,e);throw eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const _U=new RegExp("[~\\*/\\[\\]]");function _v(t,e,n){if(e.search(_U)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ro(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eh(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new Q(U.INVALID_ARGUMENT,l+t+c)}function dN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EU extends th{data(){return super.data()}}function Xh(t,e){return typeof e=="string"?_v(t,e):e instanceof ro?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ev{}class Tv extends Ev{}function Et(t,e,...n){let r=[];e instanceof Ev&&r.push(e),r=r.concat(n),function(i){const a=i.filter(c=>c instanceof kv).length,l=i.filter(c=>c instanceof Jh).length;if(a>1||a>0&&l>0)throw new Q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Jh extends Tv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jh(e,n,r)}_apply(e){const n=this._parse(e);return fN(e._query,n),new qr(e.firestore,e.converter,Kp(e._query,n))}_parse(e){const n=so(e.firestore);return function(i,a,l,c,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wb(f,h);const g=[];for(const T of f)g.push(xb(c,i,T));m={arrayValue:{values:g}}}else m=xb(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wb(f,h),m=bU(l,a,f,h==="in"||h==="not-in");return lt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Be(t,e,n){const r=e,s=Xh("where",t);return Jh._create(s,r,n)}class kv extends Ev{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)fN(a,c),a=Kp(a,c)}(e._query,n),new qr(e.firestore,e.converter,Kp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sv extends Tv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sv(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(i,a)}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Za(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Yl(t,e="asc"){const n=e,r=Xh("orderBy",t);return Sv._create(r,n)}class Nv extends Tv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Nv(e,n,r)}_apply(e){return new qr(e.firestore,e.converter,Gd(e._query,this._limit,this._limitType))}}function rg(t){return mU("limit",t),Nv._create("limit",t,"F")}function xb(t,e,n){if(typeof(n=Ie(n))=="string"){if(n==="")throw new Q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gS(e)&&n.indexOf("/")!==-1)throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!oe.isDocumentKey(r))throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uw(t,new oe(r))}if(n instanceof Rt)return Uw(t,n._key);throw new Q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function wb(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fN(t,e){const n=function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mN{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>tt(a.doubleValue));return new gv(i)}convertGeoPoint(e){return new pv(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Ms(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);ke(BS(r));const s=new Hl(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||zr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class TU extends mN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jv extends th{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yu extends jv{data(e={}){return super.data(e)}}class pN{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new wa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yu(this._firestore,this._userDataWriter,r.key,r,new wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Yu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new wa(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Yu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new wa(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:kU(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){t=Wt(t,Rt);const e=Wt(t.firestore,rr);return dU(no(e),t._key).then(n=>gN(e,t,n))}class ef extends mN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function zn(t){t=Wt(t,qr);const e=Wt(t.firestore,rr),n=no(e),r=new ef(e);return hN(t._query),hU(n,t._query).then(s=>new pN(e,r,t,s))}function Av(t,e,n){t=Wt(t,Rt);const r=Wt(t.firestore,rr),s=Zh(t.converter,e,n);return kc(r,[Qh(so(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ct.none())])}function $n(t,e,n,...r){t=Wt(t,Rt);const s=Wt(t.firestore,rr),i=so(s);let a;return a=typeof(e=Ie(e))=="string"||e instanceof ro?wv(i,"updateDoc",t._key,e,n,r):xv(i,"updateDoc",t._key,e),kc(s,[a.toMutation(t._key,ct.exists(!0))])}function Iv(t){return kc(Wt(t.firestore,rr),[new wc(t._key,ct.none())])}function SU(t,e){const n=Wt(t.firestore,rr),r=ut(t),s=Zh(t.converter,e);return kc(n,[Qh(so(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ct.exists(!1))]).then(()=>r)}function xm(t,...e){var n,r,s;t=Ie(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||vb(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vb(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,d,h;if(t instanceof Rt)d=Wt(t.firestore,rr),h=Oh(t._key.path),c={next:f=>{e[a]&&e[a](gN(d,t,f))},error:e[a+1],complete:e[a+2]};else{const f=Wt(t,qr);d=Wt(f.firestore,rr),h=f._query;const m=new ef(d);c={next:g=>{e[a]&&e[a](new pN(d,m,f,g))},error:e[a+1],complete:e[a+2]},hN(t._query)}return function(m,g,T,S){const N=new fv(S),_=new dv(g,N,T);return m.asyncQueue.enqueueAndForget(async()=>lv(await Zd(m),_)),()=>{N.Za(),m.asyncQueue.enqueueAndForget(async()=>cv(await Zd(m),_))}}(no(d),h,l,c)}function kc(t,e){return function(r,s){const i=new gr;return r.asyncQueue.enqueueAndForget(async()=>X6(await cU(r),s,i)),i.promise}(no(t),e)}function gN(t,e,n){const r=n.docs.get(e._key),s=new ef(t);return new jv(t,s,e._key,r,new wa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=so(e)}set(e,n,r){this._verifyNotCommitted();const s=ls(e,this._firestore),i=Zh(s.converter,n,r),a=Qh(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(a.toMutation(s._key,ct.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=ls(e,this._firestore);let a;return a=typeof(n=Ie(n))=="string"||n instanceof ro?wv(this._dataReader,"WriteBatch.update",i._key,n,r,s):xv(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,ct.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ls(e,this._firestore);return this._mutations=this._mutations.concat(new wc(n._key,ct.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Q(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ls(t,e){if((t=Ie(t)).firestore!==e)throw new Q(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=so(n)}get(n){const r=ls(n,this._firestore),s=new TU(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ce();const a=i[0];if(a.isFoundDocument())return new th(this._firestore,s,a.key,a,r.converter);if(a.isNoDocument())return new th(this._firestore,s,r._key,null,r.converter);throw ce()})}set(n,r,s){const i=ls(n,this._firestore),a=Zh(i.converter,r,s),l=Qh(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,s);return this._transaction.set(i._key,l),this}update(n,r,s,...i){const a=ls(n,this._firestore);let l;return l=typeof(r=Ie(r))=="string"||r instanceof ro?wv(this._dataReader,"Transaction.update",a._key,r,s,i):xv(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,l),this}delete(n){const r=ls(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ls(e,this._firestore),r=new ef(this._firestore);return super.get(e).then(s=>new jv(this._firestore,r,n._key,s._document,new wa(!1,!1),n.converter))}}function yN(t,e,n){t=Wt(t,rr);const r=Object.assign(Object.assign({},NU),n);return function(i){if(i.maxAttempts<1)throw new Q(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,l){const c=new gr;return i.asyncQueue.enqueueAndForget(async()=>{const d=await uU(i);new aU(i.asyncQueue,d,l,a,c).au()}),c.promise}(no(t),s=>e(new AU(t,s)),r)}function Me(){return new vv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){return no(t=Wt(t,rr)),new jU(t,e=>kc(t,e))}(function(e,n=!0){(function(s){Ja=s})(Fi),er(new Bn("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new rr(new CF(r.getProvider("auth-internal")),new DF(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(d.options.projectId,h)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),hn(Dw,"4.7.3",e),hn(Dw,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="firebasestorage.googleapis.com",wN="storageBucket",IU=2*60*1e3,CU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Hn{constructor(e,n,r=0){super(wm(e),`Firebase Storage: ${n} (${wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xe||(Xe={}));function wm(t){return"storage/"+t}function Cv(){const t="An unknown error occurred, please check the error payload for server response.";return new Je(Xe.UNKNOWN,t)}function PU(t){return new Je(Xe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function RU(t){return new Je(Xe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(Xe.UNAUTHENTICATED,t)}function DU(){return new Je(Xe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LU(t){return new Je(Xe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function OU(){return new Je(Xe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VU(){return new Je(Xe.CANCELED,"User canceled the upload/download.")}function FU(t){return new Je(Xe.INVALID_URL,"Invalid URL '"+t+"'.")}function UU(t){return new Je(Xe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BU(){return new Je(Xe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wN+"' property when initializing the app?")}function zU(){return new Je(Xe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $U(){return new Je(Xe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HU(t){return new Je(Xe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sg(t){return new Je(Xe.INVALID_ARGUMENT,t)}function bN(){return new Je(Xe.APP_DELETED,"The Firebase app was deleted.")}function WU(t){return new Je(Xe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ml(t,e){return new Je(Xe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Do(t){throw new Je(Xe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw UU(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),c={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),T={bucket:1,path:3},S=n===xN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",_=new RegExp(`^https?://${S}/${s}/${N}`,"i"),x=[{regex:l,indices:c,postModify:i},{regex:g,indices:T,postModify:d},{regex:_,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<x.length;j++){const D=x[j],C=D.regex.exec(e);if(C){const b=C[D.indices.bucket];let w=C[D.indices.path];w||(w=""),r=new En(b,w),D.postModify(r);break}}if(r==null)throw FU(e);return r}}class qU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function c(){return l===2}let d=!1;function h(...N){d||(d=!0,e.apply(null,N))}function f(N){s=setTimeout(()=>{s=null,t(g,c())},N)}function m(){i&&clearTimeout(i)}function g(N,..._){if(d){m();return}if(N){m(),h.call(null,N,..._);return}if(c()||a){m(),h.call(null,N,..._);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,f(x)}let T=!1;function S(N){T||(T=!0,m(),!d&&(s!==null?(N||(l=2),clearTimeout(s),f(0)):N||(l=1)))}return f(0),i=setTimeout(()=>{a=!0,S(!0)},n),S}function KU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(t){return t!==void 0}function YU(t){return typeof t=="object"&&!Array.isArray(t)}function Pv(t){return typeof t=="string"||t instanceof String}function bb(t){return Rv()&&t instanceof Blob}function Rv(){return typeof Blob<"u"}function _b(t,e,n,r){if(r<e)throw sg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function _N(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var pi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pi||(pi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,n,r,s,i,a,l,c,d,h,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,T)=>{this.resolve_=g,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Eu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===pi.NO_ERROR,c=i.getStatus();if(!l||XU(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===pi.ABORT;r(!1,new Eu(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Eu(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());QU(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=Cv();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(s.canceled){const c=this.appDelete_?bN():VU();a(c)}else{const c=OU();a(c)}};this.canceled_?n(!1,new Eu(!1,null,!0)):this.backoffId_=GU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Eu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ZU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eB(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tB(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nB(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rB(t,e,n,r,s,i,a=!0){const l=_N(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return tB(d,e),ZU(d,n),eB(d,i),nB(d,r),new JU(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iB(...t){const e=sB();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Rv())return new Blob(t);throw new Je(Xe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aB(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){if(typeof atob>"u")throw HU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bm{constructor(e,n){this.data=e,this.contentType=n||null}}function lB(t,e){switch(t){case ur.RAW:return new bm(EN(e));case ur.BASE64:case ur.BASE64URL:return new bm(TN(t,e));case ur.DATA_URL:return new bm(uB(e),dB(e))}throw Cv()}function EN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cB(t){let e;try{e=decodeURIComponent(t)}catch{throw ml(ur.DATA_URL,"Malformed data URL.")}return EN(e)}function TN(t,e){switch(t){case ur.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ml(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case ur.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ml(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oB(e)}catch(s){throw s.message.includes("polyfill")?s:ml(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class kN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ml(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=hB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function uB(t){const e=new kN(t);return e.base64?TN(ur.BASE64,e.rest):cB(e.rest)}function dB(t){return new kN(t).contentType}function hB(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){let r=0,s="";bb(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(bb(this.data_)){const r=this.data_,s=aB(r,e,n);return s===null?null:new cs(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new cs(r,!0)}}static getBlob(...e){if(Rv()){const n=e.map(r=>r instanceof cs?r.data_:r);return new cs(iB.apply(null,n))}else{const n=e.map(a=>Pv(a)?lB(ur.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)s[i++]=a[l]}),new cs(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){let e;try{e=JSON.parse(t)}catch{return null}return YU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mB(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function NN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t,e){return e}class Qt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||pB}}let Tu=null;function gB(t){return!Pv(t)||t.length<2?t:NN(t)}function jN(){if(Tu)return Tu;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(i,a){return gB(a)}const n=new Qt("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const s=new Qt("size");return s.xform=r,t.push(s),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),Tu=t,Tu}function yB(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new En(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function vB(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return yB(r,t),r}function AN(t,e,n){const r=SN(e);return r===null?null:vB(t,r,n)}function xB(t,e,n,r){const s=SN(e);if(s===null||!Pv(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,f=t.fullPath,m="/b/"+a(h)+"/o/"+a(f),g=tf(m,n,r),T=_N({alt:"media",token:d});return g+T})[0]}function wB(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Mv{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){if(!t)throw Cv()}function bB(t,e){function n(r,s){const i=AN(t,s,e);return IN(i!==null),i}return n}function _B(t,e){function n(r,s){const i=AN(t,s,e);return IN(i!==null),xB(i,s,t.host,t._protocol)}return n}function CN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=DU():s=MU():n.getStatus()===402?s=RU(t.bucket):n.getStatus()===403?s=LU(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function PN(t){const e=CN(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=PU(t.path)),i.serverResponse=s.serverResponse,i}return n}function EB(t,e,n){const r=e.fullServerUrl(),s=tf(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,l=new Mv(s,i,_B(t,n),a);return l.errorHandler=PN(e),l}function TB(t,e){const n=e.fullServerUrl(),r=tf(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function a(c,d){}const l=new Mv(r,s,a,i);return l.successCodes=[200,204],l.errorHandler=PN(e),l}function kB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function SB(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=kB(null,e)),r}function NB(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let x="";for(let j=0;j<2;j++)x=x+Math.random().toString().slice(2);return x}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const d=SB(e,r,s),h=wB(d,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+c+"--",g=cs.getBlob(f,r,m);if(g===null)throw zU();const T={name:d.fullPath},S=tf(i,t.host,t._protocol),N="POST",_=t.maxUploadRetryTime,y=new Mv(S,N,bB(t,n),_);return y.urlParams=T,y.headers=a,y.body=g.uploadData(),y.errorHandler=CN(e),y}class jB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Do("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Do("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Do("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Do("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Do("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AB extends jB{initXhr(){this.xhr_.responseType="text"}}function Dv(){return new AB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ii(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NN(this._location.path)}get storage(){return this._service}get parent(){const e=fB(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new Ii(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WU(e)}}function IB(t,e,n){t._throwIfRoot("uploadBytes");const r=NB(t.storage,t._location,jN(),new cs(e,!0),n);return t.storage.makeRequestWithTokens(r,Dv).then(s=>({metadata:s,ref:t}))}function CB(t){t._throwIfRoot("getDownloadURL");const e=EB(t.storage,t._location,jN());return t.storage.makeRequestWithTokens(e,Dv).then(n=>{if(n===null)throw $U();return n})}function PB(t){t._throwIfRoot("deleteObject");const e=TB(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Dv)}function RB(t,e){const n=mB(t._location.path,e),r=new En(t._location.bucket,n);return new Ii(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){return/^[A-Za-z]+:\/\//.test(t)}function DB(t,e){return new Ii(t,e)}function RN(t,e){if(t instanceof Lv){const n=t;if(n._bucket==null)throw BU();const r=new Ii(n,n._bucket);return e!=null?RN(r,e):r}else return e!==void 0?RB(t,e):t}function LB(t,e){if(e&&MB(e)){if(t instanceof Lv)return DB(t,e);throw sg("To use ref(service, url), the first argument must be a Storage instance.")}else return RN(t,e)}function Eb(t,e){const n=e==null?void 0:e[wN];return n==null?null:En.makeFromBucketSpec(n,t)}function OB(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Bk(s,t.app.options.projectId))}class Lv{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=xN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IU,this._maxUploadRetryTime=CU,this._requests=new Set,s!=null?this._bucket=En.makeFromBucketSpec(s,this._host):this._bucket=Eb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=Eb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ii(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new qU(bN());{const a=rB(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Tb="@firebase/storage",kb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="storage";function DN(t,e,n){return t=Ie(t),IB(t,e,n)}function LN(t){return t=Ie(t),CB(t)}function VB(t){return t=Ie(t),PB(t)}function Ov(t,e){return t=Ie(t),LB(t,e)}function FB(t=Ch(),e){t=Ie(t);const r=zs(t,MN).getImmediate({identifier:e}),s=Vk("storage");return s&&UB(r,...s),r}function UB(t,e,n,r={}){OB(t,e,n,r)}function BB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Lv(n,r,s,e,Fi)}function zB(){er(new Bn(MN,BB,"PUBLIC").setMultipleInstances(!0)),hn(Tb,kb,""),hn(Tb,kb,"esm2017")}zB();const $B={apiKey:"AIzaSyDFZtEa_Gg04nCGcEnwfbrpugERQ2lvHes",authDomain:"coding-7b4b3.firebaseapp.com",projectId:"coding-7b4b3",storageBucket:"coding-7b4b3.firebasestorage.app",messagingSenderId:"647426131575",appId:"1:647426131575:web:dbdddaab7c395ed5b1e872",measurementId:"G-VJBZ5YTZ53"},nf=Kk($B),Ci=l3(nf);kF(nf);const be=gU(nf),Vv=FB(nf),HB=async(t,e)=>{try{const n=await qO(Ci,t,e),r=ut(be,"users",n.user.uid);return await Av(r,{uid:n.user.uid,email:t,name:"New User",coderName:"",profileImage:"",createdAt:Me(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rankWins:0,rankMatches:0,rank:"Unranked",lastActive:Me()},achievements:[],solvedProblems:[],lastActive:Me()}),{user:n.user,error:null}}catch(n){return n.code==="auth/email-already-in-use"?{user:null,error:"Account already exists. Please log in."}:{user:null,error:n.message}}},WB=async(t,e)=>{try{const n=await GO(Ci,t,e),r=ut(be,"users",n.user.uid);return await $n(r,{lastActive:Me()}),{user:n.user,error:null}}catch(n){return n.code==="auth/user-not-found"?{user:null,error:"No account found. Please sign up."}:{user:null,error:n.message}}},qB=async()=>{try{const t=Ci.currentUser;if(t){const e=ut(be,"users",t.uid);await $n(e,{lastActive:Me()})}return await XO(Ci),{success:!0,error:null}}catch(t){return{success:!1,error:t.message}}},wn=async t=>{try{const e=ut(be,"users",t),n=await sr(e);if(n.exists())return{data:n.data(),error:null};{const r={uid:t,name:"New User",coderName:"",profileImage:"",createdAt:Me(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rankWins:0,rankMatches:0,rank:"Unranked",lastActive:Me()},achievements:[],solvedProblems:[],lastActive:Me()};return await Av(e,r),{data:r,error:null}}}catch(e){return console.error("Error fetching user profile:",e),{data:null,error:e.message}}},Xl=async(t,e)=>{try{const n=ut(be,"users",t);return(await sr(n)).exists()?await $n(n,{...e,lastActive:Me()}):await Av(n,{uid:t,name:e.name||"New User",coderName:e.coderName||"",profileImage:e.profileImage||"",createdAt:Me(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rankWins:0,rankMatches:0,rank:"Unranked",lastActive:Me()},achievements:[],solvedProblems:[],lastActive:Me()}),{success:!0,error:null}}catch(n){return console.error("Error updating user profile:",n),n.code==="permission-denied"?{success:!1,error:"Permission denied: You don't have access to update this profile. Please check Firebase security rules."}:{success:!1,error:n.message}}},GB=async(t,e)=>{try{if(!e.type.startsWith("image/"))throw new Error("Please upload an image file");const n=5*1024*1024;if(e.size>n)throw new Error("Image size should be less than 5MB");const r=Date.now(),s=e.name.split(".").pop(),i=`${t}_${r}.${s}`,a=Ov(Vv,`profileImages/${i}`),l=await DN(a,e);console.log("Uploaded file snapshot:",l);const c=await LN(a);console.log("Download URL:",c);const d=await Xl(t,{profileImage:c});if(!d.success)throw new Error(d.error||"Failed to update profile with new image");return{url:c,error:null}}catch(n){return console.error("Error uploading profile image:",n),n.code==="storage/unauthorized"?{url:null,error:"Permission denied: You need to be logged in to upload images"}:n.code==="storage/canceled"?{url:null,error:"Upload was cancelled"}:n.code==="storage/unknown"?{url:null,error:"An unknown error occurred during upload"}:{url:null,error:n.message||"Failed to upload image"}}},KB=async(t,e,n)=>{try{const r=ut(be,"users",t),s=await sr(r);if(!s.exists())throw new Error("User document not found");const a=s.data().solvedProblems||[];if(!a.includes(e)){a.push(e);const l=a.length;await $n(r,{solvedProblems:a,"stats.problemsSolved":l,lastActive:Me()})}return{success:!0,error:null}}catch(r){return console.error("Error updating problem solved status:",r),{success:!1,error:r.message}}},ON=async(t,e,n)=>{try{if(console.log("Updating match results - Winner:",t,"Loser:",e,"Match:",n),n){const r=ut(be,"matches",n),s=await sr(r);if(s.exists()&&s.data().pointsAwarded===!0)return console.log(`Match ${n} already processed, not awarding points again`),{success:!0,error:null,alreadyProcessed:!0}}return await yN(be,async r=>{var c,d,h,f;const s=ut(be,"users",t),i=await r.get(s),a=ut(be,"users",e),l=await r.get(a);if(i.exists()){const m=i.data(),g=((c=m.stats)==null?void 0:c.totalRankPoints)||0,T=((d=m.stats)==null?void 0:d.rankWins)||0,S=((h=m.stats)==null?void 0:h.rankMatches)||0;console.log(`Winner ${t} current stats:`,{currentRankPoints:g,rankWins:T,rankMatches:S}),r.update(s,{"stats.totalRankPoints":g+1,"stats.rankWins":T+1,"stats.rankMatches":S+1,lastActive:Me()}),console.log(`Winner ${t} updated stats:`,{totalRankPoints:g+1,rankWins:T+1,rankMatches:S+1})}else console.log(`Creating new document for winner ${t}`),r.set(s,{uid:t,name:"New User",createdAt:Me(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:1,rankWins:1,rankMatches:1,rank:"Bronze",lastActive:Me()},solvedProblems:[],lastActive:Me()});if(l.exists()){const g=((f=l.data().stats)==null?void 0:f.rankMatches)||0;console.log(`Loser ${e} current matches:`,g),r.update(a,{"stats.rankMatches":g+1,lastActive:Me()}),console.log(`Loser ${e} updated matches:`,g+1)}else console.log(`Creating new document for loser ${e}`),r.set(a,{uid:e,name:"New User",createdAt:Me(),stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rankWins:0,rankMatches:1,rank:"Unranked",lastActive:Me()},solvedProblems:[],lastActive:Me()})}),await Promise.all([Sb(t),Sb(e)]),console.log("Successfully updated winner and loser stats and ranks"),{success:!0,error:null,alreadyProcessed:!1}}catch(r){return console.error("Error updating match results:",r),{success:!1,error:r.message,alreadyProcessed:!1}}},Sb=async t=>{var e;try{const n=ut(be,"users",t),r=await sr(n);if(!r.exists())throw new Error("User document not found");const i=((e=r.data().stats)==null?void 0:e.totalRankPoints)||0;let a="Unranked";return i>=100?a="Diamond":i>=80?a="Platinum":i>=60?a="Gold":i>=30?a="Silver":i>0&&(a="Bronze"),console.log(`User ${t} has ${i} rank points, new rank: ${a}`),await $n(n,{"stats.rank":a,lastActive:Me()}),console.log(`Updated user ${t} rank to ${a}`),{success:!0,error:null}}catch(n){return console.error("Error updating user rank:",n),{success:!1,error:n.message}}},Nb=async(t="global",e=10)=>{try{console.log(`Getting ${t} leaderboard, limit: ${e}`);const n=gn(be,"users");let r;t==="rankPoints"?r=Et(n,Yl("stats.totalRankPoints","desc"),rg(e)):r=Et(n,Yl("stats.problemsSolved","desc"),rg(e));const s=await zn(r);return console.log(`Found ${s.size} users for ${t} leaderboard`),{data:s.docs.map((a,l)=>{const c=a.data();return{id:a.id,name:c.name||"Anonymous",coderName:c.coderName||"",selectedAvatar:c.selectedAvatar||"boy1",rank:l+1,stats:c.stats||{}}}),error:null}}catch(n){return console.error("Error fetching leaderboard:",n),{data:[],error:n.message}}},jb=async(t,e="global")=>{var n,r;try{const s=await sr(ut(be,"users",t));if(!s.exists())throw new Error("User not found");const i=s.data(),a=e==="rankPoints"?((n=i.stats)==null?void 0:n.totalRankPoints)||0:((r=i.stats)==null?void 0:r.problemsSolved)||0,l=gn(be,"users"),d=Et(l,Be(e==="rankPoints"?"stats.totalRankPoints":"stats.problemsSolved",">",a));return{rank:(await zn(d)).size+1,error:null}}catch(s){return console.error("Error getting user rank position:",s),{rank:null,error:s.message}}},VN=P.createContext({currentUser:null,loading:!0}),Pn=()=>P.useContext(VN),QB=({children:t})=>{const[e,n]=P.useState(null),[r,s]=P.useState(!0);P.useEffect(()=>YO(Ci,l=>{n(l),s(!1)}),[]);const i={currentUser:e,loading:r};return o.jsx(VN.Provider,{value:i,children:!r&&t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Y=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...d},h)=>P.createElement("svg",{ref:h,...YB,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${XB(t)}`,l].join(" "),...d},[...e.map(([f,m])=>P.createElement(f,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Y("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Y("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Y("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=Y("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Y("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Y("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Y("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Y("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=Y("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Y("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=Y("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Y("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Y("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=Y("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Y("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Y("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Y("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Y("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Y("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Y("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Y("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=Y("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=Y("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=Y("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=Y("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Y("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Y("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=Y("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=Y("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=Y("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=Y("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=Y("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=Y("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=Y("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=Y("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=Y("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=Y("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=Y("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=Y("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=Y("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=Y("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Y("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=Y("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=Y("TerminalSquare",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=Y("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Y("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=Y("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=Y("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=Y("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=Y("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ec=({size:t=40,className:e="",variant:n="default"})=>{const r=()=>{switch(n){case"hero":return{whileHover:{rotate:[0,-10,10,-10,0],scale:[1,1.1,1.05,1.1,1],transition:{duration:.8,ease:"easeInOut"}}};case"navbar":return{whileHover:{rotate:360,scale:1.15,transition:{duration:.6,ease:"easeInOut"}}};case"minimal":return{whileHover:{scale:1.1,rotate:10,transition:{duration:.3}}};default:return{whileHover:{rotate:360,scale:1.15,transition:{duration:.8,ease:"easeInOut"}}}}};return o.jsxs(O.svg,{width:t,height:t,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`${e} cursor-pointer`,style:{display:"block",overflow:"visible"},...r(),children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:`gradient-${t}-${n}`,x1:"10",y1:"10",x2:"30",y2:"30",gradientUnits:"userSpaceOnUse",children:[o.jsx("stop",{stopColor:"#f45b69"}),o.jsx("stop",{offset:"1",stopColor:"#00d4ff"})]}),o.jsxs("filter",{id:`glow-${t}-${n}`,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),o.jsx("circle",{cx:"20",cy:"20",r:"18",stroke:`url(#gradient-${t}-${n})`,strokeWidth:"2",fill:"none",filter:`url(#glow-${t}-${n})`,style:{pointerEvents:"visibleStroke"}}),o.jsx("path",{d:"M13 15L20 22L27 15",stroke:`url(#gradient-${t}-${n})`,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",filter:`url(#glow-${t}-${n})`,style:{pointerEvents:"visibleStroke"}}),o.jsx("path",{d:"M13 25L20 18L27 25",stroke:`url(#gradient-${t}-${n})`,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",filter:`url(#glow-${t}-${n})`,style:{pointerEvents:"visibleStroke"}}),o.jsx("circle",{cx:"20",cy:"20",r:"19",fill:"transparent",stroke:"transparent",strokeWidth:"2",style:{pointerEvents:"all"}})]})},tc=({children:t,className:e="",variant:n="default",size:r="md"})=>{const s=()=>{switch(r){case"sm":return"text-lg";case"md":return"text-xl";case"lg":return"text-2xl";case"xl":return"text-3xl";default:return"text-xl"}},i=()=>{switch(n){case"hero":return{textShadow:["0 0 10px rgba(244, 91, 105, 0.5), 0 0 20px rgba(0, 212, 255, 0.3)","0 0 15px rgba(244, 91, 105, 0.7), 0 0 25px rgba(0, 212, 255, 0.5)","0 0 10px rgba(244, 91, 105, 0.5), 0 0 20px rgba(0, 212, 255, 0.3)"]};case"navbar":return{textShadow:["0 0 8px rgba(244, 91, 105, 0.4)","0 0 12px rgba(244, 91, 105, 0.6)","0 0 8px rgba(244, 91, 105, 0.4)"]};case"footer":return{textShadow:["0 0 6px rgba(244, 91, 105, 0.3)","0 0 10px rgba(244, 91, 105, 0.5)","0 0 6px rgba(244, 91, 105, 0.3)"]};default:return{textShadow:["0 0 6px rgba(244, 91, 105, 0.4)","0 0 10px rgba(244, 91, 105, 0.6)","0 0 6px rgba(244, 91, 105, 0.4)"]}}},a=()=>{switch(n){case"hero":return{scale:1.05,textShadow:"0 0 25px rgba(244, 91, 105, 1), 0 0 35px rgba(0, 212, 255, 0.8)"};case"navbar":return{scale:1.05,textShadow:"0 0 15px rgba(244, 91, 105, 0.8), 0 0 25px rgba(0, 212, 255, 0.6)"};default:return{scale:1.02,textShadow:"0 0 12px rgba(244, 91, 105, 0.7), 0 0 20px rgba(0, 212, 255, 0.5)"}}},l=()=>{switch(n){case"hero":return 5;case"navbar":return 4;case"footer":return 6;default:return 5}};return o.jsx(O.span,{className:`font-bold bg-clip-text text-transparent bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)] ${s()} ${e}`,animate:i(),whileHover:a(),transition:{textShadow:{duration:l(),repeat:1/0,ease:"easeInOut"},scale:{duration:.3,ease:"easeInOut"}},style:{filter:"brightness(1.1)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:t})},dt=({children:t})=>o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.5},className:"min-h-screen flex flex-col relative overflow-x-hidden",children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-[-1]",children:[o.jsx("div",{className:"absolute top-[10%] right-[5%] w-64 h-64 bg-[var(--accent)] rounded-full filter blur-[120px] opacity-5"}),o.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-80 h-80 bg-[var(--accent-secondary)] rounded-full filter blur-[100px] opacity-5"})]}),t]}),z9=()=>{const t=P.useRef(null),e=()=>{var n;(n=t.current)==null||n.scrollIntoView({behavior:"smooth"})};return o.jsx(dt,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsxs("header",{className:"bg-[var(--primary)] relative min-h-screen flex items-center",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-[400px] h-[400px] rounded-full bg-[var(--accent)] filter blur-[120px] opacity-5"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[300px] h-[300px] rounded-full bg-[var(--accent-secondary)] filter blur-[100px] opacity-5"})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0a0a14] to-[var(--primary)] opacity-50"}),o.jsxs("div",{className:"container-custom z-10 py-24",children:[o.jsxs("nav",{className:"flex justify-between items-center mb-16",children:[o.jsxs(O.div,{className:"flex items-center gap-3 click-animate hover:scale-105 transition-transform",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:[o.jsx(ec,{size:40,variant:"hero"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx(tc,{variant:"hero",size:"lg",children:"CodoSphere"}),o.jsx(O.span,{className:"text-sm font-medium text-[var(--accent-secondary)]",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:"Compete. Conquer. Repeat."})]})]}),o.jsx(O.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,ease:"easeOut"},children:o.jsx(Ce,{to:"/profile",className:"btn-primary",children:"Get Started"})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[o.jsxs(O.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},children:[o.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Elevate Your ",o.jsx("span",{className:"text-[var(--accent)]",children:"Coding Skills"})]}),o.jsx("p",{className:"text-xl text-[var(--text-secondary)] mb-8",children:"Practice daily, compete in challenges, and track your progress to become a better programmer."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[o.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Ce,{to:"/profile",className:"btn-hero text-center block",children:"Get Started"})}),o.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsxs("button",{onClick:e,className:"btn-hero-secondary flex items-center justify-center gap-2 w-full",children:["Learn More",o.jsx(ig,{size:16})]})})]})]}),o.jsx(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.5},className:"hidden lg:block",children:o.jsxs("div",{className:"relative",children:[o.jsxs(O.div,{className:"card rounded-xl overflow-hidden shadow-2xl",animate:{y:[0,-8,0],rotate:[0,1,0,-1,0]},transition:{y:{duration:4,repeat:1/0,ease:"easeInOut"},rotate:{duration:6,repeat:1/0,ease:"easeInOut"}},whileHover:{y:-12,transition:{duration:.3}},children:[o.jsx("div",{className:"bg-[#131b2e] p-3 flex items-center",children:o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx(O.div,{className:"w-3 h-3 bg-red-500 rounded-full",animate:{opacity:[1,.7,1]},transition:{duration:2,repeat:1/0}}),o.jsx(O.div,{className:"w-3 h-3 bg-yellow-500 rounded-full",animate:{opacity:[1,.7,1]},transition:{duration:2,repeat:1/0,delay:.3}}),o.jsx(O.div,{className:"w-3 h-3 bg-green-500 rounded-full",animate:{opacity:[1,.7,1]},transition:{duration:2,repeat:1/0,delay:.6}})]})}),o.jsxs("div",{className:"p-6 font-mono text-sm",children:[o.jsx("div",{className:"text-[#637777]",children:"// Solve the Two Sum problem"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("span",{className:"text-[#c792ea]",children:"function"})," ",o.jsx("span",{className:"text-[#82aaff]",children:"twoSum"}),"(",o.jsx("span",{className:"text-[#f78c6c]",children:"nums"}),","," ",o.jsx("span",{className:"text-[#f78c6c]",children:"target"}),") ","{"]}),o.jsxs("div",{className:"pl-4",children:[o.jsx("span",{className:"text-[#c792ea]",children:"const"})," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"map"})," ="," ",o.jsx("span",{className:"text-[#89ddff]",children:"new"})," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"Map"}),"();"]}),o.jsxs("div",{className:"pl-4",children:[o.jsx("span",{className:"text-[#c792ea]",children:"for"})," ",o.jsx("span",{className:"text-[#c792ea]",children:"let"})," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"i"})," ="," ",o.jsx("span",{className:"text-[#f78c6c]",children:"0"}),";"," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"i"})," < ",o.jsx("span",{className:"text-[#f78c6c]",children:"nums"}),".length;"," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"i"}),"++"," ","{"]}),o.jsxs("div",{className:"pl-8",children:[o.jsx("span",{className:"text-[#c792ea]",children:"const"})," ",o.jsx("span",{className:"text-[#ffcb6b]",children:"complement"})," ="," ",o.jsx("span",{className:"text-[#f78c6c]",children:"target"})," -"," ",o.jsx("span",{className:"text-[#f78c6c]",children:"nums"}),"[",o.jsx("span",{className:"text-[#ffcb6b]",children:"i"}),"];"]}),o.jsx("div",{className:"pl-8 text-[#fff] relative",children:o.jsx(O.span,{className:"relative after:content-[''] after:absolute after:right-0 after:w-2 after:h-5 after:bg-[var(--accent)]",animate:{opacity:[1,0,1]},transition:{duration:1.2,repeat:1/0}})})]})]}),o.jsx(O.div,{className:"absolute -top-2 -left-2 w-2 h-2 bg-[var(--accent)] rounded-full opacity-50",animate:{scale:[0,1,0],opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,delay:0}}),o.jsx(O.div,{className:"absolute -bottom-3 -right-3 w-3 h-3 bg-[var(--accent-secondary)] rounded-full opacity-40",animate:{scale:[0,1,0],opacity:[0,.4,0]},transition:{duration:4,repeat:1/0,delay:1.5}}),o.jsx(O.div,{className:"absolute top-1/2 -right-4 w-1.5 h-1.5 bg-purple-400 rounded-full opacity-60",animate:{scale:[0,1,0],opacity:[0,.6,0]},transition:{duration:2.5,repeat:1/0,delay:2}})]})})]}),o.jsxs(O.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex flex-col items-center cursor-pointer",onClick:e,children:[o.jsx("span",{className:"text-sm text-[var(--text-secondary)] mb-2",children:"Scroll to learn more"}),o.jsx(ig,{className:"text-[var(--accent)]"})]})]})]}),o.jsx("section",{ref:t,className:"py-24 bg-[var(--secondary)]",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs(O.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-4xl font-bold mb-4",children:["Features That ",o.jsx("span",{className:"text-[var(--accent)]",children:"Set Us Apart"})]}),o.jsx(O.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"text-lg text-[var(--text-secondary)] max-w-2xl mx-auto",children:"Our platform offers everything you need to improve your coding skills and prepare for technical interviews."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:o.jsx(Pi,{size:40,className:"text-[var(--accent)]"}),title:"Daily Coding Challenges",description:"Practice with new problems every day, sorted by difficulty level to match your skill."},{icon:o.jsx(sf,{size:40,className:"text-[var(--accent)]"}),title:"Question of the Day",description:"Tackle a specially curated daily problem to expand your problem-solving toolkit."},{icon:o.jsx(xn,{size:40,className:"text-[var(--accent)]"}),title:"1v1 Ranked Matches",description:"Compete against other coders in real-time to solve problems under pressure."},{icon:o.jsx(Sc,{size:40,className:"text-[var(--accent)]"}),title:"Comprehensive Study Materials",description:"Learn key algorithms and data structures with our detailed guides and examples."},{icon:o.jsx(Fv,{size:40,className:"text-[var(--accent)]"}),title:"Achievements & Badges",description:"Earn recognition for your progress and showcase your accomplishments."},{icon:o.jsx(B9,{size:40,className:"text-[var(--accent)]"}),title:"Global Leaderboard",description:"See how you rank against other programmers locally and globally."}].map((n,r)=>o.jsxs(O.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:r*.1,type:"spring",stiffness:100},viewport:{once:!0},whileHover:{y:-5},className:"card hover:shadow-xl transition-all duration-300",children:[o.jsx("div",{className:"mb-4",children:n.icon}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.title}),o.jsx("p",{className:"text-[var(--text-secondary)]",children:n.description})]},r))}),o.jsx(O.div,{className:"mt-16 text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.6},viewport:{once:!0},children:o.jsx(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(Ce,{to:"/profile",className:"btn-hero inline-block",children:"Get Started Now"})})})]})}),o.jsx("section",{className:"py-24 bg-[var(--primary)]",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs(O.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"text-4xl font-bold mb-4",children:["Get In ",o.jsx("span",{className:"text-[var(--accent)]",children:"Touch"})]}),o.jsx(O.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"text-lg text-[var(--text-secondary)] max-w-2xl mx-auto",children:"Have questions or feedback? We'd love to hear from you. Reach out to our team using any of the methods below."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Email Us",details:"support@codosphere.com",description:"For general inquiries and support"},{title:"Call Us",details:"+65 84218885",description:"Monday to Friday, 9AM-5PM EST"},{title:"Visit Us",details:"Hall of Residence 16, Nanyang Technological University, Singapore",description:"Our headquarters location"}].map((n,r)=>o.jsxs(O.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:r*.2},viewport:{once:!0},whileHover:{y:-5},className:"card text-center",children:[o.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.title}),o.jsx("p",{className:"text-[var(--accent)] font-medium mb-2",children:n.details}),o.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:n.description})]},r))})]})}),o.jsx("footer",{className:"bg-[var(--secondary)] py-8 text-center",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs(O.div,{className:"flex items-center justify-center gap-2 mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[o.jsx(ec,{size:24,variant:"minimal"}),o.jsx(tc,{variant:"footer",size:"lg",children:"CodoSphere"})]}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)] mb-6",children:["© ",new Date().getFullYear()," CodoSphere. All rights reserved."]}),o.jsxs("div",{className:"flex justify-center space-x-6",children:[o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Privacy Policy"}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Cookie Policy"})]})]})})]})})},$9=()=>{const[t,e]=P.useState(!0),[n,r]=P.useState(""),[s,i]=P.useState(""),[a,l]=P.useState(!1),[c,d]=P.useState(""),[h,f]=P.useState(!1),m=Di(),g=async N=>{N.preventDefault(),d(""),f(!0);try{if(t){const _=await WB(n,s);_.error?d(_.error):_.user&&m("/profile")}else{const _=await HB(n,s);_.error?d(_.error):_.user&&m("/profile")}}catch(_){d(_.message||"An error occurred during authentication")}finally{f(!1)}},T=()=>{l(!a)},S={scale:[1,1.2,1],opacity:[.3,.5,.3],transition:{duration:8,repeat:1/0,ease:"easeInOut"}};return o.jsxs("div",{className:"flex flex-col min-h-screen bg-[var(--primary)] relative overflow-hidden",children:[o.jsxs(O.div,{className:"absolute inset-0 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[o.jsx(O.div,{className:"absolute top-1/4 left-1/4 w-[600px] h-[600px] rounded-full bg-[var(--accent)] filter blur-[200px] opacity-10",animate:S}),o.jsx(O.div,{className:"absolute bottom-1/4 right-1/4 w-[500px] h-[500px] rounded-full bg-[var(--accent-secondary)] filter blur-[180px] opacity-10",animate:{...S,transition:{...S.transition,delay:2}}}),o.jsx(O.div,{className:"absolute top-1/2 right-1/3 w-[400px] h-[400px] rounded-full bg-purple-500 filter blur-[150px] opacity-5",animate:{...S,transition:{...S.transition,delay:4}}})]}),o.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 relative z-10",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs(Ce,{to:"/",className:"inline-flex items-center justify-center mb-6 gap-3",children:[o.jsx(ec,{size:60,variant:"hero"}),o.jsx(tc,{variant:"hero",size:"xl",children:"CodoSphere"})]}),o.jsx(O.h2,{className:"mt-6 text-3xl font-extrabold text-[var(--text)]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:t?"Sign in to your account":"Create a new account"}),o.jsx(O.p,{className:"mt-2 text-sm text-[var(--text-secondary)]",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:t?"Enter your credentials to access your account":"Fill out the form to create your account"})]}),o.jsxs(O.div,{className:"mt-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[c&&o.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500 bg-opacity-20 text-red-400 p-3 rounded-lg mb-4",children:c}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Zl,{size:18,className:"text-[var(--text-secondary)]"})}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:N=>r(N.target.value),className:"appearance-none relative block w-full pl-10 pr-3 py-3 bg-[var(--secondary)] placeholder-[var(--text-secondary)] text-[var(--text)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent)]",placeholder:"Email address"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(m9,{size:18,className:"text-[var(--text-secondary)]"})}),o.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:t?"current-password":"new-password",required:!0,value:s,onChange:N=>i(N.target.value),className:"appearance-none relative block w-full pl-10 pr-10 py-3 bg-[var(--secondary)] placeholder-[var(--text-secondary)] text-[var(--text)] rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--accent)]",placeholder:"Password"}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:T,children:a?o.jsx(a9,{size:18,className:"text-[var(--text-secondary)] hover:text-[var(--text)]"}):o.jsx(zN,{size:18,className:"text-[var(--text-secondary)] hover:text-[var(--text)]"})})]})]})]}),t&&o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("div",{className:"text-sm",children:o.jsx("a",{href:"#",className:"font-medium text-[var(--accent)] hover:text-[var(--accent-hover)]",children:"Forgot your password?"})})}),o.jsx(O.button,{type:"submit",disabled:h,className:`w-full btn-hero ${h?"opacity-70 cursor-not-allowed":""}`,whileHover:h?{}:{scale:1.02},whileTap:h?{}:{scale:.98},children:h?o.jsxs("span",{className:"flex items-center",children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):o.jsx("span",{className:"flex items-center",children:t?o.jsxs(o.Fragment,{children:[o.jsx(p9,{size:18,className:"mr-2"}),"Sign in"]}):o.jsxs(o.Fragment,{children:[o.jsx(F9,{size:18,className:"mr-2"}),"Sign up"]})})})]})]}),o.jsx(O.div,{className:"mt-6 text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[t?"Don't have an account?":"Already have an account?",o.jsx("button",{onClick:()=>e(!t),className:"ml-2 font-medium text-[var(--accent)] hover:text-[var(--accent-hover)]",children:t?"Sign up":"Sign in"})]})})]})}),o.jsx("footer",{className:"py-4 text-center relative z-10",children:o.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:["© ",new Date().getFullYear()," CodoSphere. All rights reserved."]})})]})},yt=()=>{const t=Us(),e=Di(),{currentUser:n}=Pn(),[r,s]=P.useState(!1),[i,a]=P.useState(!1),l=P.useRef(null),c=[{name:"Code",path:"/code",icon:o.jsx(Pi,{size:22})},{name:"Daily Question",path:"/question-of-the-day",icon:o.jsx(rf,{size:22})},{name:"Ranked Match",path:"/ranked-match",icon:o.jsx(xn,{size:22})}],d=[{name:"Study",path:"/study",icon:o.jsx(Sc,{size:20})},{name:"Leaderboard",path:"/leaderboard",icon:o.jsx(Ns,{size:20})},{name:"Stats",path:"/stats",icon:o.jsx(Uv,{size:20})},{name:"Home",path:"/profile",icon:o.jsx(u9,{size:20})},{name:"Contact Us",path:"/contact",icon:o.jsx(Zl,{size:20})}];P.useEffect(()=>{const m=g=>{if(l.current&&!l.current.contains(g.target)){const T=document.getElementById("navbar-dropdown");T&&!T.contains(g.target)&&a(!1)}};return i&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[i]),P.useEffect(()=>{a(!1),s(!1)},[t]);const h=async()=>{try{await qB(),e("/login")}catch(m){console.error("Failed to log out",m)}},f=()=>{if(l.current){const m=l.current.getBoundingClientRect();return{top:m.bottom+8,right:window.innerWidth-m.right}}return{top:80,right:32}};return o.jsxs(o.Fragment,{children:[o.jsx("nav",{className:"liquid-glass-navbar shadow-lg py-6 sticky top-0 z-40",children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs(Ce,{to:"/",className:"flex items-center gap-3 click-animate hover:scale-105 transition-transform",children:[o.jsx(ec,{variant:"navbar"}),o.jsx(tc,{variant:"navbar",size:"lg",children:"CodoSphere"})]})}),o.jsx("div",{className:"hidden md:flex items-center flex-1 justify-center",children:o.jsxs("div",{className:"flex items-center space-x-12",children:[c.map(m=>o.jsxs(Ce,{to:m.path,className:"click-animate flex items-center gap-2 text-base font-medium transition-colors hover:text-[var(--accent)] relative overflow-hidden group",children:[o.jsx("span",{className:"group-hover:scale-110 transition-transform",children:m.icon}),o.jsx("span",{children:m.name}),t.pathname===m.path&&o.jsx(O.div,{className:"h-1 w-full bg-[var(--accent)] absolute -bottom-1 left-0",layoutId:"navbar-indicator",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]},m.path)),o.jsxs("button",{ref:l,onClick:()=>a(!i),className:"click-animate flex items-center gap-2 text-base font-medium transition-colors hover:text-[var(--accent)]",children:[o.jsx(w9,{size:22}),o.jsx("span",{children:"More"}),o.jsx(ig,{size:16,className:`transition-transform duration-300 ${i?"rotate-180":""}`})]})]})}),o.jsx("div",{className:"flex-shrink-0",children:n?o.jsxs("button",{className:"click-animate hidden md:flex items-center gap-1.5 text-base font-medium text-[var(--text)] hover:text-[var(--accent)] transition-colors",onClick:h,children:[o.jsx(ku,{size:22}),o.jsx("span",{children:"Sign out"})]}):o.jsx(Ce,{to:"/login",className:"click-animate hidden md:flex items-center gap-1.5 text-base font-medium text-[var(--text)] hover:text-[var(--accent)] transition-colors",children:o.jsx("span",{children:"Sign in"})})}),o.jsx("button",{className:"md:hidden text-[var(--text)] p-2 rounded-lg hover:bg-[var(--accent)] hover:bg-opacity-10 transition-colors",onClick:()=>s(!r),children:r?o.jsx(Yn,{size:24}):o.jsx(v9,{size:24})})]})})}),o.jsx(vr,{children:r&&o.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden dropdown-menu bg-opacity-95 backdrop-blur-md sticky top-0 z-30",children:o.jsxs("div",{className:"container-custom py-4 flex flex-col space-y-4",children:[c.map(m=>o.jsxs(Ce,{to:m.path,onClick:()=>s(!1),className:`flex items-center gap-2 py-3 px-4 rounded-lg transition-colors ${t.pathname===m.path?"bg-[var(--accent)] bg-opacity-20 text-[var(--accent)]":"text-[var(--text)] hover:bg-[var(--accent)] hover:bg-opacity-10"}`,children:[m.icon,o.jsx("span",{children:m.name})]},m.path)),o.jsx("div",{className:"h-px bg-white/10 my-2"}),d.map(m=>o.jsxs(Ce,{to:m.path,onClick:()=>s(!1),className:`flex items-center gap-2 py-3 px-4 rounded-lg transition-colors ${t.pathname===m.path?"bg-[var(--accent)] bg-opacity-20 text-[var(--accent)]":"text-[var(--text)] hover:bg-[var(--accent)] hover:bg-opacity-10"}`,children:[m.icon,o.jsx("span",{children:m.name})]},m.path)),n?o.jsxs("button",{className:"flex items-center gap-2 py-3 px-4 text-[var(--text)] hover:text-[var(--accent)]",onClick:h,children:[o.jsx(ku,{size:20}),o.jsx("span",{children:"Sign out"})]}):o.jsxs(Ce,{to:"/login",className:"flex items-center gap-2 py-3 px-4 text-[var(--text)] hover:text-[var(--accent)]",children:[o.jsx(ku,{size:20}),o.jsx("span",{children:"Sign in"})]})]})})}),i&&o.jsx("div",{id:"navbar-dropdown",className:"fixed z-50",style:{top:`${f().top}px`,right:`${f().right}px`},children:o.jsx(vr,{children:o.jsxs(O.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"w-48 dropdown-menu rounded-lg shadow-xl overflow-hidden border border-white/15",children:[d.map(m=>o.jsxs(Ce,{to:m.path,onClick:()=>a(!1),className:`flex items-center gap-3 p-4 transition-colors ${t.pathname===m.path?"bg-white bg-opacity-10 text-white border-l-4 border-[var(--accent)] font-medium":"text-[var(--text)] hover:bg-[var(--primary)] hover:bg-opacity-50"}`,children:[o.jsx("span",{className:t.pathname===m.path?"text-[var(--accent)]":"",children:m.icon}),o.jsx("span",{children:m.name})]},m.path)),n&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-px bg-white/10 mx-4"}),o.jsxs("button",{onClick:()=>{a(!1),h()},className:"flex items-center gap-3 p-4 w-full text-left hover:bg-[var(--primary)] hover:bg-opacity-50 transition-colors text-[var(--text)]",children:[o.jsx(ku,{size:20}),o.jsx("span",{children:"Sign out"})]})]})]})})})]})},Mt=()=>o.jsx("footer",{className:"bg-[var(--secondary)] bg-opacity-80 backdrop-blur-md mt-auto py-12",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-10",children:[o.jsxs(O.div,{className:"flex flex-col items-center md:items-start",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[o.jsxs(Ce,{to:"/",className:"flex items-center gap-3 mb-4 click-animate hover:scale-105 transition-transform",children:[o.jsx(ec,{size:32,variant:"minimal"}),o.jsx(tc,{variant:"footer",size:"lg",children:"CodoSphere"})]}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] text-center md:text-left max-w-md",children:"Elevate your coding skills with practice, challenges, and competitions in our immersive learning environment."})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-x-16 gap-y-8",children:[o.jsxs(O.div,{className:"flex flex-col",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},children:[o.jsx("h3",{className:"font-semibold mb-4 text-base",children:"Practice"}),o.jsx(Ce,{to:"/code",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Coding Problems"}),o.jsx(Ce,{to:"/question-of-the-day",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Daily Question"}),o.jsx(Ce,{to:"/ranked-match",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Ranked Matches"})]}),o.jsxs(O.div,{className:"flex flex-col",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:[o.jsx("h3",{className:"font-semibold mb-4 text-base",children:"Learn"}),o.jsx(Ce,{to:"/study",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Study Materials"}),o.jsx(Ce,{to:"/leaderboard",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Leaderboard"}),o.jsx(Ce,{to:"/stats",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Your Stats"})]}),o.jsxs(O.div,{className:"flex flex-col col-span-2 md:col-span-1",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},children:[o.jsx("h3",{className:"font-semibold mb-4 text-base",children:"Connect"}),o.jsx(Ce,{to:"/contact",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Contact Us"}),o.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors mb-2",children:"Terms of Service"}),o.jsx("a",{href:"#",className:"text-sm text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors",children:"Privacy Policy"})]})]}),o.jsxs(O.div,{className:"flex space-x-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},children:[o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors transform hover:scale-110",children:o.jsx(c9,{size:22})}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors transform hover:scale-110",children:o.jsx(O9,{size:22})}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors transform hover:scale-110",children:o.jsx(h9,{size:22})}),o.jsx("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-[var(--accent)] transition-colors transform hover:scale-110",children:o.jsx(Zl,{size:22})})]})]}),o.jsx("div",{className:"mt-12 text-center",children:o.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:["© ",new Date().getFullYear()," CodoSphere. All rights reserved."]})})]})}),H9={boy1:{primaryColor:"#3b82f6",secondaryColor:"#1e40af",skinColor:"#f8d9b4",hairColor:"#222222"},boy2:{primaryColor:"#10b981",secondaryColor:"#047857",skinColor:"#e5c298",hairColor:"#513b2a"},girl1:{primaryColor:"#ec4899",secondaryColor:"#be185d",skinColor:"#f8d9b4",hairColor:"#513b2a"},girl2:{primaryColor:"#8b5cf6",secondaryColor:"#6d28d9",skinColor:"#e5c298",hairColor:"#222222"}},js=({type:t,size:e=120,interval:n=1e4,selected:r=!1,onClick:s})=>{const[i,a]=P.useState(!1),[l,c]=P.useState(!1),d=H9[t];P.useEffect(()=>{const T=setInterval(()=>{a(!0),setTimeout(()=>a(!1),2e3)},n*1.5),S=setInterval(()=>{c(!0),setTimeout(()=>c(!1),300)},Math.random()*5e3+3e3),N=setTimeout(()=>{a(!0),setTimeout(()=>a(!1),2e3)},2e3);return()=>{clearInterval(T),clearInterval(S),clearTimeout(N)}},[n]);const h={rest:{rotate:0,x:0},wave:{rotate:[0,20,-10,20,0],x:[0,2,-1,2,0],transition:{duration:2,times:[0,.3,.6,.8,1],ease:"easeInOut"}}},f={rest:{y:0},happy:{y:[0,-2,0],transition:{duration:.5}}},m={open:{scaleY:1},blink:{scaleY:.1,transition:{duration:.1}}},g={initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}}};return o.jsxs(O.div,{className:`relative rounded-full overflow-hidden cursor-pointer ${r?"ring-4 ring-[var(--accent)]":""}`,style:{width:e,height:e,background:`radial-gradient(circle at center, ${d.primaryColor}, ${d.secondaryColor})`},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,...g,children:[o.jsx("div",{className:"absolute bottom-0 w-full",style:{height:e*.6},children:o.jsx("div",{style:{width:e*.5,height:e*.3,background:d.primaryColor,borderRadius:`${e*.1}px ${e*.1}px 0 0`,position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)"}})}),o.jsxs(O.div,{style:{width:e*.4,height:e*.4,background:d.skinColor,borderRadius:"50%",position:"absolute",top:e*.15,left:"50%",transform:"translateX(-50%)"},variants:f,animate:i?"happy":"rest",children:[o.jsx(O.div,{style:{width:e*.07,height:e*.07,background:"#222",borderRadius:"50%",position:"absolute",top:e*.16,left:e*.13,transformOrigin:"center"},variants:m,animate:l?"blink":"open"}),o.jsx(O.div,{style:{width:e*.07,height:e*.07,background:"#222",borderRadius:"50%",position:"absolute",top:e*.16,right:e*.13,transformOrigin:"center"},variants:m,animate:l?"blink":"open"}),o.jsx(O.div,{style:{width:e*.16,height:e*.06,background:t.includes("girl")?"#f472b6":"#222",borderRadius:"5px 5px 10px 10px",position:"absolute",bottom:e*.08,left:"50%",transform:"translateX(-50%)"},animate:i?{height:e*.08,borderRadius:"5px 5px 12px 12px"}:{}}),t==="boy1"&&o.jsx("div",{style:{width:e*.42,height:e*.15,background:d.hairColor,position:"absolute",borderRadius:`${e*.1}px ${e*.1}px 0 0`,top:-e*.02,left:-e*.01}}),t==="boy2"&&o.jsx("div",{style:{width:e*.42,height:e*.2,background:d.hairColor,position:"absolute",borderRadius:"50% 50% 0 0",top:-e*.05,left:-e*.01}}),t==="girl1"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{width:e*.48,height:e*.3,background:d.hairColor,position:"absolute",borderRadius:"50% 50% 30% 30%",top:-e*.1,left:-e*.04}}),o.jsx("div",{style:{width:e*.15,height:e*.25,background:d.hairColor,position:"absolute",borderRadius:"20px",top:e*.15,left:-e*.03}}),o.jsx("div",{style:{width:e*.15,height:e*.25,background:d.hairColor,position:"absolute",borderRadius:"20px",top:e*.15,right:-e*.03}})]}),t==="girl2"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{width:e*.48,height:e*.25,background:d.hairColor,position:"absolute",borderRadius:"50% 50% 0 0",top:-e*.08,left:-e*.04}}),o.jsx("div",{style:{width:e*.12,height:e*.4,background:d.hairColor,position:"absolute",borderRadius:"10px 10px 0 20px",top:e*.12,left:-e*.06,transform:"rotate(5deg)"}}),o.jsx("div",{style:{width:e*.12,height:e*.4,background:d.hairColor,position:"absolute",borderRadius:"10px 10px 20px 0",top:e*.12,right:-e*.06,transform:"rotate(-5deg)"}})]})]}),o.jsx(O.div,{style:{width:e*.1,height:e*.3,background:d.primaryColor,borderRadius:"10px",position:"absolute",bottom:e*.1,left:e*.15,transformOrigin:"bottom center",zIndex:10},variants:h,animate:i?"wave":"rest",children:o.jsx("div",{style:{width:e*.12,height:e*.12,background:d.skinColor,borderRadius:"50%",position:"absolute",top:-e*.05,left:-e*.01}})}),o.jsx("div",{style:{width:e*.1,height:e*.2,background:d.primaryColor,borderRadius:"10px",position:"absolute",bottom:e*.1,right:e*.2,transformOrigin:"bottom center",transform:"rotate(-10deg)",zIndex:-1},children:o.jsx("div",{style:{width:e*.12,height:e*.12,background:d.skinColor,borderRadius:"50%",position:"absolute",top:-e*.06,right:-e*.02}})})]})},GN=({userId:t})=>{const{currentUser:e}=Pn(),[n,r]=P.useState(!0),[s,i]=P.useState(null),a=t||(e==null?void 0:e.uid);P.useEffect(()=>{(async()=>{if(!a){r(!1);return}try{r(!0);const{data:S,error:N}=await wn(a);if(N){console.error("Error fetching user stats:",N);return}S&&(console.log("Retrieved user stats:",S.stats),i(S.stats))}catch(S){console.error("Failed to fetch user stats:",S)}finally{r(!1)}})()},[a]);const l=T=>{switch(T){case"Diamond":return{icon:"💎",color:"from-blue-500 to-purple-500",progress:100};case"Platinum":return{icon:"🔷",color:"from-cyan-400 to-blue-400",progress:80};case"Gold":return{icon:"🥇",color:"from-yellow-600 to-yellow-400",progress:60};case"Silver":return{icon:"🥈",color:"from-gray-400 to-gray-300",progress:30};case"Bronze":return{icon:"🥉",color:"from-amber-700 to-amber-500",progress:0};default:return{icon:"🎯",color:"from-blue-600 to-blue-400",progress:0}}},c=T=>T>=100?{nextRank:"Master",currentProgress:100,required:100}:T>=80?{nextRank:"Diamond",currentProgress:T-80,required:20}:T>=60?{nextRank:"Platinum",currentProgress:T-60,required:20}:T>=30?{nextRank:"Gold",currentProgress:T-30,required:30}:T>0?{nextRank:"Silver",currentProgress:T,required:30}:{nextRank:"Bronze",currentProgress:0,required:1};if(n)return o.jsxs("div",{className:"card text-center p-6",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-[var(--accent)] border-t-transparent rounded-full mx-auto"}),o.jsx("p",{className:"mt-3 text-sm text-[var(--text-secondary)]",children:"Loading rank information..."})]});if(!s)return o.jsx("div",{className:"card text-center p-6",children:o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"No rank information available"})});const d=s.totalRankPoints||0;let h=s.rank||"Unranked";h==="Unranked"&&d>0&&(d>=100?h="Diamond":d>=80?h="Platinum":d>=60?h="Gold":d>=30?h="Silver":h="Bronze");const f=l(h),m=c(d),g=Math.min(100,Math.round(m.currentProgress/m.required*100));return o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Current Rank"}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:`w-24 h-24 rounded-full mx-auto flex items-center justify-center mb-3 bg-gradient-to-br ${f.color}`,children:o.jsx("span",{className:"text-4xl",children:f.icon})}),o.jsx("p",{className:"text-xl font-bold",children:h}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[d," Rank Points"]})]}),h!=="Diamond"&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsxs("span",{children:[g,"% to ",m.nextRank]}),o.jsxs("span",{children:[m.currentProgress,"/",m.required," points"]})]}),o.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)] h-2 rounded-full",style:{width:`${g}%`}})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-[var(--accent)]",children:s.rankWins||0}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Matches Won"})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:[o.jsxs("p",{className:"text-2xl font-bold text-[var(--accent)]",children:[s.rankMatches>0?Math.round(s.rankWins/s.rankMatches*100):0,"%"]}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Win Rate"})]})]})]})},_m=[{id:1,name:"First Steps",description:"Solve your first coding problem",icon:"🎯",criteria:{problemsSolved:1}},{id:2,name:"Getting Started",description:"Solve 5 coding problems",icon:"🔰",criteria:{problemsSolved:5}},{id:3,name:"Problem Solver",description:"Solve 25 coding problems",icon:"💡",criteria:{problemsSolved:25}},{id:4,name:"Code Warrior",description:"Solve 100 coding problems",icon:"⚔️",criteria:{problemsSolved:100}},{id:5,name:"Coding Master",description:"Solve 250 coding problems",icon:"🏆",criteria:{problemsSolved:250}},{id:6,name:"Streak Starter",description:"Maintain a 3-day coding streak",icon:"🔥",criteria:{currentStreak:3}},{id:7,name:"Streak Warrior",description:"Maintain a 7-day coding streak",icon:"📆",criteria:{currentStreak:7}},{id:8,name:"Streak Master",description:"Maintain a 30-day coding streak",icon:"📅",criteria:{currentStreak:30}},{id:9,name:"Bronze Competitor",description:"Reach Bronze rank in Ranked Matches",icon:"🥉",criteria:{rank:"Bronze"}},{id:10,name:"Silver Competitor",description:"Reach Silver rank in Ranked Matches",icon:"🥈",criteria:{rank:"Silver"}},{id:11,name:"Gold Competitor",description:"Reach Gold rank in Ranked Matches",icon:"🥇",criteria:{rank:"Gold"}},{id:12,name:"Platinum Competitor",description:"Reach Platinum rank in Ranked Matches",icon:"🔷",criteria:{rank:"Platinum"}},{id:13,name:"Diamond Competitor",description:"Reach Diamond rank in Ranked Matches",icon:"💎",criteria:{rank:"Diamond"}},{id:14,name:"First Victory",description:"Win your first ranked match",icon:"🏅",criteria:{rankWins:1}},{id:15,name:"Victorious",description:"Win 10 ranked matches",icon:"🏅",criteria:{rankWins:10}},{id:16,name:"Champion",description:"Win 50 ranked matches",icon:"🏅",criteria:{rankWins:50}}],W9=()=>{const{currentUser:t}=Pn(),[e,n]=P.useState(!0),[r,s]=P.useState(!1),[i,a]=P.useState(!1),[l,c]=P.useState({name:"",coderName:"",profileImage:"",selectedAvatar:"boy1",stats:{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rank:"Unranked"}}),[d,h]=P.useState({name:"",coderName:"",selectedAvatar:"boy1"}),[f,m]=P.useState([]),[g,T]=P.useState([1,2]),[S,N]=P.useState(!1),[_,y]=P.useState(null);P.useEffect(()=>{t&&x()},[t]);const x=async()=>{if(t)try{const{data:k,error:M}=await wn(t.uid);if(M)console.error("Error loading profile:",M);else if(k){c({name:k.name||"",coderName:k.coderName||"",profileImage:k.profileImage||"",selectedAvatar:k.selectedAvatar||"boy1",stats:k.stats||{problemsSolved:0,currentStreak:0,bestStreak:0,totalRankPoints:0,rank:"Unranked"}}),h({name:k.name||"",coderName:k.coderName||"",selectedAvatar:k.selectedAvatar||"boy1"}),m(k.achievements||[]),T(k.showcasedAchievements||[1,2]);const R=j(k);R.length>0&&(await D(k,R),y(_m.find(A=>A.id===R[0])),N(!0),setTimeout(()=>N(!1),5e3))}}catch(k){console.error("Failed to load profile:",k)}finally{n(!1)}},j=k=>{if(!k||!k.stats)return[];const M=k.stats,R=k.achievements||[],A=[];return _m.forEach(X=>{if(R.includes(X.id))return;let Z=!0;for(const[ue,me]of Object.entries(X.criteria))if(ue==="rank"){if(M.rank!==me){Z=!1;break}}else if(M[ue]<me){Z=!1;break}Z&&A.push(X.id)}),A},D=async(k,M)=>{if(t)try{const A=[...k.achievements||[],...M];await Xl(t.uid,{achievements:A}),m(A),console.log("New achievements saved:",M)}catch(R){console.error("Failed to save achievements:",R)}},C=()=>{s(!0)},b=async()=>{if(t)try{await Xl(t.uid,{name:d.name,coderName:d.coderName,selectedAvatar:d.selectedAvatar}),c(k=>({...k,name:d.name,coderName:d.coderName,selectedAvatar:d.selectedAvatar})),s(!1)}catch(k){console.error("Failed to update profile:",k)}},w=()=>{h({name:l.name,coderName:l.coderName,selectedAvatar:l.selectedAvatar}),s(!1)},E=async k=>{var R;const M=(R=k.target.files)==null?void 0:R[0];if(!(!M||!t)){a(!0);try{const{url:A,error:X}=await GB(t.uid,M);X?(console.error("Error uploading image:",X),alert("Failed to upload image: "+X)):A&&c(Z=>({...Z,profileImage:A}))}catch(A){console.error("Failed to upload image:",A)}finally{a(!1)}}};return t?e?o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)]"})}),o.jsx(Mt,{})]})}):o.jsxs(dt,{children:[o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12 relative overflow-hidden",children:o.jsx("div",{className:"container-custom relative z-10",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(U9,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Your Profile"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[o.jsxs(O.div,{className:"card text-center",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5},children:[o.jsxs("div",{className:"relative inline-block mb-6",children:[l.profileImage?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l.profileImage,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-[var(--accent)] shadow-lg"}),o.jsx("label",{htmlFor:"profile-image-upload",className:"absolute bottom-0 right-0 bg-[var(--accent)] rounded-full p-2 cursor-pointer hover:bg-[var(--accent-hover)] transition-colors shadow-lg",children:i?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):o.jsx(e9,{size:16,className:"text-white"})})]}):o.jsxs("div",{className:"relative",children:[o.jsx(js,{type:l.selectedAvatar,size:128,interval:8e3}),o.jsx("label",{htmlFor:"profile-image-upload",className:"absolute bottom-0 right-0 bg-[var(--accent)] rounded-full p-2 cursor-pointer hover:bg-[var(--accent-hover)] transition-colors shadow-lg",children:i?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):o.jsx(WN,{size:16,className:"text-white"})})]}),o.jsx("input",{id:"profile-image-upload",type:"file",accept:"image/*",onChange:E,className:"hidden",disabled:i})]}),r?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Display Name"}),o.jsx("input",{type:"text",value:d.name,onChange:k=>h(M=>({...M,name:k.target.value})),className:"w-full px-3 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]",placeholder:"Enter your display name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Coder Name"}),o.jsx("input",{type:"text",value:d.coderName,onChange:k=>h(M=>({...M,coderName:k.target.value})),className:"w-full px-3 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]",placeholder:"Enter your coder name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-3",children:"Avatar Style"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["boy1","boy2","girl1","girl2"].map(k=>o.jsx("div",{className:`cursor-pointer p-2 rounded-lg border-2 transition-all ${d.selectedAvatar===k?"border-[var(--accent)] bg-[var(--accent)] bg-opacity-20":"border-gray-700 hover:border-[var(--accent)] hover:border-opacity-50"}`,onClick:()=>h(M=>({...M,selectedAvatar:k})),children:o.jsx(js,{type:k,size:50,interval:5e3+Math.random()*3e3,selected:d.selectedAvatar===k})},k))})]}),o.jsxs("div",{className:"flex space-x-2 pt-4",children:[o.jsxs("button",{onClick:b,className:"btn-primary flex-1 flex items-center justify-center",children:[o.jsx(Jl,{size:16,className:"mr-1"}),"Save"]}),o.jsxs("button",{onClick:w,className:"btn-secondary flex-1 flex items-center justify-center",children:[o.jsx(Yn,{size:16,className:"mr-1"}),"Cancel"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-2xl font-bold mb-1",children:l.name||"Anonymous Coder"}),l.coderName&&o.jsxs("p",{className:"text-[var(--accent)] font-medium mb-4",children:["@",l.coderName]}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:t.email}),o.jsxs("button",{onClick:C,className:"btn-primary flex items-center justify-center w-full",children:[o.jsx(E9,{size:16,className:"mr-2"}),"Edit Profile"]})]})]}),o.jsxs(O.div,{className:"card",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Ns,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold",children:"Showcased Achievements"})]}),g.length>0?o.jsx("div",{className:"space-y-3",children:_m.filter(k=>g.includes(k.id)).slice(0,3).map(k=>{const M=f.includes(k.id);return o.jsxs(O.div,{className:`flex items-center p-3 rounded-lg ${M?"bg-[var(--accent)] bg-opacity-15 border border-[var(--accent)]":"bg-[var(--primary)] opacity-60"}`,whileHover:{scale:1.02},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--secondary)] flex items-center justify-center mr-3 text-lg",children:o.jsx("span",{children:k.icon})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",children:k.name}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:k.description})]}),M&&o.jsx("div",{className:"text-xs text-green-400",children:"✓"})]},k.id)})}):o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Ns,{className:"mx-auto text-[var(--text-secondary)] mb-2",size:24}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"No achievements showcased"}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:"Visit your stats page to select achievements to showcase"})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:o.jsx("a",{href:"/stats",className:"text-xs text-[var(--accent)] hover:text-[var(--accent-hover)] block text-center",children:"Manage achievements in Stats →"})})]})]}),o.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[o.jsx(O.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:o.jsx(GN,{})}),o.jsx(O.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[{title:"Problems Solved",value:l.stats.problemsSolved,icon:o.jsx(HN,{className:"text-[var(--accent)]",size:24})},{title:"Current Streak",value:`${l.stats.currentStreak} days`,icon:o.jsx(rf,{className:"text-[var(--accent)]",size:24})},{title:"Best Streak",value:`${l.stats.bestStreak} days`,icon:o.jsx(sf,{className:"text-[var(--accent)]",size:24})}].map((k,M)=>o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"flex justify-center mb-3",children:k.icon}),o.jsx("h3",{className:"text-2xl font-bold mb-1",children:k.value}),o.jsx("p",{className:"text-[var(--text-secondary)] text-sm",children:k.title})]},M))})]})]})]})})}),o.jsx(Mt,{})]}),o.jsx(vr,{children:S&&_&&o.jsx(O.div,{className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50",initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{type:"spring",damping:15,stiffness:300},children:o.jsxs(O.div,{className:"bg-gradient-to-r from-[var(--secondary)] to-[var(--accent)] p-6 rounded-xl shadow-xl flex items-center gap-5 relative overflow-hidden",animate:{boxShadow:["0 0 0px rgba(244, 91, 105, 0.3)","0 0 30px rgba(244, 91, 105, 0.6)","0 0 0px rgba(244, 91, 105, 0.3)"]},transition:{duration:2,repeat:3},children:[o.jsx(O.div,{className:"absolute inset-0 pointer-events-none",children:[...Array(20)].map((k,M)=>o.jsx(O.div,{className:"absolute w-2 h-2 rounded-full bg-white",initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",opacity:0},animate:{x:[null,Math.random()*100+"%"],y:[null,Math.random()*100+"%"],opacity:[0,.7,0]},transition:{duration:2+Math.random()*3,repeat:1/0,repeatType:"loop"}},M))}),o.jsx(O.div,{className:"w-16 h-16 bg-[var(--secondary)] rounded-full flex items-center justify-center text-4xl shrink-0",animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1.5,repeat:2},children:_.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx(O.h3,{className:"text-xl font-bold",animate:{scale:[1,1.1,1]},transition:{duration:.8,repeat:3},children:"Achievement Unlocked!"}),o.jsx("p",{className:"text-lg font-medium",children:_.name}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:_.description})]})]})})})]}):o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-16",children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please Log In"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"You need to be logged in to view your profile"}),o.jsx("a",{href:"/login",className:"btn-primary inline-block",children:"Log In"})]})})}),o.jsx(Mt,{})]})})},q9=["6PoYJdCdqWQYZ66ue6sn6TZcTj33"],rh=t=>!t||!t.uid?!1:q9.includes(t.uid),jc=()=>{const t=Ci.currentUser;return t?rh(t)?{isAuthorized:!0}:{isAuthorized:!1,error:"Unauthorized: Admin access required."}:{isAuthorized:!1,error:"User not authenticated. Please log in first."}},Ac="problems",G9="problem-files",KN=async(t,e)=>{try{const n=jc();if(!n.isAuthorized)return{url:"",error:n.error};if(!["text/plain","text/markdown","application/pdf","text/html"].includes(e.type))return{url:"",error:"Invalid file type. Please upload .txt, .md, .pdf, or .html files only."};const s=10*1024*1024;if(e.size>s)return{url:"",error:"File size should be less than 10MB"};const i=Date.now(),a=e.name.split(".").pop(),l=`${t}_${i}.${a}`,c=Ov(Vv,`${G9}/${l}`),d=await DN(c,e),h=await LN(c);return console.log("Problem file uploaded successfully:",h),{url:h,error:null}}catch(n){return console.error("Error uploading problem file:",n),{url:"",error:n.message||"Failed to upload file"}}},K9=async(t,e)=>{try{const n=jc();if(!n.isAuthorized)return{success:!1,error:n.error};const r=Ci.currentUser,s=gn(be,Ac),i={...t,createdAt:Me(),updatedAt:Me(),createdBy:r.uid},a=await SU(s,i);if(console.log("Problem created with ID:",a.id),e){const{url:l,error:c}=await KN(a.id,e);c?console.error("Error uploading content file:",c):l&&(await $n(a,{contentFileUrl:l}),console.log("Problem updated with content file URL"))}return{success:!0,problemId:a.id}}catch(n){return console.error("Error creating problem:",n),n.code==="permission-denied"?{success:!1,error:"Firebase permission denied. Please configure Firestore security rules to allow admin access to the problems collection."}:{success:!1,error:n.message}}},Q9=async(t,e,n)=>{try{const r=jc();if(!r.isAuthorized)return{success:!1,error:r.error};const s=ut(be,Ac,t);if(n){const{url:i,error:a}=await KN(t,n);if(a)return{success:!1,error:a};e.contentFileUrl=i}return await $n(s,{...e,updatedAt:Me()}),console.log("Problem updated successfully:",t),{success:!0}}catch(r){return console.error("Error updating problem:",r),r.code==="permission-denied"?{success:!1,error:"Firebase permission denied. Please configure Firestore security rules to allow admin access to the problems collection."}:{success:!1,error:r.message}}},Y9=async t=>{try{const e=jc();if(!e.isAuthorized)return{success:!1,error:e.error};const n=ut(be,Ac,t),r=await sr(n);if(r.exists()){const s=r.data();if(s.contentFileUrl)try{const i=Ov(Vv,s.contentFileUrl);await VB(i),console.log("Content file deleted successfully")}catch(i){console.warn("Error deleting content file (may not exist):",i)}}return await Iv(n),console.log("Problem deleted successfully:",t),{success:!0}}catch(e){return console.error("Error deleting problem:",e),e.code==="permission-denied"?{success:!1,error:"Firebase permission denied. Please configure Firestore security rules to allow admin access to the problems collection."}:{success:!1,error:e.message}}},X9=async()=>{try{const t=jc();if(!t.isAuthorized)return{problems:[],error:t.error};const e=gn(be,Ac),n=Et(e,Yl("createdAt","desc")),r=await zn(n),s=[];return r.forEach(i=>{s.push({id:i.id,...i.data()})}),{problems:s}}catch(t){return console.error("Error fetching problems:",t),t.code==="permission-denied"?{problems:[],error:'Firebase permission denied. You need to configure Firestore security rules to allow admin access. Please add a rule like: allow read, write: if request.auth != null && request.auth.uid in ["6PoYJdCdqWQYZ66ue6sn6TZcTj33"];'}:{problems:[],error:t.message}}},J9=async()=>{try{const t=gn(be,Ac),e=Et(t,Yl("createdAt","desc")),n=await zn(e),r=[];return n.forEach(s=>{const i=s.data();r.push({id:s.id,...i,numericId:parseInt(s.id.slice(-6),36)})}),r}catch(t){return console.error("Error fetching public problems:",t),[]}},At=[{id:1,title:"Two Sum",difficulty:"Easy",description:`Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.

You may assume that each input would have exactly one solution, and you may not use the same element twice.

You can return the answer in any order.`,examples:[{input:"nums = [2,7,11,15], target = 9",output:"[0,1]",explanation:"Because nums[0] + nums[1] == 9, we return [0, 1]."},{input:"nums = [3,2,4], target = 6",output:"[1,2]",explanation:"Because nums[1] + nums[2] == 6, we return [1, 2]."},{input:"nums = [3,3], target = 6",output:"[0,1]"}],testCases:[{input:`2,7,11,15
9`,expectedOutput:"0,1",isHidden:!1},{input:`3,2,4
6`,expectedOutput:"1,2",isHidden:!1},{input:`1,5,9,2
11`,expectedOutput:"0,2",isHidden:!0},{input:`5,8,3,0,7
10`,expectedOutput:"1,3",isHidden:!0}],constraints:["2 <= nums.length <= 10^4","-10^9 <= nums[i] <= 10^9","-10^9 <= target <= 10^9","Only one valid answer exists."],tags:["Array","Hash Table"]},{id:2,title:"Valid Parentheses",difficulty:"Easy",description:`Given a string s containing just the characters '(', ')', '{', '}', '[' and ']', determine if the input string is valid.

An input string is valid if:
1. Open brackets must be closed by the same type of brackets.
2. Open brackets must be closed in the correct order.
3. Every close bracket has a corresponding open bracket of the same type.`,examples:[{input:'s = "()"',output:"true"},{input:'s = "()[]{}"',output:"true"},{input:'s = "(]"',output:"false"},{input:'s = "([)]"',output:"false"},{input:'s = "{[]}"',output:"true"}],testCases:[{input:"()",expectedOutput:"true",isHidden:!1},{input:"()[]{}",expectedOutput:"true",isHidden:!1},{input:"({[]})",expectedOutput:"true",isHidden:!0},{input:"({)}",expectedOutput:"false",isHidden:!0}],constraints:["1 <= s.length <= 10^4","s consists of parentheses only '()[]{}'."],tags:["Stack","String"]},{id:3,title:"Merge Two Sorted Lists",difficulty:"Easy",description:`You are given the heads of two sorted linked lists list1 and list2.

Merge the two lists into one sorted list. The list should be made by splicing together the nodes of the first two lists.

Return the head of the merged linked list.`,examples:[{input:"list1 = [1,2,4], list2 = [1,3,4]",output:"[1,1,2,3,4,4]"},{input:"list1 = [], list2 = []",output:"[]"},{input:"list1 = [], list2 = [0]",output:"[0]"}],testCases:[{input:`1,2,4
1,3,4`,expectedOutput:"1,1,2,3,4,4",isHidden:!1},{input:`
`,expectedOutput:"",isHidden:!1},{input:`1,3,5,7
2,4,6`,expectedOutput:"1,2,3,4,5,6,7",isHidden:!0},{input:`
0`,expectedOutput:"0",isHidden:!0}],constraints:["The number of nodes in both lists is in the range [0, 50].","-100 <= Node.val <= 100","Both list1 and list2 are sorted in non-decreasing order."],tags:["Linked List","Recursion"]},{id:4,title:"Add Two Numbers",difficulty:"Medium",description:`You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list.

You may assume the two numbers do not contain any leading zero, except the number 0 itself.`,examples:[{input:"l1 = [2,4,3], l2 = [5,6,4]",output:"[7,0,8]",explanation:"342 + 465 = 807."},{input:"l1 = [0], l2 = [0]",output:"[0]"},{input:"l1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]",output:"[8,9,9,9,0,0,0,1]"}],testCases:[{input:`2,4,3
5,6,4`,expectedOutput:"7,0,8",isHidden:!1},{input:`0
0`,expectedOutput:"0",isHidden:!1},{input:`9,9,9
1`,expectedOutput:"0,0,0,1",isHidden:!0},{input:`1,8
0`,expectedOutput:"1,8",isHidden:!0}],constraints:["The number of nodes in each linked list is in the range [1, 100].","0 <= Node.val <= 9","It is guaranteed that the list represents a number that does not have leading zeros."],tags:["Linked List","Math"]},{id:5,title:"Longest Substring Without Repeating Characters",difficulty:"Medium",description:"Given a string s, find the length of the longest substring without repeating characters.",examples:[{input:'s = "abcabcbb"',output:"3",explanation:'The answer is "abc", with the length of 3.'},{input:'s = "bbbbb"',output:"1",explanation:'The answer is "b", with the length of 1.'},{input:'s = "pwwkew"',output:"3",explanation:'The answer is "wke", with the length of 3. Notice that the answer must be a substring, "pwke" is a subsequence and not a substring.'}],testCases:[{input:"abcabcbb",expectedOutput:"3",isHidden:!1},{input:"bbbbb",expectedOutput:"1",isHidden:!1},{input:"aab",expectedOutput:"2",isHidden:!0},{input:"dvdf",expectedOutput:"3",isHidden:!0}],constraints:["0 <= s.length <= 5 * 10^4","s consists of English letters, digits, symbols and spaces."],tags:["String","Sliding Window","Hash Table"]},{id:6,title:"Container With Most Water",difficulty:"Medium",description:`You are given an integer array height of length n. There are n vertical lines drawn such that the two endpoints of the ith line are (i, 0) and (i, height[i]).

Find two lines that together with the x-axis form a container, such that the container contains the most water.

Return the maximum amount of water a container can store.`,examples:[{input:"height = [1,8,6,2,5,4,8,3,7]",output:"49",explanation:"The maximum area is obtained by choosing the second and last line, with a height of min(8, 7) = 7 and a width of 8 - 1 = 7, resulting in an area of 7 * 7 = 49."},{input:"height = [1,1]",output:"1"}],constraints:["n == height.length","2 <= n <= 10^5","0 <= height[i] <= 10^4"],tags:["Array","Two Pointers","Greedy"]},{id:7,title:"Merge k Sorted Lists",difficulty:"Hard",description:`You are given an array of k linked-lists lists, each linked-list is sorted in ascending order.

Merge all the linked-lists into one sorted linked-list and return it.`,examples:[{input:"lists = [[1,4,5],[1,3,4],[2,6]]",output:"[1,1,2,3,4,4,5,6]",explanation:`The linked-lists are:
[
  1->4->5,
  1->3->4,
  2->6
]
merging them into one sorted list:
1->1->2->3->4->4->5->6`},{input:"lists = []",output:"[]"},{input:"lists = [[]]",output:"[]"}],constraints:["k == lists.length","0 <= k <= 10^4","0 <= lists[i].length <= 500","-10^4 <= lists[i][j] <= 10^4","lists[i] is sorted in ascending order.","The sum of lists[i].length won't exceed 10^4."],tags:["Linked List","Divide and Conquer","Heap","Merge Sort"]},{id:8,title:"Trapping Rain Water",difficulty:"Hard",description:"Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.",examples:[{input:"height = [0,1,0,2,1,0,1,3,2,1,2,1]",output:"6",explanation:"The elevation map is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water are being trapped."},{input:"height = [4,2,0,3,2,5]",output:"9"}],constraints:["n == height.length","1 <= n <= 2 * 10^4","0 <= height[i] <= 10^5"],tags:["Array","Two Pointers","Dynamic Programming","Stack"]},{id:9,title:"Median of Two Sorted Arrays",difficulty:"Hard",description:`Given two sorted arrays nums1 and nums2 of size m and n respectively, return the median of the two sorted arrays.

The overall run time complexity should be O(log (m+n)).`,examples:[{input:"nums1 = [1,3], nums2 = [2]",output:"2.00000",explanation:"merged array = [1,2,3] and median is 2."},{input:"nums1 = [1,2], nums2 = [3,4]",output:"2.50000",explanation:"merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5."}],constraints:["nums1.length == m","nums2.length == n","0 <= m <= 1000","0 <= n <= 1000","1 <= m + n <= 2000","-10^6 <= nums1[i], nums2[i] <= 10^6"],tags:["Array","Binary Search","Divide and Conquer"]},{id:10,title:"Regular Expression Matching",difficulty:"Hard",description:`Given an input string s and a pattern p, implement regular expression matching with support for '.' and '*' where:

- '.' Matches any single character.
- '*' Matches zero or more of the preceding element.

The matching should cover the entire input string (not partial).`,examples:[{input:'s = "aa", p = "a"',output:"false",explanation:'"a" does not match the entire string "aa".'},{input:'s = "aa", p = "a*"',output:"true",explanation:`"a*" means zero or more of the preceding element, 'a'. Therefore, by repeating 'a' once, it becomes "aa".`},{input:'s = "ab", p = ".*"',output:"true",explanation:'".*" means zero or more of any character.'}],constraints:["1 <= s.length <= 20","1 <= p.length <= 30","s contains only lowercase English letters.","p contains only lowercase English letters, '.', and '*'.","It is guaranteed for each appearance of the character '*', there will be a previous valid character to match."],tags:["String","Dynamic Programming","Recursion"]},{id:11,title:"Maximum Subarray",difficulty:"Easy",description:`Given an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.

A subarray is a contiguous part of an array.`,examples:[{input:"nums = [-2,1,-3,4,-1,2,1,-5,4]",output:"6",explanation:"[4,-1,2,1] has the largest sum = 6."},{input:"nums = [1]",output:"1"},{input:"nums = [5,4,-1,7,8]",output:"23"}],constraints:["1 <= nums.length <= 10^5","-10^4 <= nums[i] <= 10^4"],tags:["Array","Divide and Conquer","Dynamic Programming"]},{id:12,title:"Climbing Stairs",difficulty:"Easy",description:`You are climbing a staircase. It takes n steps to reach the top.

Each time you can either climb 1 or 2 steps. In how many distinct ways can you climb to the top?`,examples:[{input:"n = 2",output:"2",explanation:`There are two ways to climb to the top.
1. 1 step + 1 step
2. 2 steps`},{input:"n = 3",output:"3",explanation:`There are three ways to climb to the top.
1. 1 step + 1 step + 1 step
2. 1 step + 2 steps
3. 2 steps + 1 step`}],constraints:["1 <= n <= 45"],tags:["Math","Dynamic Programming","Memoization"]},{id:13,title:"3Sum",difficulty:"Medium",description:`Given an integer array nums, return all the triplets [nums[i], nums[j], nums[k]] such that i != j, i != k, and j != k, and nums[i] + nums[j] + nums[k] == 0.

Notice that the solution set must not contain duplicate triplets.`,examples:[{input:"nums = [-1,0,1,2,-1,-4]",output:"[[-1,-1,2],[-1,0,1]]"},{input:"nums = []",output:"[]"},{input:"nums = [0]",output:"[]"}],constraints:["0 <= nums.length <= 3000","-10^5 <= nums[i] <= 10^5"],tags:["Array","Two Pointers","Sorting"]},{id:14,title:"Binary Tree Level Order Traversal",difficulty:"Medium",description:"Given the root of a binary tree, return the level order traversal of its nodes' values. (i.e., from left to right, level by level).",examples:[{input:"root = [3,9,20,null,null,15,7]",output:"[[3],[9,20],[15,7]]"},{input:"root = [1]",output:"[[1]]"},{input:"root = []",output:"[]"}],constraints:["The number of nodes in the tree is in the range [0, 2000].","-1000 <= Node.val <= 1000"],tags:["Tree","Breadth-First Search","Binary Tree"]},{id:15,title:"Word Search",difficulty:"Medium",description:`Given an m x n grid of characters board and a string word, return true if word exists in the grid.

The word can be constructed from letters of sequentially adjacent cells, where adjacent cells are horizontally or vertically neighboring. The same letter cell may not be used more than once.`,examples:[{input:"board = [['A','B','C','E'],['S','F','C','S'],['A','D','E','E']], word = 'ABCCED'",output:"true"},{input:"board = [['A','B','C','E'],['S','F','C','S'],['A','D','E','E']], word = 'SEE'",output:"true"},{input:"board = [['A','B','C','E'],['S','F','C','S'],['A','D','E','E']], word = 'ABCB'",output:"false"}],constraints:["m == board.length","n = board[i].length","1 <= m, n <= 6","1 <= word.length <= 15","board and word consists of only lowercase and uppercase English letters."],tags:["Array","Backtracking","Matrix"]},{id:16,title:"Word Ladder",difficulty:"Hard",description:`A transformation sequence from word beginWord to word endWord using a dictionary wordList is a sequence of words beginWord -> s1 -> s2 -> ... -> sk such that:

- Every adjacent pair of words differs by a single letter.
- Every si for 1 <= i <= k is in wordList. Note that beginWord does not need to be in wordList.
- sk == endWord

Given two words, beginWord and endWord, and a dictionary wordList, return the number of words in the shortest transformation sequence from beginWord to endWord, or 0 if no such sequence exists.`,examples:[{input:'beginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log","cog"]',output:"5",explanation:'One shortest transformation sequence is "hit" -> "hot" -> "dot" -> "dog" -> "cog", which is 5 words long.'},{input:'beginWord = "hit", endWord = "cog", wordList = ["hot","dot","dog","lot","log"]',output:"0",explanation:'The endWord "cog" is not in wordList, therefore there is no valid transformation sequence.'}],constraints:["1 <= beginWord.length <= 10","endWord.length == beginWord.length","1 <= wordList.length <= 5000","wordList[i].length == beginWord.length","beginWord, endWord, and wordList[i] consist of lowercase English letters.","beginWord != endWord","All the words in wordList are unique."],tags:["Breadth-First Search","Hash Table","String"]},{id:17,title:"Serialize and Deserialize Binary Tree",difficulty:"Hard",description:`Serialization is the process of converting a data structure or object into a sequence of bits so that it can be stored in a file or memory buffer, or transmitted across a network connection link to be reconstructed later in the same or another computer environment.

Design an algorithm to serialize and deserialize a binary tree. There is no restriction on how your serialization/deserialization algorithm should work. You just need to ensure that a binary tree can be serialized to a string and this string can be deserialized to the original tree structure.`,examples:[{input:"root = [1,2,3,null,null,4,5]",output:"[1,2,3,null,null,4,5]",explanation:"The serialized format follows level order traversal, where 'null' signifies a path terminator where no node exists below."}],constraints:["The number of nodes in the tree is in the range [0, 10^4].","-1000 <= Node.val <= 1000"],tags:["Tree","Depth-First Search","Breadth-First Search","Design","String","Binary Tree"]},{id:18,title:"LRU Cache",difficulty:"Medium",description:`Design a data structure that follows the constraints of a Least Recently Used (LRU) cache.

Implement the LRUCache class:

- LRUCache(int capacity) Initialize the LRU cache with positive size capacity.
- int get(int key) Return the value of the key if the key exists, otherwise return -1.
- void put(int key, int value) Update the value of the key if the key exists. Otherwise, add the key-value pair to the cache. If the number of keys exceeds the capacity from this operation, evict the least recently used key.`,examples:[{input:`Input
["LRUCache", "put", "put", "get", "put", "get", "put", "get", "get", "get"]
[[2], [1, 1], [2, 2], [1], [3, 3], [2], [4, 4], [1], [3], [4]]`,output:`Output
[null, null, null, 1, null, -1, null, -1, 3, 4]`,explanation:`LRUCache lRUCache = new LRUCache(2);
lRUCache.put(1, 1); // cache is {1=1}
lRUCache.put(2, 2); // cache is {1=1, 2=2}
lRUCache.get(1);    // return 1
lRUCache.put(3, 3); // LRU key was 2, evicts key 2, cache is {1=1, 3=3}
lRUCache.get(2);    // returns -1 (not found)
lRUCache.put(4, 4); // LRU key was 1, evicts key 1, cache is {4=4, 3=3}
lRUCache.get(1);    // return -1 (not found)
lRUCache.get(3);    // return 3
lRUCache.get(4);    // return 4`}],constraints:["1 <= capacity <= 3000","0 <= key <= 10^4","0 <= value <= 10^5","At most 2 * 10^5 calls will be made to get and put."],tags:["Hash Table","Linked List","Design","Doubly-Linked List"]},{id:19,title:"Reverse Linked List",difficulty:"Easy",description:"Given the head of a singly linked list, reverse the list, and return the reversed list.",examples:[{input:"head = [1,2,3,4,5]",output:"[5,4,3,2,1]"},{input:"head = [1,2]",output:"[2,1]"},{input:"head = []",output:"[]"}],constraints:["The number of nodes in the list is the range [0, 5000].","-5000 <= Node.val <= 5000"],tags:["Linked List","Recursion"]},{id:20,title:"Best Time to Buy and Sell Stock",difficulty:"Easy",description:`You are given an array prices where prices[i] is the price of a given stock on the ith day.

You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock.

Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.`,examples:[{input:"prices = [7,1,5,3,6,4]",output:"5",explanation:"Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5. Note that buying on day 2 and selling on day 1 is not allowed because you must buy before you sell."},{input:"prices = [7,6,4,3,1]",output:"0",explanation:"In this case, no transactions are done and the max profit = 0."}],constraints:["1 <= prices.length <= 10^5","0 <= prices[i] <= 10^4"],tags:["Array","Dynamic Programming"]},{id:21,title:"Rotate Image",difficulty:"Medium",description:`You are given an n x n 2D matrix representing an image, rotate the image by 90 degrees (clockwise).

You have to rotate the image in-place, which means you have to modify the input 2D matrix directly. DO NOT allocate another 2D matrix and do the rotation.`,examples:[{input:"matrix = [[1,2,3],[4,5,6],[7,8,9]]",output:"[[7,4,1],[8,5,2],[9,6,3]]"},{input:"matrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]",output:"[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]"}],constraints:["n == matrix.length == matrix[i].length","1 <= n <= 20","-1000 <= matrix[i][j] <= 1000"],tags:["Array","Math","Matrix"]},{id:22,title:"Group Anagrams",difficulty:"Medium",description:`Given an array of strings strs, group the anagrams together. You can return the answer in any order.

An Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.`,examples:[{input:'strs = ["eat","tea","tan","ate","nat","bat"]',output:'[["bat"],["nat","tan"],["ate","eat","tea"]]'},{input:'strs = [""]',output:'[[""]]'},{input:'strs = ["a"]',output:'[["a"]]'}],constraints:["1 <= strs.length <= 10^4","0 <= strs[i].length <= 100","strs[i] consists of lowercase English letters."],tags:["Array","Hash Table","String","Sorting"]},{id:23,title:"Jump Game",difficulty:"Medium",description:`You are given an integer array nums. You are initially positioned at the array's first index, and each element in the array represents your maximum jump length at that position.

Return true if you can reach the last index, or false otherwise.`,examples:[{input:"nums = [2,3,1,1,4]",output:"true",explanation:"Jump 1 step from index 0 to 1, then 3 steps to the last index."},{input:"nums = [3,2,1,0,4]",output:"false",explanation:"You will always arrive at index 3 no matter what. Its maximum jump length is 0, which makes it impossible to reach the last index."}],constraints:["1 <= nums.length <= 10^4","0 <= nums[i] <= 10^5"],tags:["Array","Dynamic Programming","Greedy"]},{id:24,title:"Find First and Last Position of Element in Sorted Array",difficulty:"Medium",description:`Given an array of integers nums sorted in non-decreasing order, find the starting and ending position of a given target value.

If target is not found in the array, return [-1, -1].

You must write an algorithm with O(log n) runtime complexity.`,examples:[{input:"nums = [5,7,7,8,8,10], target = 8",output:"[3,4]"},{input:"nums = [5,7,7,8,8,10], target = 6",output:"[-1,-1]"},{input:"nums = [], target = 0",output:"[-1,-1]"}],constraints:["0 <= nums.length <= 10^5","-10^9 <= nums[i] <= 10^9","nums is a non-decreasing array.","-10^9 <= target <= 10^9"],tags:["Array","Binary Search"]},{id:25,title:"Unique Paths",difficulty:"Medium",description:`A robot is located at the top-left corner of a m x n grid (marked 'Start' in the diagram below).

The robot can only move either down or right at any point in time. The robot is trying to reach the bottom-right corner of the grid (marked 'Finish' in the diagram below).

How many possible unique paths are there?`,examples:[{input:"m = 3, n = 7",output:"28"},{input:"m = 3, n = 2",output:"3",explanation:`From the top-left corner, there are a total of 3 ways to reach the bottom-right corner:
1. Right -> Down -> Down
2. Down -> Right -> Down
3. Down -> Down -> Right`}],constraints:["1 <= m, n <= 100","It's guaranteed that the answer will be less than or equal to 2 * 10^9."],tags:["Math","Dynamic Programming","Combinatorics"]},{id:26,title:"Permutations",difficulty:"Medium",description:"Given an array nums of distinct integers, return all the possible permutations. You can return the answer in any order.",examples:[{input:"nums = [1,2,3]",output:"[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]"},{input:"nums = [0,1]",output:"[[0,1],[1,0]]"},{input:"nums = [1]",output:"[[1]]"}],constraints:["1 <= nums.length <= 6","-10 <= nums[i] <= 10","All the integers of nums are unique."],tags:["Array","Backtracking"]},{id:27,title:"Minimum Path Sum",difficulty:"Medium",description:`Given a m x n grid filled with non-negative numbers, find a path from top left to bottom right, which minimizes the sum of all numbers along its path.

Note: You can only move either down or right at any point in time.`,examples:[{input:"grid = [[1,3,1],[1,5,1],[4,2,1]]",output:"7",explanation:"Because the path 1 → 3 → 1 → 1 → 1 minimizes the sum."},{input:"grid = [[1,2,3],[4,5,6]]",output:"12"}],constraints:["m == grid.length","n == grid[i].length","1 <= m, n <= 200","0 <= grid[i][j] <= 100"],tags:["Array","Dynamic Programming","Matrix"]},{id:28,title:"Palindrome Partitioning",difficulty:"Medium",description:"Given a string s, partition s such that every substring of the partition is a palindrome. Return all possible palindrome partitioning of s.",examples:[{input:'s = "aab"',output:'[["a","a","b"],["aa","b"]]'},{input:'s = "a"',output:'[["a"]]'}],constraints:["1 <= s.length <= 16","s contains only lowercase English letters."],tags:["String","Dynamic Programming","Backtracking"]},{id:29,title:"Merge Intervals",difficulty:"Medium",description:"Given an array of intervals where intervals[i] = [starti, endi], merge all overlapping intervals, and return an array of the non-overlapping intervals that cover all the intervals in the input.",examples:[{input:"intervals = [[1,3],[2,6],[8,10],[15,18]]",output:"[[1,6],[8,10],[15,18]]",explanation:"Since intervals [1,3] and [2,6] overlap, merge them into [1,6]."},{input:"intervals = [[1,4],[4,5]]",output:"[[1,5]]",explanation:"Intervals [1,4] and [4,5] are considered overlapping."}],constraints:["1 <= intervals.length <= 10^4","intervals[i].length == 2","0 <= starti <= endi <= 10^4"],tags:["Array","Sorting"]},{id:30,title:"N-Queens",difficulty:"Hard",description:`The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.

Given an integer n, return all distinct solutions to the n-queens puzzle. You may return the answer in any order.

Each solution contains a distinct board configuration of the n-queens placement, where 'Q' and '.' both indicate a queen and an empty space, respectively.`,examples:[{input:"n = 4",output:'[[".","Q",".","."],[".",".",".","Q"],["Q",".",".","."],[".",".","Q","."]]',explanation:"There exist two distinct solutions to the 4-queens puzzle as shown above."},{input:"n = 1",output:'[["Q"]]'}],constraints:["1 <= n <= 9"],tags:["Array","Backtracking"]}],Pb={twoSum:{javascript:`/**
 * @param {number[]} nums
 * @param {number} target
 * @return {number[]}
 */
function twoSum(nums, target) {
  // Your solution here
};`,python:`class Solution:
    def twoSum(self, nums: list[int], target: int) -> list[int]:
        # Your solution here
        pass`,java:`class Solution {
    public int[] twoSum(int[] nums, int target) {
        // Your solution here
    }
}`,c:`/*
Note: The returned array must be malloced, assume caller calls free().
*/
int* twoSum(int* nums, int numsSize, int target, int* returnSize) {
    // Your solution here
}`,cpp:`class Solution {
public:
    vector<int> twoSum(vector<int>& nums, int target) {
        // Your solution here
    }
};`},validParentheses:{javascript:`/**
 * @param {string} s
 * @return {boolean}
 */
function isValid(s) {
    // Your solution here
};`,python:`class Solution:
    def isValid(self, s: str) -> bool:
        # Your solution here
        pass`,java:`class Solution {
    public boolean isValid(String s) {
        // Your solution here
    }
}`,c:`bool isValid(char s) {
    // Your solution here
}`,cpp:`class Solution {
public:
    bool isValid(string s) {
        // Your solution here
    }
};`},default:{javascript:`/**
 * Your solution here
 */
function solve(input) {
    // Write your code here
};`,python:`class Solution:
    def solve(self, input):
        # Write your code here
        pass`,java:`class Solution {
    public void solve(String input) {
        // Write your code here
    }
}`,c:`void solve(char input) {
    // Write your code here
}`,cpp:`class Solution {
public:
    void solve(string input) {
        // Write your code here
    }
};`}},Em=(t,e)=>{const r={1:"twoSum",2:"validParentheses"}[e]||"default";return Pb[r][t]||Pb.default[t]},QN=t=>At.find(e=>e.id===t),YN=()=>{const[t,e]=P.useState([]),[n,r]=P.useState(!0),[s,i]=P.useState(null);P.useEffect(()=>{a()},[]);const a=async()=>{r(!0),i(null);try{const c=await J9();let d=[...At];if(c&&c.length>0){const h=c.map((g,T)=>({id:g.numericId||1e4+T,title:g.title,difficulty:g.difficulty,description:g.description,examples:g.examples||[],constraints:g.constraints||[],tags:g.tags||[],testCases:g.testCases||[],solved:!1,firebaseId:g.id})),f=new Set(At.map(g=>g.id)),m=h.map(g=>f.has(g.id)?{...g,id:Math.max(...Array.from(f))+1e3+Math.floor(Math.random()*1e3)}:g);d=[...At,...m],console.log("Loaded combined problem set:",d.length,"("+At.length+" static, "+h.length+" from Firebase)")}else console.log("No Firebase problems found, using only static problems");e(d)}catch(c){console.error("Error loading problems:",c),i(c.message),console.log("Error loading Firebase problems, using only static problems"),e(At)}finally{r(!1)}};return{problems:t,loading:n,error:s,getProblemById:c=>{const d=typeof c=="string"?parseInt(c,10):c;let h=t.find(f=>f.id===d);return!h&&typeof c=="string"&&(h=t.find(f=>f.firebaseId===c)),h||(h=QN(d)),h||null},refetch:a}},Z9=()=>{const t=Di(),{currentUser:e}=Pn(),[n,r]=P.useState(""),[s,i]=P.useState([]),[a,l]=P.useState(1),[c,d]=P.useState([]),h=10,{problems:f,loading:m,error:g,refetch:T}=YN();P.useEffect(()=>{(async()=>{if(e){const{data:E}=await wn(e.uid);E&&d(E.solvedProblems||[])}})()},[e]);const S=f.filter(w=>{const E=w.title.toLowerCase().includes(n.toLowerCase())||w.tags.some(M=>M.toLowerCase().includes(n.toLowerCase())),k=s.length===0||s.includes(w.difficulty);return E&&k}),N=a*h,_=N-h,y=S.slice(_,N),x=Math.ceil(S.length/h);P.useEffect(()=>{a>x&&x>0&&l(1)},[S,a,x]);const j=w=>{s.includes(w)?i(s.filter(E=>E!==w)):i([...s,w]),l(1)},D=w=>{w>0&&w<=x&&l(w)},C=w=>{t(`/code/${w}`)},b=w=>{switch(w){case"Easy":return"text-green-400";case"Medium":return"text-yellow-400";case"Hard":return"text-red-400";default:return"text-[var(--text)]"}};return o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsxs("main",{className:"flex-grow py-16 relative overflow-hidden",children:[o.jsxs(O.div,{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[o.jsx("div",{className:"absolute top-1/4 right-1/4 w-[500px] h-[500px] rounded-full bg-[var(--accent)] filter blur-[180px] opacity-5"}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-[400px] h-[400px] rounded-full bg-[var(--accent-secondary)] filter blur-[150px] opacity-5"})]}),o.jsx("div",{className:"container-custom relative z-10",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx(O.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-4xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",children:"Coding Challenges"}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6 mb-8",children:[o.jsxs(O.div,{className:"relative flex-grow",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[o.jsx(Bv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--text-secondary)]",size:20}),o.jsx("input",{type:"text",placeholder:"Search problems by name or tag...",value:n,onChange:w=>{r(w.target.value),l(1)},className:"w-full py-3 pl-12 pr-4 bg-[var(--primary)] rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--accent)] text-base"})]}),o.jsxs(O.div,{className:"flex items-center space-x-4 shrink-0",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[o.jsx($N,{size:20,className:"text-[var(--text-secondary)]"}),o.jsx("div",{className:"flex space-x-3",children:["Easy","Medium","Hard"].map(w=>o.jsx("button",{onClick:()=>j(w),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s.includes(w)?b(w)+" bg-opacity-20 bg-white":"text-[var(--text-secondary)] hover:text-[var(--text)] hover:bg-[var(--primary)]"}`,children:w},w))})]})]}),o.jsxs(O.div,{className:"bg-[var(--primary)] bg-opacity-60 rounded-xl p-4 mb-4 flex flex-wrap justify-between items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Pi,{size:18,className:"text-[var(--accent)] mr-2"}),o.jsxs("span",{className:"text-sm",children:["Total Problems: ",o.jsx("span",{className:"font-semibold",children:S.length})]})]}),o.jsxs("div",{className:"flex space-x-4 text-sm",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 mr-2"}),o.jsxs("span",{children:["Easy: ",S.filter(w=>w.difficulty==="Easy").length]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400 mr-2"}),o.jsxs("span",{children:["Medium: ",S.filter(w=>w.difficulty==="Medium").length]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400 mr-2"}),o.jsxs("span",{children:["Hard: ",S.filter(w=>w.difficulty==="Hard").length]})]})]}),x>0&&o.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:["Page ",a," of ",x]})]}),o.jsxs(O.div,{className:"bg-[var(--secondary)] bg-opacity-80 backdrop-blur-sm border border-white/5 rounded-xl shadow-lg p-6 mb-8 overflow-hidden",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:[m?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)]"})}):g?o.jsxs("div",{className:"text-center py-8 text-red-400",children:[o.jsxs("p",{children:["Error loading problems: ",g]}),o.jsx("button",{onClick:()=>T(),className:"mt-4 px-4 py-2 bg-[var(--primary)] rounded-lg hover:bg-opacity-80 transition-colors",children:"Try Again"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Status"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Title"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Difficulty"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Tags"})]})}),o.jsx("tbody",{className:"bg-transparent divide-y divide-gray-700",children:y.length>0?y.map((w,E)=>o.jsxs(O.tr,{className:"hover:bg-[var(--primary)] hover:bg-opacity-50 transition-colors cursor-pointer",onClick:()=>C(w.id),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:E*.02+.5},children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:`w-3 h-3 rounded-full ${c.includes(w.id)?"bg-green-400":"bg-gray-600"}`})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"font-medium text-[var(--accent)] hover:text-[var(--accent-hover)] group flex items-center",children:[w.title,o.jsx("div",{className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(BN,{size:16})})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`${b(w.difficulty)}`,children:w.difficulty})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:w.tags.map((k,M)=>o.jsx("span",{className:"bg-[var(--primary)] text-xs px-2 py-1 rounded hover:bg-opacity-80 transition-colors",children:k},M))})})]},w.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-[var(--text-secondary)]",children:"No problems found matching your search criteria."})})})]})}),S.length>0&&o.jsxs("div",{className:"flex items-center justify-between border-t border-gray-700 px-6 py-4 mt-4",children:[o.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:["Showing ",o.jsx("span",{className:"font-medium",children:_+1})," to"," ",o.jsx("span",{className:"font-medium",children:Math.min(N,S.length)})," ","of ",o.jsx("span",{className:"font-medium",children:S.length})," problems"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>D(a-1),disabled:a===1,className:`p-2 rounded-full transition-colors ${a===1?"text-gray-500 cursor-not-allowed":"text-[var(--text)] hover:bg-[var(--primary)]"}`,children:o.jsx(n9,{size:20})}),Array.from({length:Math.min(5,x)},(w,E)=>{let k;return x<=5||a<=3?k=E+1:a>=x-2?k=x-4+E:k=a-2+E,o.jsx("button",{onClick:()=>D(k),className:`w-8 h-8 rounded-full flex items-center justify-center transition-colors ${a===k?"bg-[var(--accent)] text-white":"text-[var(--text)] hover:bg-[var(--primary)]"}`,children:k},k)}),o.jsx("button",{onClick:()=>D(a+1),disabled:a===x,className:`p-2 rounded-full transition-colors ${a===x?"text-gray-500 cursor-not-allowed":"text-[var(--text)] hover:bg-[var(--primary)]"}`,children:o.jsx(ui,{size:20})})]})]})]})]})})]}),o.jsx(Mt,{})]})})};var XN={},ez=mn&&mn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xt=mn&&mn.__assign||function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},xt.apply(this,arguments)},tz=mn&&mn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),nz=mn&&mn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rz=mn&&mn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&tz(e,t,n);return nz(e,t),e},sz=mn&&mn.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};Object.defineProperty(XN,"__esModule",{value:!0});var Lo=rz(P),iz=13,az=9,oz=8,lz=89,Su=90,cz=77,Rb=57,Mb=219,Db=222,Lb=192,uz=27,Ob=100,dz=3e3,hz=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),Tm=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),Ju="npm__react-simple-code-editor__textarea",fz=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(Ju,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(Ju,` {
    color: transparent !important;
  }

  .`).concat(Ju,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),mz=function(t){ez(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={capture:!0},n._recordCurrentState=function(){var r=n._input;if(r){var s=r.value,i=r.selectionStart,a=r.selectionEnd;n._recordChange({value:s,selectionStart:i,selectionEnd:a})}},n._getLines=function(r,s){return r.substring(0,s).split(`
`)},n._recordChange=function(r,s){var i,a,l;s===void 0&&(s=!1);var c=n._history,d=c.stack,h=c.offset;if(d.length&&h>-1){n._history.stack=d.slice(0,h+1);var f=n._history.stack.length;if(f>Ob){var m=f-Ob;n._history.stack=d.slice(m,f),n._history.offset=Math.max(n._history.offset-m,0)}}var g=Date.now();if(s){var T=n._history.stack[n._history.offset];if(T&&g-T.timestamp<dz){var S=/[^a-z0-9]([a-z0-9]+)$/i,N=(i=n._getLines(T.value,T.selectionStart).pop())===null||i===void 0?void 0:i.match(S),_=(a=n._getLines(r.value,r.selectionStart).pop())===null||a===void 0?void 0:a.match(S);if(N!=null&&N[1]&&(!((l=_==null?void 0:_[1])===null||l===void 0)&&l.startsWith(N[1]))){n._history.stack[n._history.offset]=xt(xt({},r),{timestamp:g});return}}}n._history.stack.push(xt(xt({},r),{timestamp:g})),n._history.offset++},n._updateInput=function(r){var s=n._input;s&&(s.value=r.value,s.selectionStart=r.selectionStart,s.selectionEnd=r.selectionEnd,n.props.onValueChange(r.value))},n._applyEdits=function(r){var s=n._input,i=n._history.stack[n._history.offset];i&&s&&(n._history.stack[n._history.offset]=xt(xt({},i),{selectionStart:s.selectionStart,selectionEnd:s.selectionEnd})),n._recordChange(r),n._updateInput(r)},n._undoEdit=function(){var r=n._history,s=r.stack,i=r.offset,a=s[i-1];a&&(n._updateInput(a),n._history.offset=Math.max(i-1,0))},n._redoEdit=function(){var r=n._history,s=r.stack,i=r.offset,a=s[i+1];a&&(n._updateInput(a),n._history.offset=Math.min(i+1,s.length-1))},n._handleKeyDown=function(r){var s=n.props,i=s.tabSize,a=s.insertSpaces,l=s.ignoreTabKey,c=s.onKeyDown;if(!(c&&(c(r),r.defaultPrevented))){r.keyCode===uz&&r.currentTarget.blur();var d=r.currentTarget,h=d.value,f=d.selectionStart,m=d.selectionEnd,g=(a?" ":"	").repeat(i);if(r.keyCode===az&&!l&&n.state.capture)if(r.preventDefault(),r.shiftKey){var T=n._getLines(h,f),S=T.length-1,N=n._getLines(h,m).length-1,_=h.split(`
`).map(function(R,A){return A>=S&&A<=N&&R.startsWith(g)?R.substring(g.length):R}).join(`
`);if(h!==_){var y=T[S];n._applyEdits({value:_,selectionStart:y!=null&&y.startsWith(g)?f-g.length:f,selectionEnd:m-(h.length-_.length)})}}else if(f!==m){var T=n._getLines(h,f),x=T.length-1,j=n._getLines(h,m).length-1,y=T[x];n._applyEdits({value:h.split(`
`).map(function(X,Z){return Z>=x&&Z<=j?g+X:X}).join(`
`),selectionStart:y&&/\S/.test(y)?f+g.length:f,selectionEnd:m+g.length*(j-x+1)})}else{var D=f+g.length;n._applyEdits({value:h.substring(0,f)+g+h.substring(m),selectionStart:D,selectionEnd:D})}else if(r.keyCode===oz){var C=f!==m,b=h.substring(0,f);if(b.endsWith(g)&&!C){r.preventDefault();var D=f-g.length;n._applyEdits({value:h.substring(0,f-g.length)+h.substring(m),selectionStart:D,selectionEnd:D})}}else if(r.keyCode===iz){if(f===m){var w=n._getLines(h,f).pop(),E=w==null?void 0:w.match(/^\s+/);if(E!=null&&E[0]){r.preventDefault();var k=`
`+E[0],D=f+k.length;n._applyEdits({value:h.substring(0,f)+k+h.substring(m),selectionStart:D,selectionEnd:D})}}}else if(r.keyCode===Rb||r.keyCode===Mb||r.keyCode===Db||r.keyCode===Lb){var M=void 0;r.keyCode===Rb&&r.shiftKey?M=["(",")"]:r.keyCode===Mb?r.shiftKey?M=["{","}"]:M=["[","]"]:r.keyCode===Db?r.shiftKey?M=['"','"']:M=["'","'"]:r.keyCode===Lb&&!r.shiftKey&&(M=["`","`"]),f!==m&&M&&(r.preventDefault(),n._applyEdits({value:h.substring(0,f)+M[0]+h.substring(f,m)+M[1]+h.substring(m),selectionStart:f,selectionEnd:m+2}))}else(Tm?r.metaKey&&r.keyCode===Su:r.ctrlKey&&r.keyCode===Su)&&!r.shiftKey&&!r.altKey?(r.preventDefault(),n._undoEdit()):(Tm?r.metaKey&&r.keyCode===Su&&r.shiftKey:hz?r.ctrlKey&&r.keyCode===lz:r.ctrlKey&&r.keyCode===Su&&r.shiftKey)&&!r.altKey?(r.preventDefault(),n._redoEdit()):r.keyCode===cz&&r.ctrlKey&&(!Tm||r.shiftKey)&&(r.preventDefault(),n.setState(function(R){return{capture:!R.capture}}))}},n._handleChange=function(r){var s=r.currentTarget,i=s.value,a=s.selectionStart,l=s.selectionEnd;n._recordChange({value:i,selectionStart:a,selectionEnd:l},!0),n.props.onValueChange(i)},n._history={stack:[],offset:-1},n._input=null,n}return e.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(e.prototype,"session",{get:function(){return{history:this._history}},set:function(n){this._history=n.history},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this,r=this.props,s=r.value,i=r.style,a=r.padding,l=r.highlight,c=r.textareaId,d=r.textareaClassName,h=r.autoFocus,f=r.disabled,m=r.form,g=r.maxLength,T=r.minLength,S=r.name,N=r.placeholder,_=r.readOnly,y=r.required,x=r.onClick,j=r.onFocus,D=r.onBlur,C=r.onKeyUp;r.onKeyDown,r.onValueChange,r.tabSize,r.insertSpaces,r.ignoreTabKey;var b=r.preClassName,w=sz(r,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),E={paddingTop:typeof a=="object"?a.top:a,paddingRight:typeof a=="object"?a.right:a,paddingBottom:typeof a=="object"?a.bottom:a,paddingLeft:typeof a=="object"?a.left:a},k=l(s);return Lo.createElement("div",xt({},w,{style:xt(xt({},Oo.container),i)}),Lo.createElement("pre",xt({className:b,"aria-hidden":"true",style:xt(xt(xt({},Oo.editor),Oo.highlight),E)},typeof k=="string"?{dangerouslySetInnerHTML:{__html:k+"<br />"}}:{children:k})),Lo.createElement("textarea",{ref:function(M){return n._input=M},style:xt(xt(xt({},Oo.editor),Oo.textarea),E),className:Ju+(d?" ".concat(d):""),id:c,value:s,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:x,onKeyUp:C,onFocus:j,onBlur:D,disabled:f,form:m,maxLength:g,minLength:T,name:S,placeholder:N,readOnly:_,required:y,autoFocus:h,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),Lo.createElement("style",{dangerouslySetInnerHTML:{__html:fz}}))},e.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},e}(Lo.Component),pz=XN.default=mz,Oo={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}},JN={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,a={},l={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function y(x){return x instanceof c?new c(x.type,y(x.content),x.alias):Array.isArray(x)?x.map(y):x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++i}),y.__id},clone:function y(x,j){j=j||{};var D,C;switch(l.util.type(x)){case"Object":if(C=l.util.objId(x),j[C])return j[C];D={},j[C]=D;for(var b in x)x.hasOwnProperty(b)&&(D[b]=y(x[b],j));return D;case"Array":return C=l.util.objId(x),j[C]?j[C]:(D=[],j[C]=D,x.forEach(function(w,E){D[E]=y(w,j)}),D);default:return x}},getLanguage:function(y){for(;y;){var x=s.exec(y.className);if(x)return x[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,x){y.className=y.className.replace(RegExp(s,"gi"),""),y.classList.add("language-"+x)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(D){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(D.stack)||[])[1];if(y){var x=document.getElementsByTagName("script");for(var j in x)if(x[j].src==y)return x[j]}return null}},isActive:function(y,x,j){for(var D="no-"+x;y;){var C=y.classList;if(C.contains(x))return!0;if(C.contains(D))return!1;y=y.parentElement}return!!j}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(y,x){var j=l.util.clone(l.languages[y]);for(var D in x)j[D]=x[D];return j},insertBefore:function(y,x,j,D){D=D||l.languages;var C=D[y],b={};for(var w in C)if(C.hasOwnProperty(w)){if(w==x)for(var E in j)j.hasOwnProperty(E)&&(b[E]=j[E]);j.hasOwnProperty(w)||(b[w]=C[w])}var k=D[y];return D[y]=b,l.languages.DFS(l.languages,function(M,R){R===k&&M!=y&&(this[M]=b)}),b},DFS:function y(x,j,D,C){C=C||{};var b=l.util.objId;for(var w in x)if(x.hasOwnProperty(w)){j.call(x,w,x[w],D||w);var E=x[w],k=l.util.type(E);k==="Object"&&!C[b(E)]?(C[b(E)]=!0,y(E,j,null,C)):k==="Array"&&!C[b(E)]&&(C[b(E)]=!0,y(E,j,w,C))}}},plugins:{},highlightAll:function(y,x){l.highlightAllUnder(document,y,x)},highlightAllUnder:function(y,x,j){var D={callback:j,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",D),D.elements=Array.prototype.slice.apply(D.container.querySelectorAll(D.selector)),l.hooks.run("before-all-elements-highlight",D);for(var C=0,b;b=D.elements[C++];)l.highlightElement(b,x===!0,D.callback)},highlightElement:function(y,x,j){var D=l.util.getLanguage(y),C=l.languages[D];l.util.setLanguage(y,D);var b=y.parentElement;b&&b.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(b,D);var w=y.textContent,E={element:y,language:D,grammar:C,code:w};function k(R){E.highlightedCode=R,l.hooks.run("before-insert",E),E.element.innerHTML=E.highlightedCode,l.hooks.run("after-highlight",E),l.hooks.run("complete",E),j&&j.call(E.element)}if(l.hooks.run("before-sanity-check",E),b=E.element.parentElement,b&&b.nodeName.toLowerCase()==="pre"&&!b.hasAttribute("tabindex")&&b.setAttribute("tabindex","0"),!E.code){l.hooks.run("complete",E),j&&j.call(E.element);return}if(l.hooks.run("before-highlight",E),!E.grammar){k(l.util.encode(E.code));return}if(x&&r.Worker){var M=new Worker(l.filename);M.onmessage=function(R){k(R.data)},M.postMessage(JSON.stringify({language:E.language,code:E.code,immediateClose:!0}))}else k(l.highlight(E.code,E.grammar,E.language))},highlight:function(y,x,j){var D={code:y,grammar:x,language:j};if(l.hooks.run("before-tokenize",D),!D.grammar)throw new Error('The language "'+D.language+'" has no grammar.');return D.tokens=l.tokenize(D.code,D.grammar),l.hooks.run("after-tokenize",D),c.stringify(l.util.encode(D.tokens),D.language)},tokenize:function(y,x){var j=x.rest;if(j){for(var D in j)x[D]=j[D];delete x.rest}var C=new f;return m(C,C.head,y),h(y,C,x,C.head,0),T(C)},hooks:{all:{},add:function(y,x){var j=l.hooks.all;j[y]=j[y]||[],j[y].push(x)},run:function(y,x){var j=l.hooks.all[y];if(!(!j||!j.length))for(var D=0,C;C=j[D++];)C(x)}},Token:c};r.Prism=l;function c(y,x,j,D){this.type=y,this.content=x,this.alias=j,this.length=(D||"").length|0}c.stringify=function y(x,j){if(typeof x=="string")return x;if(Array.isArray(x)){var D="";return x.forEach(function(k){D+=y(k,j)}),D}var C={type:x.type,content:y(x.content,j),tag:"span",classes:["token",x.type],attributes:{},language:j},b=x.alias;b&&(Array.isArray(b)?Array.prototype.push.apply(C.classes,b):C.classes.push(b)),l.hooks.run("wrap",C);var w="";for(var E in C.attributes)w+=" "+E+'="'+(C.attributes[E]||"").replace(/"/g,"&quot;")+'"';return"<"+C.tag+' class="'+C.classes.join(" ")+'"'+w+">"+C.content+"</"+C.tag+">"};function d(y,x,j,D){y.lastIndex=x;var C=y.exec(j);if(C&&D&&C[1]){var b=C[1].length;C.index+=b,C[0]=C[0].slice(b)}return C}function h(y,x,j,D,C,b){for(var w in j)if(!(!j.hasOwnProperty(w)||!j[w])){var E=j[w];E=Array.isArray(E)?E:[E];for(var k=0;k<E.length;++k){if(b&&b.cause==w+","+k)return;var M=E[k],R=M.inside,A=!!M.lookbehind,X=!!M.greedy,Z=M.alias;if(X&&!M.pattern.global){var ue=M.pattern.toString().match(/[imsuy]*$/)[0];M.pattern=RegExp(M.pattern.source,ue+"g")}for(var me=M.pattern||M,F=D.next,K=C;F!==x.tail&&!(b&&K>=b.reach);K+=F.value.length,F=F.next){var H=F.value;if(x.length>y.length)return;if(!(H instanceof c)){var ne=1,re;if(X){if(re=d(me,K,y,A),!re||re.index>=y.length)break;var ie=re.index,ye=re.index+re[0].length,B=K;for(B+=F.value.length;ie>=B;)F=F.next,B+=F.value.length;if(B-=F.value.length,K=B,F.value instanceof c)continue;for(var q=F;q!==x.tail&&(B<ye||typeof q.value=="string");q=q.next)ne++,B+=q.value.length;ne--,H=y.slice(K,B),re.index-=K}else if(re=d(me,0,H,A),!re)continue;var ie=re.index,se=re[0],Pe=H.slice(0,ie),ae=H.slice(ie+se.length),_e=K+H.length;b&&_e>b.reach&&(b.reach=_e);var xe=F.prev;Pe&&(xe=m(x,xe,Pe),K+=Pe.length),g(x,xe,ne);var vt=new c(w,R?l.tokenize(se,R):se,Z,se);if(F=m(x,xe,vt),ae&&m(x,F,ae),ne>1){var sn={cause:w+","+k,reach:_e};h(y,x,j,F.prev,K,sn),b&&sn.reach>b.reach&&(b.reach=sn.reach)}}}}}}function f(){var y={value:null,prev:null,next:null},x={value:null,prev:y,next:null};y.next=x,this.head=y,this.tail=x,this.length=0}function m(y,x,j){var D=x.next,C={value:j,prev:x,next:D};return x.next=C,D.prev=C,y.length++,C}function g(y,x,j){for(var D=x.next,C=0;C<j&&D!==y.tail;C++)D=D.next;x.next=D,D.prev=x,y.length-=C}function T(y){for(var x=[],j=y.head.next;j!==y.tail;)x.push(j.value),j=j.next;return x}if(!r.document)return r.addEventListener&&(l.disableWorkerMessageHandler||r.addEventListener("message",function(y){var x=JSON.parse(y.data),j=x.language,D=x.code,C=x.immediateClose;r.postMessage(l.highlight(D,l.languages[j],j)),C&&r.close()},!1)),l;var S=l.util.currentScript();S&&(l.filename=S.src,S.hasAttribute("data-manual")&&(l.manual=!0));function N(){l.manual||l.highlightAll()}if(!l.manual){var _=document.readyState;_==="loading"||_==="interactive"&&S&&S.defer?document.addEventListener("DOMContentLoaded",N):window.requestAnimationFrame?window.requestAnimationFrame(N):window.setTimeout(N,16)}return l}(e);t.exports&&(t.exports=n),typeof mn<"u"&&(mn.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(s,i){var a={};a["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[i]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};l["language-"+i]={pattern:/[\s\S]+/,inside:n.languages[i]};var c={};c[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:l},n.languages.insertBefore("markup","cdata",c)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,s){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:n.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var i=r.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",s=function(S,N){return"✖ Error "+S+" while fetching file: "+N},i="✖ Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",c="loading",d="loaded",h="failed",f="pre[data-src]:not(["+l+'="'+d+'"]):not(['+l+'="'+c+'"])';function m(S,N,_){var y=new XMLHttpRequest;y.open("GET",S,!0),y.onreadystatechange=function(){y.readyState==4&&(y.status<400&&y.responseText?N(y.responseText):y.status>=400?_(s(y.status,y.statusText)):_(i))},y.send(null)}function g(S){var N=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(S||"");if(N){var _=Number(N[1]),y=N[2],x=N[3];return y?x?[_,Number(x)]:[_,void 0]:[_,_]}}n.hooks.add("before-highlightall",function(S){S.selector+=", "+f}),n.hooks.add("before-sanity-check",function(S){var N=S.element;if(N.matches(f)){S.code="",N.setAttribute(l,c);var _=N.appendChild(document.createElement("CODE"));_.textContent=r;var y=N.getAttribute("data-src"),x=S.language;if(x==="none"){var j=(/\.(\w+)$/.exec(y)||[,"none"])[1];x=a[j]||j}n.util.setLanguage(_,x),n.util.setLanguage(N,x);var D=n.plugins.autoloader;D&&D.loadLanguages(x),m(y,function(C){N.setAttribute(l,d);var b=g(N.getAttribute("data-range"));if(b){var w=C.split(/\r\n?|\n/g),E=b[0],k=b[1]==null?w.length:b[1];E<0&&(E+=w.length),E=Math.max(0,Math.min(E-1,w.length)),k<0&&(k+=w.length),k=Math.max(0,Math.min(k,w.length)),C=w.slice(E,k).join(`
`),N.hasAttribute("data-start")||N.setAttribute("data-start",String(E+1))}_.textContent=C,n.highlightElement(_)},function(C){N.setAttribute(l,h),_.textContent=C})}}),n.plugins.fileHighlight={highlight:function(N){for(var _=(N||document).querySelectorAll(f),y=0,x;x=_[y++];)n.highlightElement(x)}};var T=!1;n.fileHighlight=function(){T||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),T=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(JN);var Zu=JN.exports;const gz=Bb(Zu);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism);const Vb={javascript:63,python:71,java:62,c:50,cpp:54},Yt={ACCEPTED:3,WRONG_ANSWER:4,TIME_LIMIT_EXCEEDED:5,COMPILATION_ERROR:6,RUNTIME_ERROR:11,INTERNAL_ERROR:12},ZN="https://judge0-ce.p.rapidapi.com",ej="1ba1d2898dmsh717b4145cb0f703p140b97jsn21bdea8e1c1b",tj="judge0-ce.p.rapidapi.com",zv=t=>new Promise(e=>setTimeout(e,t)),nj=async(t,e,n,r,s=3,i=1e3)=>{try{const a=Vb[e]||Vb.javascript,l={source_code:t,language_id:a};n&&(l.stdin=n),r&&(l.expected_output=r);const c=await fetch(`${ZN}/submissions?base64_encoded=false&wait=false`,{method:"POST",headers:{"Content-Type":"application/json","X-RapidAPI-Key":ej,"X-RapidAPI-Host":tj},body:JSON.stringify(l)});if(c.status===429&&s>0)return console.log(`Rate limited, retrying after ${i}ms...`),await zv(i),nj(t,e,n,r,s-1,i*2);if(!c.ok)throw new Error(`Failed to submit code: ${c.status} ${c.statusText}`);return(await c.json()).token}catch(a){throw console.error("Error submitting code:",a),a}},rj=async(t,e=3,n=1e3)=>{try{const r=await fetch(`${ZN}/submissions/${t}?base64_encoded=false`,{method:"GET",headers:{"X-RapidAPI-Key":ej,"X-RapidAPI-Host":tj}});if(r.status===429&&e>0)return console.log(`Rate limited, retrying after ${n}ms...`),await zv(n),rj(t,e-1,n*2);if(!r.ok)throw new Error(`Failed to get submission result: ${r.status} ${r.statusText}`);return await r.json()}catch(r){throw console.error("Error getting submission result:",r),r}},yz=async(t,e=10,n=2e3)=>{let r=0;for(;r<e;){const s=await rj(t);if(s.status.id!==1&&s.status.id!==2)return s;await new Promise(i=>setTimeout(i,n)),r++}throw new Error("Submission processing timed out")},vz=async(t,e,n)=>{const r=await nj(t,e,n.input,n.expectedOutput);return await yz(r)},xz=async(t,e,n)=>{try{const r=[];for(const s of n){r.length>0&&await zv(1e3);const i=await vz(t,e,s);r.push(i)}return r}catch(r){throw console.error("Error evaluating code:",r),r}},wz=({result:t,testCaseIndex:e,isHidden:n})=>{const r=()=>{switch(t.status.id){case Yt.ACCEPTED:return"text-green-400";case Yt.WRONG_ANSWER:return"text-red-400";case Yt.TIME_LIMIT_EXCEEDED:return"text-yellow-400";case Yt.COMPILATION_ERROR:case Yt.RUNTIME_ERROR:return"text-red-400";default:return"text-[var(--text-secondary)]"}},s=()=>{switch(t.status.id){case Yt.ACCEPTED:return o.jsx(Jl,{className:"text-green-400",size:20});case Yt.WRONG_ANSWER:return o.jsx(Yn,{className:"text-red-400",size:20});case Yt.TIME_LIMIT_EXCEEDED:return o.jsx(Nc,{className:"text-yellow-400",size:20});case Yt.COMPILATION_ERROR:case Yt.RUNTIME_ERROR:return o.jsx(UN,{className:"text-red-400",size:20});default:return o.jsx(M9,{className:"text-[var(--text-secondary)]",size:20})}};return o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center",children:[s(),o.jsxs("span",{className:`ml-2 font-medium ${r()}`,children:["Test Case ",e+1," ",n?"(Hidden)":"",": ",t.status.description]})]}),t.time&&o.jsxs("span",{className:"text-[var(--text-secondary)] text-sm",children:["Time: ",parseFloat(t.time).toFixed(2),"s"]})]}),(!n||t.status.id!==Yt.ACCEPTED)&&o.jsxs("div",{className:"mt-2 space-y-2",children:[t.compile_output&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Compile Output:"}),o.jsx("pre",{className:"bg-[var(--secondary)] p-2 rounded text-sm overflow-x-auto whitespace-pre-wrap text-red-400",children:t.compile_output})]}),t.stderr&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Error:"}),o.jsx("pre",{className:"bg-[var(--secondary)] p-2 rounded text-sm overflow-x-auto whitespace-pre-wrap text-red-400",children:t.stderr})]}),t.stdout&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Your Output:"}),o.jsx("pre",{className:"bg-[var(--secondary)] p-2 rounded text-sm overflow-x-auto whitespace-pre-wrap",children:t.stdout})]})]})]})},Nn={MATCH_ROOMS:"matchRooms",MATCHES:"matches"},gi={WAITING:"waiting",MATCHED:"matched",EXPIRED:"expired"},Zt={MATCHED:"matched",IN_PROGRESS:"in_progress",COMPLETED:"completed"},le={info:(t,e)=>console.log(`[Matchmaking] ${t}`,e||""),error:(t,e)=>console.error(`[Matchmaking Error] ${t}`,e||""),warn:(t,e)=>console.warn(`[Matchmaking Warning] ${t}`,e||"")},bz=()=>{const t=Math.floor(Math.random()*At.length);return At[t].id},_z=async()=>{try{const t=gn(be,Nn.MATCH_ROOMS),e=new Date(Date.now()-10*60*1e3),n=Et(t,Be("createdAt","<",e),Be("status","==",gi.WAITING)),r=await zn(n);if(!r.empty){const s=vN(be);r.docs.forEach(i=>{s.delete(i.ref)}),await s.commit(),le.info(`Cleaned up ${r.size} expired rooms`)}}catch(t){le.error("Error cleaning up expired rooms",t)}},sj=async t=>{try{const e=gn(be,Nn.MATCH_ROOMS),n=Et(e,Be("players","array-contains",t),Be("status","in",[gi.WAITING,gi.MATCHED])),r=await zn(n);return r.empty?null:r.docs[0]}catch(e){return le.error("Error checking user active room",e),null}},Ez=async t=>{try{const e=gn(be,Nn.MATCHES),n=[Et(e,Be("player1","==",t),Be("status","in",[Zt.MATCHED,Zt.IN_PROGRESS])),Et(e,Be("player2","==",t),Be("status","in",[Zt.MATCHED,Zt.IN_PROGRESS]))],[r,s]=await Promise.all([zn(n[0]),zn(n[1])]),i=[...r.docs,...s.docs];if(i.length>0){const a=i[0];return{id:a.id,...a.data()}}return null}catch(e){return le.error("Error checking active matches",e),null}},Tz=async t=>await yN(be,async e=>{le.info(`Starting atomic operation for user ${t}`);const n=gn(be,Nn.MATCH_ROOMS),r=Et(n,Be("status","==",gi.WAITING),Yl("createdAt","asc"),rg(10)),s=await zn(r);le.info(`Found ${s.size} rooms to check`);for(const l of s.docs){const c=l.data();if(c.players.length===1&&!c.players.includes(t)){le.info(`Found available room ${l.id} with player ${c.players[0]}`);const d=c.players[0],h=bz(),f=gn(be,Nn.MATCHES),m=ut(f),g={player1:d,player2:t,problemId:h,startTime:Date.now(),status:Zt.MATCHED,submissions:{},pointsAwarded:!1};return e.set(m,g),e.update(l.ref,{players:[d,t],status:gi.MATCHED,problemId:h,matchId:m.id}),le.info(`Successfully joined room ${l.id} and created match ${m.id}`),{type:"joined",roomId:l.id,matchId:m.id}}}le.info(`No available rooms found, creating new room for user ${t}`);const i={players:[t],status:gi.WAITING,createdAt:Me()},a=ut(n);return e.set(a,i),le.info(`Created new room ${a.id} for user ${t}`),{type:"created",roomId:a.id}}),kz=async t=>{try{const e=gn(be,Nn.MATCH_ROOMS),n=Et(e,Be("matchId","==",t)),r=await zn(n);if(r.empty)le.info(`No rooms found for match ${t} during cleanup`);else{const s=vN(be);r.docs.forEach(i=>{s.delete(i.ref)}),await s.commit(),le.info(`IMMEDIATE CLEANUP: Deleted ${r.size} room(s) for match ${t}`)}}catch(e){le.error("Error deleting room for match",e)}},Sz=async(t,e,n)=>{try{le.info(`Auto-updating stats for winner: ${t}, loser: ${e}, match: ${n}`),setTimeout(async()=>{try{const r=ut(be,Nn.MATCHES,n),s=await sr(r);if(s.exists()){if(s.data().pointsAwarded===!0){le.info(`Match ${n} stats already processed, skipping auto-update`);return}await $n(r,{pointsAwarded:!0,pointsAwardedTimestamp:Me()}),le.info(`Marked match ${n} as points awarded, now updating user stats`);const a=await ON(t,e,n);a.success?le.info(`Successfully auto-updated stats for match ${n}`):(le.error(`Failed to auto-update stats for match ${n}:`,a.error),await $n(r,{pointsAwarded:!1}))}else le.error(`Match ${n} not found when trying to update stats`)}catch(r){le.error(`Error in auto-update stats for match ${n}:`,r)}},3e3)}catch(r){le.error("Error setting up auto-update stats",r)}},Nz=async t=>{try{le.info(`User ${t} joining matchmaking`),await _z();const e=await Ez(t);if(e)return le.info(`User ${t} already has active match: ${e.id}`),e.id;const n=await sj(t);if(n)return le.warn(`User ${t} is already in room ${n.id}`),"waiting";const r=await Tz(t);return le.info(`User ${t} ${r.type} room ${r.roomId}`),r.matchId?r.matchId:"waiting"}catch(e){throw le.error("Error in joinMatchmaking",e),new Error(`Matchmaking failed: ${e.message}`)}},jz=async t=>{try{le.info(`Canceling matchmaking for user: ${t}`);const e=await sj(t);if(e){const n=e.data();if(n.players.length===1&&n.players[0]===t)await Iv(e.ref),le.info(`Deleted room ${e.id} for user ${t}`);else{const r=n.players.filter(s=>s!==t);await $n(e.ref,{players:r}),le.info(`Removed user ${t} from room ${e.id}`)}}return!0}catch(e){return le.error("Error canceling matchmaking",e),!1}},Fb=(t,e,n)=>{le.info(`Setting up enhanced match listeners for user: ${t}`);const r=[],s=new Set,i=gn(be,Nn.MATCHES);[Et(i,Be("player1","==",t),Be("status","==",Zt.MATCHED)),Et(i,Be("player2","==",t),Be("status","==",Zt.MATCHED))].forEach((f,m)=>{const g=xm(f,T=>{T.docChanges().forEach(S=>{if(S.type==="added"){const N={id:S.doc.id,...S.doc.data()};s.has(N.id)||(le.info(`NEW MATCH FOUND via direct listener ${m} for user ${t}: ${N.id}`),s.add(N.id),e(N))}else if(S.type==="modified"){const N={id:S.doc.id,...S.doc.data()};le.info(`Match ${N.id} updated for user ${t}`),n(N)}})},T=>{le.error(`Error in direct match listener ${m}`,T)});r.push(g)});const l=gn(be,Nn.MATCH_ROOMS),c=Et(l,Be("players","array-contains",t)),d=xm(c,async f=>{for(const m of f.docChanges()){const g=m.doc.data(),T=m.doc.id;if(le.info(`Room ${T} ${m.type} for user ${t}:`,{status:g.status,players:g.players,hasMatchId:!!g.matchId}),g.status===gi.MATCHED&&g.matchId&&!s.has(g.matchId)){le.info(`Loading match ${g.matchId} from room ${T} for user ${t}`);try{const S=ut(be,Nn.MATCHES,g.matchId),N=await sr(S);if(N.exists()){const _={id:N.id,...N.data()};le.info(`BACKUP: Match found via room listener for user ${t}: ${_.id}`),s.add(_.id),e(_),setTimeout(async()=>{try{await Iv(m.doc.ref),le.info(`Cleaned up matched room: ${T}`)}catch(y){le.error("Error cleaning up room",y)}},2e3)}else le.error(`Match ${g.matchId} not found in database`)}catch(S){le.error("Error loading match from room",S)}}}},f=>{le.error("Error in room listener",f)});return r.push(d),[Et(i,Be("player1","==",t),Be("status","in",[Zt.IN_PROGRESS,Zt.COMPLETED])),Et(i,Be("player2","==",t),Be("status","in",[Zt.IN_PROGRESS,Zt.COMPLETED]))].forEach((f,m)=>{const g=xm(f,T=>{T.docChanges().forEach(S=>{if(S.type==="modified"){const N={id:S.doc.id,...S.doc.data()};le.info(`Match ${N.id} status updated to ${N.status} for user ${t}`),n(N)}})},T=>{le.error(`Error in update match listener ${m}`,T)});r.push(g)}),()=>{le.info(`Unsubscribing from all ${r.length} matchmaking listeners for user ${t}`),r.forEach(f=>f())}},Ub=async t=>{try{const e=ut(be,Nn.MATCHES,t),n=await sr(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){return le.error("Error getting match",e),null}},Az=async(t,e,n,r,s,i)=>{try{le.info(`Submitting solution for match: ${t}, user: ${e}`);const a=ut(be,Nn.MATCHES,t),l=await sr(a);if(!l.exists())throw new Error("Match not found");const c=l.data();if(c.player1!==e&&c.player2!==e)throw new Error("User is not part of this match");const d={code:n,language:r,submissionTime:Date.now(),testCasesPassed:s,totalTestCases:i},h={...c.submissions,[e]:d},f=h[c.player1]&&h[c.player2];let m={submissions:h,status:f?Zt.COMPLETED:Zt.IN_PROGRESS,pointsAwarded:c.pointsAwarded||!1};if(f){const g=h[c.player1],T=h[c.player2];let S,N;g.testCasesPassed>T.testCasesPassed?(S=c.player1,N=c.player2):T.testCasesPassed>g.testCasesPassed?(S=c.player2,N=c.player1):g.submissionTime<T.submissionTime?(S=c.player1,N=c.player2):(S=c.player2,N=c.player1),m.winner=S,le.info(`Match ${t} completed, winner: ${S}`),le.info(`Match ${t} is being marked as completed, deleting associated room immediately`),setTimeout(async()=>{await kz(t)},100),await $n(a,m),Sz(S,N,t)}else await $n(a,m);return!0}catch(a){return le.error("Error submitting solution",a),!1}},Iz=async(t,e=5)=>{try{const n=gn(be,Nn.MATCHES),r=[Et(n,Be("player1","==",t),Be("status","==",Zt.COMPLETED)),Et(n,Be("player2","==",t),Be("status","==",Zt.COMPLETED))],[s,i]=await Promise.all([zn(r[0]),zn(r[1])]),a=[];return[...s.docs,...i.docs].forEach(l=>{a.push({id:l.id,...l.data()})}),a.sort((l,c)=>c.startTime-l.startTime).slice(0,e)}catch(n){return le.error("Error getting user matches",n),[]}},Cz=[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"c",label:"C"},{value:"cpp",label:"C++"}],Pz=()=>{var uo,qi,Dc,Lc,Gi,ho;const{id:t}=oT(),e=Di(),n=Us(),{matchId:r,isRankedMatch:s,opponent:i}=n.state||{},{getProblemById:a}=YN(),l=t?parseInt(t,10):0,[c,d]=P.useState(null),[h,f]=P.useState("javascript"),[m,g]=P.useState(""),[T,S]=P.useState(0),[N,_]=P.useState(!1),[y,x]=P.useState(!1),{currentUser:j}=Pn(),[D]=P.useState(Date.now()),[C,b]=P.useState("question"),[w,E]=P.useState(!1),[k,M]=P.useState([]),[R,A]=P.useState(null),[X,Z]=P.useState(!1),[ue,me]=P.useState(600),[F,K]=P.useState("waiting"),[H,ne]=P.useState(null),[re,ye]=P.useState(i||"Opponent"),[B,q]=P.useState(null),[ie,se]=P.useState(null),[Pe,ae]=P.useState(null),[_e,xe]=P.useState(!1),[vt,sn]=P.useState(!1),[qs,wr]=P.useState(null),[io,Ic]=P.useState(null),[ao,Cc]=P.useState(null);P.useEffect(()=>{(async()=>{if(t){const te=a(l);te&&(d(te),g(Em(h,l)))}})()},[t,l,a]),P.useEffect(()=>()=>{ao&&clearInterval(ao)},[ao]),P.useEffect(()=>{(async()=>{if(i&&j)try{const{data:te}=await wn(i);te&&ye(te.name||te.coderName||i.substring(0,8))}catch(te){console.error("Failed to load opponent profile:",te)}})()},[i,j]),P.useEffect(()=>{s&&r&&j&&(async()=>{if(s&&r)try{const te=await Ub(r);if(te){if(ne(te),K("in_progress"),te.submissions&&te.submissions[(j==null?void 0:j.uid)||""]&&(Z(!0),K("completed")),te.status==="completed"&&te.winner){const Se=te.winner,Ze=Se===te.player1?te.player2:te.player1;se(Se),ae(Ze),xe(!0);try{const{data:et}=await wn(Se),{data:Kt}=await wn(Ze);et&&wr(et),Kt&&Ic(Kt)}catch(et){console.error("Failed to load winner/loser profiles:",et)}}const ft=setInterval(async()=>{try{const Se=await Ub(r);if(Se&&Se.submissions){const Ze=Se.player1===(j==null?void 0:j.uid)?Se.player2:Se.player1;if(Se.submissions[Ze]){const et=new Date(Se.submissions[Ze].submissionTime).toLocaleTimeString();if(q(`${re} submitted their solution at ${et}.`),Se.status==="completed"&&Se.winner){const Kt=Se.winner,Ki=Kt===Se.player1?Se.player2:Se.player1;se(Kt),ae(Ki),xe(!0),K("completed");try{const{data:ir}=await wn(Kt),{data:fo}=await wn(Ki);if(ir&&wr(ir),fo&&Ic(fo),!vt&&j&&!Se.pointsAwarded)try{const $e=await ON(Kt,Ki);$e.success?($e.alreadyProcessed?console.log("Points were already awarded for this match"):console.log("Match results updated successfully"),sn(!0)):(console.error("Match results update failed:",$e.error),A(`Failed to update match results: ${$e.error}`))}catch($e){console.error("Error updating match results:",$e),A(`Error updating match results: ${$e.message}`)}}catch(ir){console.error("Failed to load winner/loser profiles:",ir)}}}}}catch(Se){console.error("Error checking for match updates:",Se)}},5e3);Cc(ft)}}catch(te){console.error("Failed to load match details:",te),A("Failed to load match details. Please try again.")}})()},[s,r,j,re,vt]),P.useEffect(()=>{l&&g(Em(h,l))},[h,l]),P.useEffect(()=>{let W=null;return N?W=setInterval(()=>{S(te=>te+1)},1e3):W&&clearInterval(W),()=>{W&&clearInterval(W)}},[N]),P.useEffect(()=>{if(s&&F==="in_progress"){const W=setInterval(()=>{me(te=>te<=0?(clearInterval(W),co(),0):te-1)},1e3);return()=>clearInterval(W)}},[s,F]);const oo=W=>{g(W),y||(x(!0),_(!0))},$i=W=>{const te=Math.floor(W/3600),ft=Math.floor(W%3600/60),Se=W%60;return`${te.toString().padStart(2,"0")}:${ft.toString().padStart(2,"0")}:${Se.toString().padStart(2,"0")}`},af=W=>{const te=Math.floor(W/60),ft=W%60;return`${te}:${ft.toString().padStart(2,"0")}`},lo=W=>{f(W.target.value)},Hi=P.useCallback(()=>c&&c.testCases&&c.testCases.length>0?c.testCases:c&&c.examples&&c.examples.length>0?c.examples.map((W,te)=>{const ft=W.input.replace(/^.*=\s*/,"").replace(/\[|\]|\"|\'/g,"").trim(),Se=W.output.replace(/\[|\]|\"|\'/g,"").trim();return{input:ft,expectedOutput:Se,isHidden:!1}}):[],[c]),co=async()=>{if(F!=="completed")try{_(!1),E(!0),A(null),M([]),Z(!0);const W=Hi().slice(0,3);if(W.length===0){A("No test cases available for this problem.");return}const te=await xz(m,h,W);M(te);const ft=te.every(Ze=>Ze.status.id===Yt.ACCEPTED),Se=te.filter(Ze=>Ze.status.id===Yt.ACCEPTED).length;if(j){const Ze=Math.round((Date.now()-D)/1e3);if(s&&r){console.log("Submitting ranked match solution:",r);try{await Az(r,j.uid,m,h,Se,W.length)?K("completed"):A("Failed to submit your solution for the match. Please try again.")}catch(et){A(`Match submission error: ${et.message}`),console.error("Match submission error:",et)}}else if(ft){console.log("All tests passed! Updating problem status.");try{const et=await KB(j.uid,l,Ze);et.success||console.error("Failed to update problem status:",et.error)}catch(et){console.error("Error updating problem status:",et)}}}}catch(W){A(W.message||"An error occurred during submission"),console.error("Submission error:",W)}finally{E(!1)}},ht=()=>{s?window.confirm("Are you sure you want to leave the ranked match?")&&e("/ranked-match"):e("/code")},kt=()=>{e("/leaderboard")},Wi=()=>{navigator.clipboard.writeText(m).then(()=>{alert("Code copied to clipboard!")}).catch(W=>{console.error("Failed to copy: ",W)})},Pc=()=>{const W=document.createElement("a"),te=new Blob([m],{type:"text/plain"});W.href=URL.createObjectURL(te),W.download=`${(c==null?void 0:c.title.replace(/\s+/g,"_").toLowerCase())||"solution"}.${h}`,document.body.appendChild(W),W.click(),document.body.removeChild(W)},Rc=()=>{window.confirm("Are you sure you want to reset your code to the initial template?")&&g(Em(h,l))},of=()=>{e("/ranked-match")},Gs=W=>{switch(W){case"Easy":return"text-green-400 bg-green-400 bg-opacity-10 border-green-400";case"Medium":return"text-yellow-400 bg-yellow-400 bg-opacity-10 border-yellow-400";case"Hard":return"text-red-400 bg-red-400 bg-opacity-10 border-red-400";default:return"text-[var(--text)] bg-gray-500 bg-opacity-10 border-gray-500"}},Mc=[{id:"question",label:"Question",icon:o.jsx(nh,{size:16})},{id:"examples",label:"Examples",icon:o.jsx(Ib,{size:16})},{id:"constraints",label:"Constraints",icon:o.jsx(Ab,{size:16})}];if(!c)return o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl",children:"Problem not found"}),o.jsxs("button",{onClick:ht,className:"mt-4 flex items-center text-[var(--accent)] hover:underline",children:[o.jsx(pl,{size:16,className:"mr-1"}),"Back to problems"]})]})}),o.jsx(Mt,{})]})});if(_e&&ie&&Pe){const W=j&&ie===j.uid,te=W?qs:io,ft=W?io:qs;return o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center p-8",children:o.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"card max-w-4xl w-full mx-auto",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx(Ns,{className:"text-yellow-400 mx-auto mb-6",size:80}),o.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Match ",W?"Won!":"Completed"]}),o.jsx("p",{className:"text-lg text-[var(--text-secondary)]",children:W?"Congratulations! You won the ranked match.":`${re} won the match.`})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[o.jsxs("div",{className:`p-8 rounded-xl ${W?"bg-green-500 bg-opacity-20":"bg-[var(--primary)]"}`,children:[o.jsx("h3",{className:"font-bold text-xl mb-4",children:"Your Results"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Tests Passed:"}),o.jsxs("span",{className:"font-medium text-lg",children:[((uo=H==null?void 0:H.submissions[(j==null?void 0:j.uid)||""])==null?void 0:uo.testCasesPassed)||0,"/",((qi=H==null?void 0:H.submissions[(j==null?void 0:j.uid)||""])==null?void 0:qi.totalTestCases)||0]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Submission Time:"}),o.jsx("span",{className:"font-medium text-lg",children:H!=null&&H.submissions[(j==null?void 0:j.uid)||""]?$i(Math.floor((H.submissions[j.uid].submissionTime-H.startTime)/1e3)):"00:00:00"})]}),W&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Points Earned:"}),o.jsx("span",{className:"font-medium text-lg text-green-400",children:"+1 Rank Point"})]}),te&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Current Rank:"}),o.jsx("span",{className:"font-medium text-lg",children:((Dc=te.stats)==null?void 0:Dc.rank)||"Unranked"})]})]})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-8 rounded-xl",children:[o.jsxs("h3",{className:"font-bold text-xl mb-4",children:[re,"'s Results"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Tests Passed:"}),o.jsxs("span",{className:"font-medium text-lg",children:[((Lc=H==null?void 0:H.submissions[i])==null?void 0:Lc.testCasesPassed)||0,"/",((Gi=H==null?void 0:H.submissions[i])==null?void 0:Gi.totalTestCases)||0]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Submission Time:"}),o.jsx("span",{className:"font-medium text-lg",children:H!=null&&H.submissions[i]?$i(Math.floor((H.submissions[i].submissionTime-H.startTime)/1e3)):"00:00:00"})]}),!W&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Points Earned:"}),o.jsx("span",{className:"font-medium text-lg text-green-400",children:"+1 Rank Point"})]}),ft&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Current Rank:"}),o.jsx("span",{className:"font-medium text-lg",children:((ho=ft.stats)==null?void 0:ho.rank)||"Unranked"})]})]})]})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-6 rounded-xl mb-8",children:[o.jsx("h3",{className:"font-bold text-xl mb-4",children:"Match Summary"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Problem:"}),o.jsx("span",{className:"font-medium text-lg",children:c.title})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Difficulty:"}),o.jsx("span",{className:`font-medium text-lg ${c.difficulty==="Easy"?"text-green-400":c.difficulty==="Medium"?"text-yellow-400":"text-red-400"}`,children:c.difficulty})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Winner:"}),o.jsx("span",{className:"font-medium text-lg text-yellow-400",children:W?"You":re})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-base",children:"Reason:"}),o.jsx("span",{className:"font-medium text-lg",children:(()=>{var et,Kt;const Se=((et=H==null?void 0:H.submissions[(j==null?void 0:j.uid)||""])==null?void 0:et.testCasesPassed)||0,Ze=((Kt=H==null?void 0:H.submissions[i])==null?void 0:Kt.testCasesPassed)||0;return Se!==Ze?W?"More test cases passed":"Opponent passed more test cases":W?"Faster submission time":"Opponent had faster submission time"})()})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[o.jsxs("button",{onClick:kt,className:"btn-secondary flex-1 flex items-center justify-center py-3 text-lg",children:[o.jsx(Ns,{size:20,className:"mr-3"}),"View Leaderboard"]}),o.jsxs("button",{onClick:of,className:"btn-primary flex-1 flex items-center justify-center py-3 text-lg",children:[o.jsx(xn,{size:20,className:"mr-3"}),"Find New Match"]})]})]})})]})})}return o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-[var(--primary)] via-[var(--secondary)] to-[var(--primary)]",children:[o.jsx(yt,{}),o.jsxs("main",{className:"flex-grow flex flex-col md:flex-row",children:[o.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"w-full md:w-1/2 bg-[var(--secondary)] bg-opacity-60 backdrop-blur-md border-r border-white/10 overflow-hidden flex flex-col",children:[s&&o.jsx(O.div,{className:"bg-gradient-to-r from-[var(--accent)] via-[var(--accent-secondary)] to-[var(--accent)] bg-opacity-20 backdrop-blur-sm p-4 border-b border-white/10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-white bg-opacity-20 p-2 rounded-lg",children:o.jsx(xn,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-white text-sm",children:"Ranked Match"}),o.jsxs("p",{className:"text-white text-opacity-80 text-xs",children:["vs. ",re]})]})]}),o.jsxs("div",{className:"text-right bg-black bg-opacity-20 px-3 py-2 rounded-lg",children:[o.jsx("div",{className:`text-xl font-bold text-white ${ue<60?"animate-pulse":""}`,children:af(ue)}),o.jsx("p",{className:"text-white text-opacity-70 text-xs",children:"Time Left"})]})]})}),o.jsxs("div",{className:"p-6 border-b border-white/10",children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(O.button,{onClick:ht,className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(pl,{size:20,className:"text-[var(--text-secondary)]"})}),o.jsx("h1",{className:"text-2xl font-bold text-white",children:c.title})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${Gs(c.difficulty)}`,children:c.difficulty}),o.jsx("div",{className:"flex gap-2",children:c.tags.slice(0,3).map((W,te)=>o.jsx("span",{className:"bg-white bg-opacity-10 text-white text-xs px-2 py-1 rounded-lg backdrop-blur-sm",children:W},te))})]})]})}),o.jsx("div",{className:"flex bg-black bg-opacity-20 rounded-lg p-1 backdrop-blur-sm",children:Mc.map(W=>o.jsxs(O.button,{onClick:()=>b(W.id),className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 ${C===W.id?"bg-[var(--accent)] text-white shadow-lg":"text-white text-opacity-70 hover:text-white hover:bg-white hover:bg-opacity-10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[W.icon,o.jsx("span",{children:W.label})]},W.id))})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsx(vr,{mode:"wait",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"p-6",children:[C==="question"&&o.jsx("div",{className:"prose prose-invert max-w-none",children:o.jsxs("div",{className:"text-[var(--text)] leading-relaxed whitespace-pre-line rounded-lg bg-black bg-opacity-20 p-6 shadow-inner border border-white/5 font-sans text-base",children:[o.jsx("div",{className:"font-medium text-lg text-white/90 mb-4 font-serif tracking-wide",children:c.title}),o.jsx("div",{className:"space-y-4 font-light tracking-wide",children:c.description.split(`

`).map((W,te)=>o.jsx("p",{className:"leading-7 text-[1.05rem]",children:W},te))})]})}),C==="examples"&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Examples"}),c.examples&&c.examples.length>0?o.jsx("div",{className:"space-y-4",children:c.examples.map((W,te)=>o.jsxs(O.div,{className:"bg-black bg-opacity-30 backdrop-blur-sm rounded-lg p-4 border border-white/10",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:te*.1},children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("span",{className:"text-[var(--accent)] font-semibold",children:"Input:"}),o.jsx("div",{className:"bg-black bg-opacity-40 p-2 rounded mt-1 font-mono text-sm text-green-300",children:W.input})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("span",{className:"text-[var(--accent-secondary)] font-semibold",children:"Output:"}),o.jsx("div",{className:"bg-black bg-opacity-40 p-2 rounded mt-1 font-mono text-sm text-blue-300",children:W.output})]}),W.explanation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-yellow-400 font-semibold",children:"Explanation:"}),o.jsx("div",{className:"text-[var(--text-secondary)] mt-1 text-sm leading-relaxed",children:W.explanation})]})]},te))}):o.jsxs("div",{className:"text-center py-8 text-[var(--text-secondary)]",children:[o.jsx(Ib,{size:32,className:"mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No examples available for this problem."})]})]}),C==="constraints"&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Constraints"}),c.constraints&&c.constraints.length>0?o.jsx("div",{className:"bg-black bg-opacity-30 backdrop-blur-sm rounded-lg p-4 border border-white/10",children:o.jsx("ul",{className:"space-y-2",children:c.constraints.map((W,te)=>o.jsxs(O.li,{className:"flex items-start gap-3 text-[var(--text)] text-sm leading-relaxed",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:te*.1},children:[o.jsx("span",{className:"text-[var(--accent)] font-bold mt-0.5",children:"•"}),o.jsx("span",{children:W})]},te))})}):o.jsxs("div",{className:"text-center py-8 text-[var(--text-secondary)]",children:[o.jsx(Ab,{size:32,className:"mx-auto mb-2 opacity-50"}),o.jsx("p",{children:"No constraints specified for this problem."})]})]})]},C)}),B&&o.jsx(O.div,{className:"mx-6 mb-6 bg-blue-500 bg-opacity-20 backdrop-blur-sm text-blue-300 p-4 rounded-lg border border-blue-400 border-opacity-30",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:o.jsx("p",{className:"text-sm",children:B})}),X&&o.jsxs("div",{className:"mx-6 mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Submission Results"}),R&&o.jsxs(O.div,{className:"bg-red-500 bg-opacity-20 backdrop-blur-sm text-red-300 p-4 rounded-lg mb-4 flex items-center border border-red-400 border-opacity-30",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[o.jsx(FN,{size:20,className:"mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:R})]}),w?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Cb,{className:"animate-spin text-[var(--accent)] mr-3",size:24}),o.jsx("span",{className:"text-white",children:"Running tests..."})]}):o.jsx(o.Fragment,{children:k.length>0&&o.jsxs("div",{className:"space-y-4",children:[k.map((W,te)=>{var ft;return o.jsx("div",{children:o.jsx(wz,{result:W,testCaseIndex:te,isHidden:((ft=Hi()[te])==null?void 0:ft.isHidden)||!1})},te)}),o.jsx(O.div,{className:"bg-black bg-opacity-40 backdrop-blur-sm p-4 rounded-lg border border-white/10",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:o.jsx("div",{className:"flex items-center",children:k.every(W=>W.status.id===Yt.ACCEPTED)?o.jsxs(o.Fragment,{children:[o.jsx(Jl,{className:"text-green-400 mr-3 flex-shrink-0",size:24}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-green-400 text-lg mb-1",children:"All Tests Passed!"}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:["Your solution passed all ",k.length," test cases."]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Yn,{className:"text-red-400 mr-3 flex-shrink-0",size:24}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-red-400 text-lg mb-1",children:"Tests Failed"}),o.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:["Your solution passed ",k.filter(W=>W.status.id===Yt.ACCEPTED).length," out of ",k.length," test cases."]})]})]})})})]})})]})]})]}),o.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"w-full md:w-1/2 bg-[var(--primary)] bg-opacity-80 backdrop-blur-md flex flex-col",children:[o.jsx("div",{className:"bg-[var(--secondary)] bg-opacity-80 backdrop-blur-sm p-4 border-b border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("select",{value:h,onChange:lo,className:"bg-black bg-opacity-40 backdrop-blur-sm px-3 py-2 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-[var(--accent)] border border-white/20 min-w-[120px]",children:Cz.map(W=>o.jsx("option",{value:W.value,children:W.label},W.value))}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-[var(--text-secondary)]",children:[o.jsx(Nc,{size:16}),o.jsx("span",{children:"Time:"}),o.jsx("span",{className:"font-mono font-semibold text-[var(--accent)]",children:$i(T)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(O.button,{className:"p-2 rounded-lg hover:bg-white hover:bg-opacity-10 text-[var(--text-secondary)] hover:text-white transition-colors",onClick:Rc,title:"Reset code",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(N9,{size:18})}),o.jsx(O.button,{className:"p-2 rounded-lg hover:bg-white hover:bg-opacity-10 text-[var(--text-secondary)] hover:text-white transition-colors",onClick:Wi,title:"Copy code",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(r9,{size:18})}),o.jsx(O.button,{className:"p-2 rounded-lg hover:bg-white hover:bg-opacity-10 text-[var(--text-secondary)] hover:text-white transition-colors",onClick:Pc,title:"Download code",whileHover:{scale:1.05},whileTap:{scale:.95},children:o.jsx(s9,{size:18})})]})]})}),o.jsx("div",{className:"flex-grow overflow-hidden p-4",children:o.jsx("div",{className:"h-full bg-black bg-opacity-60 backdrop-blur-sm rounded-lg border border-white/10 overflow-hidden",children:o.jsx(pz,{value:m,onValueChange:oo,highlight:W=>Zu.highlight(W,Zu.languages[h]||Zu.languages.javascript,h||"javascript"),padding:20,style:{fontFamily:'"Fira Code", "Menlo", monospace',fontSize:14,lineHeight:1.6,backgroundColor:"transparent",minHeight:"100%",height:"auto",width:"100%",overflow:"auto"},className:"w-full h-full",textareaClassName:"w-full h-full overflow-y-auto resize-none outline-none"})})}),o.jsx("div",{className:"bg-[var(--secondary)] bg-opacity-80 backdrop-blur-sm p-4 border-t border-white/10",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(O.button,{onClick:()=>_(!N),className:"px-4 py-2 rounded-lg text-sm text-[var(--text-secondary)] hover:text-white hover:bg-white hover:bg-opacity-10 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:N?"Pause Timer":"Resume Timer"}),o.jsx(O.button,{onClick:co,disabled:w||F==="completed",className:`flex items-center bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)] hover:from-[var(--accent-secondary)] hover:to-[var(--accent)] text-white px-6 py-3 rounded-lg font-semibold transition-all duration-300 ${w||F==="completed"?"opacity-50 cursor-not-allowed":"hover:shadow-lg hover:scale-105"}`,whileHover:w||F==="completed"?{}:{scale:1.02},whileTap:w||F==="completed"?{}:{scale:.98},children:w?o.jsxs(o.Fragment,{children:[o.jsx(Cb,{size:18,className:"mr-2 animate-spin"}),"Submitting..."]}):F==="completed"?o.jsxs(o.Fragment,{children:[o.jsx(Jl,{size:18,className:"mr-2"}),"Submitted"]}):o.jsxs(o.Fragment,{children:[o.jsx(k9,{size:18,className:"mr-2"}),"Submit Solution"]})})]})})]})]})]})})},Rz=()=>{const t=new Date,n=(t.getFullYear()*1e4+(t.getMonth()+1)*100+t.getDate())%At.length;return At[n]||At[0]},Mz=[{name:"Alex Chen",time:"05:42",rank:1},{name:"Maria Rodriguez",time:"06:13",rank:2},{name:"Jordan Lee",time:"07:01",rank:3}],Dz=({isVisible:t})=>t?o.jsx("div",{className:"fixed inset-0 z-50 pointer-events-none",children:Array.from({length:30}).map((e,n)=>o.jsx(O.div,{className:"absolute w-2 h-2 rounded-full",initial:{top:"-10%",left:`${Math.random()*100}%`,backgroundColor:["#f45b69","#00d4ff","#FFD700","#FF69B4","#00FF00"][Math.floor(Math.random()*5)]},animate:{top:"110%",left:[`${Math.random()*100}%`,`${Math.random()*100}%`],rotate:Math.random()*360},transition:{duration:2+Math.random()*1.5,ease:"easeOut"}},n))}):null,Lz=()=>{Pn();const[t,e]=P.useState(Rz()),[n,r]=P.useState(!1),[s,i]=P.useState(!1),[a,l]=P.useState(0),[c,d]=P.useState({hours:0,minutes:0,seconds:0}),[h,f]=P.useState(!1),[m,g]=P.useState(0),[T,S]=P.useState([]),[N,_]=P.useState(0),[y,x]=P.useState(!1),[j,D]=P.useState(!1),[C,b]=P.useState(!1),w=P.useRef(null),E=R=>{switch(R){case"Easy":return"text-green-400";case"Medium":return"text-yellow-400";case"Hard":return"text-red-400";default:return"text-[var(--text)]"}};P.useEffect(()=>{const R=()=>{const X=new Date,Z=new Date(X);Z.setDate(Z.getDate()+1),Z.setHours(0,0,0,0);const ue=Z.getTime()-X.getTime(),me=Math.floor(ue/(1e3*60*60)),F=Math.floor(ue%(1e3*60*60)/(1e3*60)),K=Math.floor(ue%(1e3*60)/1e3);d({hours:me,minutes:F,seconds:K})};R();const A=setInterval(R,1e3);return()=>clearInterval(A)},[]),P.useEffect(()=>{const R=Array.from({length:10}).map(()=>({x:Math.random()*100,y:Math.random()*100,size:Math.random()*3+1,color:["#f45b69","#00d4ff","#FFD700"][Math.floor(Math.random()*3)],speed:Math.random()*1+.5}));S(R)},[]);const k=R=>{if(!n){if(g(A=>A+1),i(!0),setTimeout(()=>{i(!1)},300),_(A=>A+(Math.random()*5-2.5)),a<100){const A=Math.min(25,100-a);l(X=>X+A)}a>=50&&(x(!0),setTimeout(()=>x(!1),400)),a>=75&&setTimeout(()=>{r(!0),f(!0),setTimeout(()=>{f(!1),D(!0)},2e3)},300)}},M=()=>{b(!0),setTimeout(()=>{D(!1)},1e3)};return t?o.jsxs(dt,{children:[o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(rf,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Question of the Day"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsx("div",{className:"md:col-span-2 space-y-6",children:o.jsx(O.div,{className:"card relative overflow-hidden",whileHover:{scale:1.01},transition:{duration:.3},children:o.jsx(vr,{mode:"wait",children:n?j&&!C?o.jsxs(O.div,{className:"flex flex-col items-center justify-center py-12",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.5,type:"spring",stiffness:200,damping:20},children:[o.jsx(O.div,{className:"w-32 h-32 rounded-full bg-gradient-to-br from-yellow-400 to-amber-600 flex items-center justify-center mb-6",animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},children:o.jsx(o9,{size:64,className:"text-white"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Daily Reward Unlocked!"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6 text-center max-w-md",children:"You've opened today's challenge. Solve this problem to earn even more rewards!"}),o.jsxs("button",{className:"btn-primary flex items-center",onClick:M,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(sf,{size:18,className:"mr-2"}),"Collect Reward"]})]},"reward"):o.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(P9,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h2",{className:"text-2xl font-bold",children:t.title})]}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx("span",{className:`text-sm font-medium ${E(t.difficulty)}`,children:t.difficulty}),o.jsx("span",{className:"text-[var(--text-secondary)] mx-2",children:"•"}),o.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})}),o.jsxs("div",{className:"prose prose-invert max-w-none",children:[o.jsx("div",{className:"whitespace-pre-line",children:t.description}),t.examples.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Examples"}),o.jsx("div",{className:"space-y-4",children:t.examples.map((R,A)=>o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Input:"})," ",R.input]}),o.jsxs("div",{className:"mt-1",children:[o.jsx("span",{className:"font-medium",children:"Output:"})," ",R.output]}),R.explanation&&o.jsxs("div",{className:"mt-1",children:[o.jsx("span",{className:"font-medium",children:"Explanation:"})," ",R.explanation]})]},A))})]}),t.constraints.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Constraints"}),o.jsx("ul",{className:"list-disc pl-5 space-y-1",children:t.constraints.map((R,A)=>o.jsx("li",{children:R},A))})]})]}),o.jsx("div",{className:"mt-8",children:o.jsxs(Ce,{to:`/code/${t.id}`,className:"btn-primary flex items-center justify-center w-full py-3 group",children:["Take on the Challenge",o.jsx(ui,{size:18,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})})]},"question"):o.jsxs(O.div,{className:"flex flex-col items-center justify-center py-10",initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:[o.jsx(O.div,{className:"relative mb-8 cursor-pointer",onClick:k,ref:w,children:o.jsxs(O.div,{className:"w-48 h-48 bg-gradient-to-br from-[var(--accent)] to-[var(--accent-secondary)] rounded-xl shadow-xl flex items-center justify-center relative overflow-hidden",animate:{rotate:N,boxShadow:y?"0 0 20px rgba(244, 91, 105, 0.4)":"0 0 10px rgba(244, 91, 105, 0.2)"},transition:{duration:.3},children:[o.jsx(O.div,{animate:s?{x:[0,-5,5,-5,5,0],y:[0,-2,2,-2,2,0],transition:{duration:.3}}:{},children:o.jsx(_9,{size:80,className:"text-white"})}),T.slice(0,5).map((R,A)=>o.jsx(O.div,{className:"absolute rounded-full",animate:{x:[`${R.x}%`,`${R.x+(Math.random()*20-10)}%`],y:[`${R.y}%`,`${R.y+(Math.random()*20-10)}%`],opacity:[.5,0]},transition:{duration:R.speed*2,ease:"linear",repeat:1/0,repeatType:"reverse"},style:{width:R.size,height:R.size,backgroundColor:R.color}},A)),a>0&&o.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 bg-white/10 backdrop-blur-sm",style:{opacity:a/200}})]})}),o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Today's Coding Challenge"}),o.jsx("div",{className:"w-full max-w-md bg-[var(--primary)] h-4 rounded-full overflow-hidden",children:o.jsx(O.div,{className:"h-full bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.3}})}),o.jsx("p",{className:"mt-4 text-[var(--text-secondary)]",children:a===0?"Click the box to reveal today's challenge!":a<50?"Keep clicking to open the box!":a<100?"Almost there!":"Revealing challenge..."})]},"unopened-box")})})}),o.jsxs("div",{className:"md:col-span-1 space-y-6",children:[o.jsxs(O.div,{className:"card",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5},whileHover:{scale:1.02},children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Nc,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold",children:"Time Remaining"})]}),o.jsxs("div",{className:"bg-[var(--primary)] rounded-lg p-4 text-center",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-[var(--accent)]",children:c.hours.toString().padStart(2,"0")}),o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:"Hours"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-[var(--accent)]",children:c.minutes.toString().padStart(2,"0")}),o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:"Minutes"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-[var(--accent)]",children:c.seconds.toString().padStart(2,"0")}),o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:"Seconds"})]})]}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:"Until the next question of the day"})]})]}),o.jsxs(O.div,{className:"card",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Fv,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold",children:"Yesterday's Winners"})]}),o.jsx("div",{className:"space-y-3",children:Mz.map((R,A)=>o.jsxs("div",{className:"flex items-center p-3 bg-[var(--primary)] rounded-lg",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-3 ${A===0?"bg-yellow-500 bg-opacity-20 text-yellow-500":A===1?"bg-gray-400 bg-opacity-20 text-gray-400":A===2?"bg-amber-700 bg-opacity-20 text-amber-700":"bg-gray-700"}`,children:A+1}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("div",{className:"font-medium",children:R.name}),o.jsxs("div",{className:"text-xs text-[var(--text-secondary)]",children:["Solved in ",R.time]})]})]},A))})]}),o.jsxs(O.div,{className:"card text-center",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},whileHover:{scale:1.02},children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Your QotD Streak"}),o.jsx("div",{className:"text-5xl font-bold text-[var(--accent)] mb-2",children:"0"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Solve today's question to start your streak!"}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Next Reward:"}),o.jsxs("span",{className:"flex items-center text-yellow-400",children:[o.jsx(qN,{size:16,className:"mr-1"}),"+50 XP"]})]}),o.jsx("div",{className:"w-full bg-[var(--primary)] h-2 rounded-full mt-2 overflow-hidden",children:o.jsx("div",{className:"h-full bg-yellow-400 w-[10%]"})}),o.jsx("p",{className:"mt-2 text-xs text-[var(--text-secondary)]",children:"3 days streak: unlock special badge"})]})]})]})]})]})})}),o.jsx(Mt,{})]}),o.jsx(Dz,{isVisible:h}),o.jsx(vr,{children:n&&C&&o.jsx(O.div,{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-75 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:o.jsxs(O.div,{className:"bg-gradient-to-br from-[var(--secondary)] to-[#1a1a3e] rounded-xl p-6 max-w-sm w-full text-center relative overflow-hidden",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3,type:"spring",stiffness:300,damping:25},children:[o.jsx("button",{onClick:()=>b(!1),className:"absolute top-4 right-4 text-[var(--text-secondary)] hover:text-white z-10",children:o.jsx(Yn,{size:20})}),o.jsx("div",{className:"mb-4 relative z-10",children:o.jsx(Xu,{size:64,className:"mx-auto text-green-500"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2 relative z-10",children:"Reward Collected!"}),o.jsxs("p",{className:"text-[var(--text-secondary)] mb-6 relative z-10",children:["You've opened today's challenge.",o.jsx("br",{}),"Solve the problem to earn even more rewards!"]}),o.jsx("div",{className:"relative z-10",children:o.jsxs(Ce,{to:`/code/${t.id}`,className:"btn-primary w-full flex items-center justify-center group",children:[o.jsx(BN,{size:18,className:"mr-2 group-hover:translate-x-1 transition-transform"}),"Start Coding Now"]})})]})})})]}):o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl",children:"No question available for today"}),o.jsxs(Ce,{to:"/code",className:"mt-4 flex items-center text-[var(--accent)] hover:underline justify-center",children:[o.jsx("span",{children:"Browse all problems"}),o.jsx(ui,{size:16,className:"ml-1"})]})]})}),o.jsx(Mt,{})]})})},Oz=({match:t,currentUserId:e})=>{const[n,r]=P.useState("Opponent"),[s,i]=P.useState(!0),a=t.winner===e,l=h=>{const f=new Date(h);return f.toLocaleDateString()+" "+f.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};P.useEffect(()=>{(async()=>{try{const f=t.player1===e?t.player2:t.player1,{data:m}=await wn(f);m&&r(m.name||m.coderName||f.substring(0,8))}catch(f){console.error("Failed to load opponent details:",f)}finally{i(!1)}})()},[t,e]);const d=(()=>{const h=t.submissions[e],f=t.player1===e?t.player2:t.player1,m=t.submissions[f];return!h||!m?{userTestsPassed:0,userTotal:0,opponentTestsPassed:0,opponentTotal:0}:{userTestsPassed:h.testCasesPassed,userTotal:h.totalTestCases,opponentTestsPassed:m.testCasesPassed,opponentTotal:m.totalTestCases}})();return o.jsx("div",{className:`p-4 rounded-lg ${a?"bg-green-500 bg-opacity-10 border border-green-500":"bg-[var(--primary)]"}`,children:s?o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-[var(--accent)] rounded-full border-t-transparent"})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(xn,{size:16,className:"text-[var(--accent)] mr-2"}),o.jsxs("span",{className:"text-sm font-medium",children:["Match vs. ",n]})]}),o.jsxs("div",{className:"flex items-center",children:[a?o.jsx(Jl,{size:16,className:"text-green-400 mr-1"}):o.jsx(Yn,{size:16,className:"text-red-400 mr-1"}),o.jsx("span",{className:`text-xs ${a?"text-green-400":"text-red-400"}`,children:a?"Victory":"Defeat"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Your Score:"}),o.jsxs("span",{className:"ml-1 font-medium",children:[d.userTestsPassed,"/",d.userTotal]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Opponent:"}),o.jsxs("span",{className:"ml-1 font-medium",children:[d.opponentTestsPassed,"/",d.opponentTotal]})]})]}),o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:l(t.startTime)}),a&&o.jsx("div",{className:"mt-1 text-xs text-green-400",children:"+1 Rank Point"})]})})},Vz=()=>{const{currentUser:t}=Pn(),e=Di(),[n,r]=P.useState(!1),[s,i]=P.useState("idle"),[a,l]=P.useState(0),[c,d]=P.useState(null),[h,f]=P.useState(null),[m,g]=P.useState([]),[T,S]=P.useState(!0),[N,_]=P.useState(null),[y,x]=P.useState("boy1"),[j,D]=P.useState(null),[C,b]=P.useState(null),[w,E]=P.useState(null),[k,M]=P.useState(null),[R,A]=P.useState(!1),[X,Z]=P.useState(!1),[ue,me]=P.useState("Searching for opponent");P.useEffect(()=>()=>{w&&(console.log("Cleaning up match listener on unmount"),w())},[w]),P.useEffect(()=>{t&&wn(t.uid).then(({data:ae})=>{ae&&(_(ae.stats),x(ae.selectedAvatar||"boy1"))})},[t]),P.useEffect(()=>{t&&(S(!0),Iz(t.uid).then(ae=>{g(ae),S(!1)}))},[t]),P.useEffect(()=>{let ae=null;if(s==="searching"){ae=setInterval(()=>{l(xe=>xe+1)},1e3);const _e=setInterval(()=>{me(xe=>{const vt=["Searching for opponent","Searching for opponent.","Searching for opponent..","Searching for opponent..."],sn=vt.indexOf(xe);return vt[(sn+1)%vt.length]})},500);return()=>{ae&&clearInterval(ae),clearInterval(_e)}}else ae&&clearInterval(ae);return()=>{ae&&clearInterval(ae)}},[s]),P.useEffect(()=>{(async()=>{if(j&&s==="battle-card")try{const{data:_e}=await wn(j);_e&&(b(_e),setTimeout(()=>{A(!0)},500))}catch(_e){console.error("Failed to load opponent profile:",_e),A(!0)}})()},[j,s]);const F=ae=>{console.log("Match found!",ae),i("found"),d(ae.id),M(ae.problemId);const _e=ae.player1===(t==null?void 0:t.uid)?ae.player2:ae.player1;D(_e),setTimeout(()=>{i("battle-card")},1e3)},K=()=>{!c||!k||!j||e(`/code/${k}`,{state:{matchId:c,isRankedMatch:!0,opponent:j}})},H=async()=>{if(!t){f("You must be logged in to join ranked matches");return}try{r(!0),f(null),w&&(w(),E(null));const ae=await Nz(t.uid);if(ae==="waiting"){i("searching");const _e=Fb(t.uid,F,xe=>{console.log("Match updated:",xe)});E(()=>_e)}else{const _e=await fetch(`/api/matches/${ae}`).then(xe=>xe.json()).catch(()=>null);if(_e)F(_e);else{i("searching");const xe=Fb(t.uid,F,vt=>{console.log("Match updated:",vt)});E(()=>xe)}}}catch(ae){console.error("Error joining matchmaking:",ae),f(ae.message||"Failed to join matchmaking"),i("idle")}finally{r(!1)}},ne=async()=>{if(t)try{await jz(t.uid),i("idle"),l(0),w&&(w(),E(null))}catch(ae){console.error("Error canceling matchmaking:",ae),f(ae.message||"Failed to cancel matchmaking")}},re=ae=>{const _e=Math.floor(ae/60),xe=ae%60;return`${_e}:${xe.toString().padStart(2,"0")}`},ye=ae=>{switch(ae){case"Diamond":return{icon:"💎",color:"text-blue-400 bg-blue-400 bg-opacity-20"};case"Platinum":return{icon:"🔷",color:"text-cyan-300 bg-cyan-300 bg-opacity-20"};case"Gold":return{icon:"🥇",color:"text-yellow-400 bg-yellow-400 bg-opacity-20"};case"Silver":return{icon:"🥈",color:"text-gray-300 bg-gray-300 bg-opacity-20"};case"Bronze":return{icon:"🥉",color:"text-amber-700 bg-amber-700 bg-opacity-20"};default:return{icon:"🎯",color:"text-blue-400 bg-blue-400 bg-opacity-20"}}},B={initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,scale:.8,transition:{duration:.3}}},q={initial:ae=>({opacity:0,x:ae==="left"?-100:100}),animate:{opacity:1,x:0,transition:{duration:.6,type:"spring",stiffness:100}}},ie={initial:{opacity:0,scale:2,rotate:-10},animate:{opacity:1,scale:1,rotate:0,transition:{delay:.6,duration:.5,type:"spring",stiffness:200}},pulse:{scale:[1,1.1,1],textShadow:["0 0 10px rgba(244, 91, 105, 0.7)","0 0 20px rgba(244, 91, 105, 0.9)","0 0 10px rgba(244, 91, 105, 0.7)"],transition:{repeat:1/0,duration:2}}},se={initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1,transition:{delay:.8,duration:.3,ease:"easeInOut"}}},Pe=()=>{var ae,_e,xe,vt,sn;return s!=="battle-card"?null:o.jsx(O.div,{className:"fixed inset-0 z-50 bg-black bg-opacity-80 backdrop-blur-md flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:R&&o.jsxs(O.div,{className:"w-full max-w-4xl bg-gradient-to-b from-[var(--primary)] to-[var(--secondary)] rounded-2xl border border-white/20 shadow-2xl overflow-hidden",variants:B,initial:"initial",animate:"animate",exit:"exit",onAnimationComplete:()=>{Z(!0)},children:[o.jsx("div",{className:"bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)] py-4 px-6 border-b border-white/20",children:o.jsxs("h2",{className:"text-white text-2xl font-bold text-center flex items-center justify-center gap-3",children:[o.jsx(xn,{size:24}),"Ranked Match",o.jsx(xn,{size:24})]})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[o.jsx(O.div,{className:"bg-[var(--primary)] bg-opacity-80 backdrop-blur-md rounded-xl p-6 border border-white/10 flex-1 max-w-[45%]",custom:"left",variants:q,initial:"initial",animate:"animate",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx(js,{type:y,size:100,interval:6e3})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:(N==null?void 0:N.name)||"You"}),(N==null?void 0:N.rank)&&o.jsxs("div",{className:`mt-1 px-3 py-1 rounded-full text-sm font-medium ${ye(N.rank).color}`,children:[N.rank," ",o.jsx("span",{children:ye(N.rank).icon})]}),o.jsxs("div",{className:"mt-4 w-full space-y-2",children:[o.jsxs("div",{className:"bg-black bg-opacity-40 rounded-lg p-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Rank Points"}),o.jsx("span",{className:"font-bold text-[var(--accent)]",children:(N==null?void 0:N.totalRankPoints)||0})]}),o.jsxs("div",{className:"bg-black bg-opacity-40 rounded-lg p-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Win Rate"}),o.jsxs("span",{className:"font-bold text-white",children:[(N==null?void 0:N.rankMatches)>0?Math.round((N==null?void 0:N.rankWins)/(N==null?void 0:N.rankMatches)*100):0,"%"]})]})]})]})}),o.jsxs("div",{className:"relative flex-shrink-0 z-10",children:[o.jsxs(O.svg,{width:"100",height:"50",viewBox:"0 0 100 50",fill:"none",className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-full",children:[o.jsx(O.path,{d:"M50,0 L60,20 L40,25 L55,45 L35,50",stroke:"url(#lightning-gradient)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:se,initial:"initial",animate:X?"animate":"initial"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"lightning-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#f45b69"}),o.jsx("stop",{offset:"100%",stopColor:"#00d4ff"})]})})]}),o.jsx(O.svg,{width:"100",height:"50",viewBox:"0 0 100 50",fill:"none",className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full rotate-180",children:o.jsx(O.path,{d:"M50,0 L60,20 L40,25 L55,45 L35,50",stroke:"url(#lightning-gradient)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",variants:se,initial:"initial",animate:X?"animate":"initial"})}),o.jsx(O.div,{className:"text-7xl font-extrabold relative z-10 bg-clip-text text-transparent bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",variants:ie,initial:"initial",animate:"animate",style:{WebkitBackgroundClip:"text",filter:"drop-shadow(0 0 15px rgba(244, 91, 105, 0.5))"},children:"VS"}),o.jsx(O.div,{className:"absolute inset-0 rounded-full bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)] opacity-30 blur-md z-0",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{repeat:1/0,duration:2}})]}),o.jsx(O.div,{className:"bg-[var(--primary)] bg-opacity-80 backdrop-blur-md rounded-xl p-6 border border-white/10 flex-1 max-w-[45%]",custom:"right",variants:q,initial:"initial",animate:"animate",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx(js,{type:(C==null?void 0:C.selectedAvatar)||"boy2",size:100,interval:8e3})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:(C==null?void 0:C.name)||(C==null?void 0:C.coderName)||"Opponent"}),((ae=C==null?void 0:C.stats)==null?void 0:ae.rank)&&o.jsxs("div",{className:`mt-1 px-3 py-1 rounded-full text-sm font-medium ${ye(C.stats.rank).color}`,children:[C.stats.rank," ",o.jsx("span",{children:ye(C.stats.rank).icon})]}),o.jsxs("div",{className:"mt-4 w-full space-y-2",children:[o.jsxs("div",{className:"bg-black bg-opacity-40 rounded-lg p-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Rank Points"}),o.jsx("span",{className:"font-bold text-[var(--accent)]",children:((_e=C==null?void 0:C.stats)==null?void 0:_e.totalRankPoints)||0})]}),o.jsxs("div",{className:"bg-black bg-opacity-40 rounded-lg p-3 flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-300",children:"Win Rate"}),o.jsxs("span",{className:"font-bold text-white",children:[((xe=C==null?void 0:C.stats)==null?void 0:xe.rankMatches)>0?Math.round(((vt=C==null?void 0:C.stats)==null?void 0:vt.rankWins)/((sn=C==null?void 0:C.stats)==null?void 0:sn.rankMatches)*100):0,"%"]})]})]})]})})]}),o.jsxs("div",{className:"mt-8 bg-black bg-opacity-30 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[o.jsx(Ns,{className:"text-yellow-400",size:20}),"Battle Information"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-black bg-opacity-40 p-3 rounded-lg flex items-center gap-3",children:[o.jsx(C9,{className:"text-[var(--accent)]",size:18}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-300",children:"Mode"}),o.jsx("div",{className:"text-white font-medium",children:"Ranked Match"})]})]}),o.jsxs("div",{className:"bg-black bg-opacity-40 p-3 rounded-lg flex items-center gap-3",children:[o.jsx(Nc,{className:"text-[var(--accent)]",size:18}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-300",children:"Time Limit"}),o.jsx("div",{className:"text-white font-medium",children:"10 minutes"})]})]}),o.jsxs("div",{className:"bg-black bg-opacity-40 p-3 rounded-lg flex items-center gap-3",children:[o.jsx(qN,{className:"text-yellow-400",size:18}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-300",children:"Reward"}),o.jsx("div",{className:"text-white font-medium",children:"+1 Rank Point"})]})]})]})]}),o.jsx("div",{className:"mt-6 flex justify-center",children:o.jsxs(O.button,{onClick:K,className:"btn-primary py-3 px-12 text-lg font-bold flex items-center justify-center",whileHover:{scale:1.05},whileTap:{scale:.95},animate:{boxShadow:X?["0 0 10px rgba(244, 91, 105, 0.5)","0 0 20px rgba(244, 91, 105, 0.7)","0 0 10px rgba(244, 91, 105, 0.5)"]:"0 0 10px rgba(244, 91, 105, 0.5)",transition:{repeat:1/0,duration:2}},children:[o.jsx(xn,{size:20,className:"mr-3"}),"Start Battle"]})})]}),o.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(20)].map((qs,wr)=>o.jsx(O.div,{className:"absolute rounded-full",initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",opacity:0,scale:0},animate:X?{opacity:[0,.8,0],scale:[0,1,0]}:{},transition:{delay:Math.random()*2,repeat:1/0,duration:2+Math.random()*2},style:{width:Math.random()*6+2,height:Math.random()*6+2,background:wr%2===0?"linear-gradient(to right, #f45b69, #ff7b8a)":"linear-gradient(to right, #00d4ff, #19e6ff)"}},wr))})]})})};return t?o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(xn,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Ranked Matches"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsxs("div",{className:"lg:col-span-9 space-y-8",children:[o.jsx(O.div,{className:"card overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:s==="idle"?o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Challenge another coder"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"Compete in a 1v1 coding challenge against another player. Solve problems faster and more accurately to win the match and increase your rank."}),o.jsx("div",{className:"bg-[var(--primary)] p-6 rounded-lg mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:[o.jsxs("div",{className:"mb-4 sm:mb-0",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[o.jsx(Ns,{className:"text-[var(--accent)] mr-2",size:20}),"Ranked Match Rules"]}),o.jsxs("ul",{className:"mt-3 text-sm text-[var(--text-secondary)] space-y-2 list-disc pl-5",children:[o.jsx("li",{children:"Both players receive the same problem to solve"}),o.jsx("li",{children:"The winner is determined by test cases passed and submission time"}),o.jsx("li",{children:"Win to earn rank points and climb the leaderboard"}),o.jsx("li",{children:"You have 10 minutes to solve the problem"})]})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-2",children:"Win Reward"}),o.jsxs("div",{className:"flex items-center gap-2 bg-[var(--secondary)] px-3 py-1 rounded-lg",children:[o.jsx(Ns,{className:"text-yellow-400",size:16}),o.jsx("span",{className:"text-yellow-400 font-medium",children:"+1 Rank Point"})]})]})]})}),h&&o.jsxs("div",{className:"bg-red-500 bg-opacity-20 text-red-400 p-4 rounded-lg mb-6 flex items-center",children:[o.jsx(FN,{size:20,className:"mr-2"}),o.jsx("span",{children:h})]}),o.jsx(O.button,{className:"btn-primary w-full py-4 text-lg font-bold flex items-center justify-center",onClick:H,disabled:n,whileHover:{scale:1.02},whileTap:{scale:.98},children:n?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-5 w-5 border-2 border-t-transparent rounded-full mr-3 animate-spin"}),"Joining Queue..."]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{size:20,className:"mr-2"}),"Find Match Now"]})})]}):s==="searching"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("h2",{className:"text-2xl font-bold",children:ue}),o.jsx("div",{className:"text-xl font-bold text-[var(--accent)]",children:re(a)})]}),o.jsx("div",{className:"relative h-40 my-8 bg-[var(--primary)] rounded-lg overflow-hidden",children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx(js,{type:y,size:80,interval:5e3}),o.jsx("div",{className:"absolute w-36 h-36 rounded-full border-2 border-dashed border-[var(--accent)] animate-spin",style:{animationDuration:"16s"}})]})})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("p",{className:"text-[var(--text-secondary)] mb-4",children:"We're finding the best match for your skill level. This might take a moment..."}),o.jsx("div",{className:"h-2 bg-[var(--primary)] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-[var(--accent)] animate-pulse w-full"})})]}),o.jsxs(O.button,{className:"btn-secondary w-full py-4 text-lg font-bold flex items-center justify-center",onClick:ne,whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx(V9,{size:20,className:"mr-2"}),"Cancel Search"]})]}):s==="found"?o.jsx(o.Fragment,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"mb-6",children:o.jsx(xn,{size:60,className:"mx-auto text-[var(--accent)]"})}),o.jsx("h2",{className:"text-3xl font-bold mb-3",children:"Match Found!"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-8",children:"Preparing your coding challenge..."}),o.jsx("div",{className:"h-2 bg-[var(--primary)] rounded-full overflow-hidden max-w-md mx-auto",children:o.jsx("div",{className:"h-full bg-[var(--accent)] animate-pulse w-full"})})]})}):null}),o.jsxs(O.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Recent Matches"}),o.jsx("button",{className:"text-sm text-[var(--accent)] hover:text-[var(--accent-hover)]",children:"View All"})]}),T?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"w-10 h-10 border-2 border-[var(--accent)] border-t-transparent rounded-full animate-spin"})}):m.length>0?o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:m.map(ae=>o.jsx(Oz,{match:ae,currentUserId:(t==null?void 0:t.uid)||""},ae.id))}):o.jsxs("div",{className:"bg-[var(--primary)] p-6 rounded-lg text-center",children:[o.jsx("p",{className:"text-[var(--text-secondary)]",children:"No recent matches"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-2",children:"Complete your first ranked match to see your history."})]})]})]}),o.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[o.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:o.jsx(GN,{})}),o.jsxs(O.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Your Stats"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Matches"}),o.jsx("span",{className:"font-medium",children:(N==null?void 0:N.rankMatches)||0})]})}),o.jsx("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Wins"}),o.jsx("span",{className:"font-medium",children:(N==null?void 0:N.rankWins)||0})]})}),o.jsx("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Win Rate"}),o.jsxs("span",{className:"font-medium",children:[(N==null?void 0:N.rankMatches)>0?Math.round(N.rankWins/N.rankMatches*100):0,"%"]})]})}),o.jsx("div",{className:"bg-[var(--primary)] p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:"Rank Points"}),o.jsx("span",{className:"font-medium text-[var(--accent)]",children:(N==null?void 0:N.totalRankPoints)||0})]})})]})]}),o.jsxs(O.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Tips"}),o.jsxs("div",{className:"space-y-3 text-sm text-[var(--text-secondary)]",children:[o.jsx("p",{children:"⚡️ Speed matters! Ties are broken by submission time."}),o.jsx("p",{children:"🎯 Make sure your solution passes all test cases."}),o.jsx("p",{children:"💪 Consistent wins will help you climb ranks faster."}),o.jsx("p",{children:"🏆 Reach Diamond rank to join exclusive tournaments."})]})]})]})]})]})})}),o.jsx(Mt,{}),o.jsx(vr,{children:Pe()})]})}):o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"card text-center p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Sign in to play ranked matches"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"You need to be logged in to participate in ranked matches and earn rank points."}),o.jsx("a",{href:"/login",className:"btn-primary",children:"Sign in"})]})})}),o.jsx(Mt,{})]})})},Fz={id:"arrays",title:"Arrays",icon:"Code",description:"Learn about arrays, sorting, searching, and manipulation techniques.",difficulty:"Beginner",estimatedTime:"3 hours",problems:24,introduction:"Arrays are one of the most fundamental data structures in computer science. They store elements of the same type in contiguous memory locations, allowing for constant-time access to any element using its index. This topic covers array manipulation, searching, sorting, and common array-based algorithms.",sections:[{title:"Introduction to Arrays",content:`Arrays provide a way to store multiple values of the same type under a single variable name. They are indexed, meaning each element can be accessed directly using its position number. Arrays are fixed in size in many languages, though dynamic arrays (like ArrayList in Java or vector in C++) can grow as needed.

Key characteristics of arrays include:

- Constant-time access (O(1))
- Elements stored in contiguous memory
- Fixed size in many languages
- Efficient iteration
- Can be single or multi-dimensional`,examples:[{language:"JavaScript",code:`// Declaring and initializing an array
const numbers = [1, 2, 3, 4, 5];

// Accessing elements
const firstElement = numbers[0]; // 1
const thirdElement = numbers[2]; // 3

// Modifying elements
numbers[4] = 10; // [1, 2, 3, 4, 10]

// Array length
const length = numbers.length; // 5`}]},{title:"Array Operations",content:`Common operations on arrays include insertion, deletion, searching, and traversal. The time complexity of these operations varies depending on the specific requirements.

- Accessing: O(1)
- Insertion at the end (amortized): O(1)
- Insertion at a specific position: O(n)
- Deletion at the end: O(1)
- Deletion at a specific position: O(n)
- Searching (unsorted array): O(n)
- Searching (sorted array): O(log n) using binary search`,examples:[{language:"JavaScript",code:`// Insertion at the end
numbers.push(6); // [1, 2, 3, 4, 10, 6]

// Insertion at a specific position
numbers.splice(2, 0, 7); // [1, 2, 7, 3, 4, 10, 6]

// Deletion at the end
numbers.pop(); // [1, 2, 7, 3, 4, 10]

// Deletion at a specific position
numbers.splice(3, 1); // [1, 2, 7, 4, 10]

// Searching
const index = numbers.indexOf(7); // 2`}]},{title:"Array Traversal",content:`Traversing an array means visiting each element exactly once. There are several ways to traverse an array:

1. Using a for loop with an index
2. Using a for-of loop (in languages that support it)
3. Using forEach or map methods (in languages with functional programming features)
4. Using iterators`,examples:[{language:"JavaScript",code:`// Using a for loop
for (let i = 0; i < numbers.length; i++) {
  console.log(numbers[i]);
}

// Using for-of loop
for (const num of numbers) {
  console.log(num);
}

// Using forEach
numbers.forEach(num => {
  console.log(num);
});

// Using map to transform each element
const doubled = numbers.map(num => num * 2);`}]},{title:"Common Array Problems",content:`Arrays are used in many classic algorithms and interview problems. Some common array-based problems include:

1. Finding the maximum/minimum element
2. Finding the second largest element
3. Checking if an array is sorted
4. Removing duplicates
5. Finding pairs with a given sum (Two Sum problem)
6. Rotating an array
7. Finding the majority element
8. Kadane's algorithm for maximum subarray sum`,examples:[{language:"JavaScript",code:`// Finding the maximum element
function findMax(arr) {
  let max = arr[0];
  for (let i = 1; i < arr.length; i++) {
    if (arr[i] > max) {
      max = arr[i];
    }
  }
  return max;
}

// Two Sum problem
function twoSum(nums, target) {
  const map = new Map();
  for (let i = 0; i < nums.length; i++) {
    const complement = target - nums[i];
    if (map.has(complement)) {
      return [map.get(complement), i];
    }
    map.set(nums[i], i);
  }
  return [];
}`}]}],practiceProblems:[{id:1,title:"Two Sum",difficulty:"Easy"},{id:11,title:"Maximum Subarray",difficulty:"Easy"},{id:20,title:"Best Time to Buy and Sell Stock",difficulty:"Easy"},{id:13,title:"3Sum",difficulty:"Medium"},{id:6,title:"Container With Most Water",difficulty:"Medium"},{id:21,title:"Rotate Image",difficulty:"Medium"},{id:24,title:"Find First and Last Position of Element in Sorted Array",difficulty:"Medium"},{id:8,title:"Trapping Rain Water",difficulty:"Hard"}]},Uz={id:"binary-trees",title:"Binary Trees",icon:"Layers",description:"Tree traversals, balancing, and common tree operations.",difficulty:"Intermediate",estimatedTime:"6 hours",problems:16,introduction:"Binary trees are hierarchical data structures where each node has at most two children, referred to as the left child and right child. They are used in various applications, including search algorithms, expression parsing, and hierarchical data representation.",sections:[{title:"Binary Tree Fundamentals",content:`A binary tree is composed of nodes, where each node contains a value and references to its left and right children. The topmost node is called the root. Nodes without children are called leaves.

Important terms in binary trees:

- Root: The topmost node
- Parent/Child: Relationship between connected nodes
- Leaf: Node with no children
- Height: Maximum distance from root to any leaf
- Depth: Distance from a node to the root
- Balanced tree: Heights of left and right subtrees differ by at most one`,examples:[{language:"JavaScript",code:`// Binary Tree Node definition
class TreeNode {
  constructor(val) {
    this.val = val;
    this.left = null;
    this.right = null;
  }
}

// Creating a simple binary tree
const root = new TreeNode(1);
root.left = new TreeNode(2);
root.right = new TreeNode(3);
root.left.left = new TreeNode(4);
root.left.right = new TreeNode(5);`}]},{title:"Tree Traversals",content:`Tree traversals are algorithms to visit all nodes in a tree. There are several traversal methods:

1. Depth-First Traversals:
   - Pre-order: Visit root, then left subtree, then right subtree (Root-Left-Right)
   - In-order: Visit left subtree, then root, then right subtree (Left-Root-Right)
   - Post-order: Visit left subtree, then right subtree, then root (Left-Right-Root)

2. Breadth-First Traversal (Level Order):
   - Visit all nodes at the same level before moving to the next level`,examples:[{language:"JavaScript",code:`// Pre-order traversal (Root-Left-Right)
function preorderTraversal(root) {
  if (!root) return [];
  const result = [];
  
  function dfs(node) {
    if (!node) return;
    
    // Root
    result.push(node.val);
    
    // Left
    dfs(node.left);
    
    // Right
    dfs(node.right);
  }
  
  dfs(root);
  return result;
}

// In-order traversal (Left-Root-Right)
function inorderTraversal(root) {
  if (!root) return [];
  const result = [];
  
  function dfs(node) {
    if (!node) return;
    
    // Left
    dfs(node.left);
    
    // Root
    result.push(node.val);
    
    // Right
    dfs(node.right);
  }
  
  dfs(root);
  return result;
}

// Level order traversal (BFS)
function levelOrderTraversal(root) {
  if (!root) return [];
  
  const result = [];
  const queue = [root];
  
  while (queue.length > 0) {
    const level = [];
    const levelSize = queue.length;
    
    for (let i = 0; i < levelSize; i++) {
      const node = queue.shift();
      level.push(node.val);
      
      if (node.left) queue.push(node.left);
      if (node.right) queue.push(node.right);
    }
    
    result.push(level);
  }
  
  return result;
}`}]},{title:"Binary Search Trees (BST)",content:`A Binary Search Tree is a special type of binary tree where:

- The left subtree of a node contains only nodes with keys less than the node's key
- The right subtree of a node contains only nodes with keys greater than the node's key
- Both the left and right subtrees must also be binary search trees

BSTs provide efficient operations for search, insertion, and deletion with an average time complexity of O(log n) when the tree is balanced.`,examples:[{language:"JavaScript",code:`// BST Node definition (same as regular TreeNode)
class TreeNode {
  constructor(val) {
    this.val = val;
    this.left = null;
    this.right = null;
  }
}

// BST Search operation
function search(root, key) {
  // Base cases: root is null or key is present at root
  if (root === null || root.val === key)
    return root;
    
  // Key is greater than root's key
  if (root.val < key)
    return search(root.right, key);
    
  // Key is smaller than root's key
  return search(root.left, key);
}

// BST Insert operation
function insert(root, key) {
  // If the tree is empty, return a new node
  if (root === null) {
    return new TreeNode(key);
  }
  
  // Otherwise, recur down the tree
  if (key < root.val)
    root.left = insert(root.left, key);
  else if (key > root.val)
    root.right = insert(root.right, key);
    
  // Return the (unchanged) node pointer
  return root;
}`}]},{title:"Tree Balancing",content:`In a balanced tree, the height of the left and right subtrees of any node differ by at most 1. This balance ensures O(log n) operations.

When trees become unbalanced, operations can degrade to O(n) time complexity in the worst case. Several self-balancing tree structures exist:

- AVL Trees: Strictly balanced, with rotations after insertion/deletion
- Red-Black Trees: Approximately balanced, used in many language libraries
- B-trees: Used in databases and file systems

Balancing operations typically involve rotations (left rotation, right rotation, or combinations) to redistribute nodes while maintaining the BST property.`,examples:[{language:"JavaScript",code:`// Function to get height of a node
function height(node) {
  if (node === null)
    return 0;
  return Math.max(height(node.left), height(node.right)) + 1;
}

// Get balance factor of a node
function getBalance(node) {
  if (node === null)
    return 0;
  return height(node.left) - height(node.right);
}

// Right rotation
function rightRotate(y) {
  const x = y.left;
  const T2 = x.right;

  // Perform rotation
  x.right = y;
  y.left = T2;

  return x;
}

// Left rotation
function leftRotate(x) {
  const y = x.right;
  const T2 = y.left;

  // Perform rotation
  y.left = x;
  x.right = T2;

  return y;
}`}]}],practiceProblems:[{id:14,title:"Binary Tree Level Order Traversal",difficulty:"Medium"},{id:101,title:"Maximum Depth of Binary Tree",difficulty:"Easy"},{id:102,title:"Symmetric Tree",difficulty:"Easy"},{id:103,title:"Binary Tree Level Order Traversal",difficulty:"Medium"},{id:104,title:"Validate Binary Search Tree",difficulty:"Medium"},{id:105,title:"Binary Tree Maximum Path Sum",difficulty:"Hard"},{id:17,title:"Serialize and Deserialize Binary Tree",difficulty:"Hard"}]},Bz={id:"backtracking",title:"Backtracking",icon:"GitBranch",description:"Learn to solve complex problems using backtracking algorithms.",difficulty:"Advanced",estimatedTime:"7 hours",problems:14,introduction:"Backtracking is an algorithmic technique for solving problems recursively by trying to build a solution incrementally, one piece at a time, and abandoning a path as soon as it determines that the path cannot lead to a valid solution. It's particularly useful for constraint satisfaction problems, combinatorial optimization, and puzzles.",sections:[{title:"Introduction to Backtracking",content:`Backtracking is a systematic way to explore all potential solutions to a problem. It follows a depth-first search approach, going as deep as possible along each branch before backtracking.

Key principles of backtracking:

1. **Choose:** Select a candidate for the solution.
2. **Explore:** Recursively search deeper with this choice.
3. **Unchoose:** If the choice doesn't lead to a solution, undo it and try other choices.

Backtracking is more efficient than brute force because it eliminates many candidate solutions without fully exploring them, a technique known as pruning.`,examples:[{language:"JavaScript",code:`// General backtracking template
function backtrack(candidate, choices) {
  // Base case: solution found
  if (isValidSolution(candidate)) {
    return candidate; // or collect the solution
  }
  
  // Try each available choice
  for (const choice of choices) {
    if (isValid(candidate, choice)) {
      // Make a choice
      addToCandidate(candidate, choice);
      
      // Explore further
      const result = backtrack(candidate, remainingChoices(choices, choice));
      if (result) return result; // Solution found
      
      // Backtrack (undo the choice)
      removeFromCandidate(candidate, choice);
    }
  }
  
  // No solution found in this path
  return null;
}`}]},{title:"Classic Backtracking Problems",content:`Backtracking is the algorithm of choice for many classic problems:

1. **N-Queens Problem:** Place N queens on an N×N chessboard so that no two queens threaten each other.

2. **Sudoku Solver:** Fill a 9×9 grid with digits so that each column, row, and 3×3 section contain all digits from 1 to 9.

3. **Permutations and Combinations:** Generate all possible arrangements or selections from a set.

4. **Subset Sum:** Find a subset of elements that sum to a specific target.

5. **Graph Coloring:** Assign colors to vertices so that no adjacent vertices have the same color.

These problems share the characteristic that making a single choice constrains future choices.`,examples:[{language:"JavaScript",code:`// N-Queens problem
function solveNQueens(n) {
  const result = [];
  const board = Array(n).fill().map(() => Array(n).fill('.'));
  
  function backtrack(row) {
    // Base case: All queens placed
    if (row === n) {
      const solution = board.map(row => row.join(''));
      result.push(solution);
      return;
    }
    
    // Try placing queen in each column of current row
    for (let col = 0; col < n; col++) {
      if (isValid(board, row, col, n)) {
        // Place queen
        board[row][col] = 'Q';
        
        // Move to next row
        backtrack(row + 1);
        
        // Backtrack
        board[row][col] = '.';
      }
    }
  }
  
  // Check if placing a queen at (row, col) is valid
  function isValid(board, row, col, n) {
    // Check column
    for (let i = 0; i < row; i++) {
      if (board[i][col] === 'Q') return false;
    }
    
    // Check upper-left diagonal
    for (let i = row - 1, j = col - 1; i >= 0 && j >= 0; i--, j--) {
      if (board[i][j] === 'Q') return false;
    }
    
    // Check upper-right diagonal
    for (let i = row - 1, j = col + 1; i >= 0 && j < n; i--, j++) {
      if (board[i][j] === 'Q') return false;
    }
    
    return true;
  }
  
  backtrack(0);
  return result;
}`}]},{title:"Optimization Techniques",content:`Several techniques can improve backtracking efficiency:

1. **Early Pruning:** Determine as early as possible if a partial solution cannot lead to a valid solution.

2. **Ordering Heuristics:** Try the most promising choices first based on some heuristic.

3. **Constraint Propagation:** After making a choice, deduce and apply additional constraints to reduce the search space.

4. **Symmetry Breaking:** Avoid exploring symmetric solutions that are essentially the same.

5. **Bit Manipulation:** Use bits to represent state for faster operations in certain problems.

These optimizations can dramatically reduce the effective search space.`,examples:[{language:"JavaScript",code:`// Sudoku solver with constraint propagation
function solveSudoku(board) {
  // Find empty cell
  function findEmpty() {
    for (let i = 0; i < 9; i++) {
      for (let j = 0; j < 9; j++) {
        if (board[i][j] === '.') {
          return [i, j];
        }
      }
    }
    return null; // No empty cell
  }
  
  // Check if number can be placed in cell
  function isValid(row, col, num) {
    // Check row
    for (let j = 0; j < 9; j++) {
      if (board[row][j] === num) return false;
    }
    
    // Check column
    for (let i = 0; i < 9; i++) {
      if (board[i][col] === num) return false;
    }
    
    // Check 3x3 box
    const boxRow = Math.floor(row / 3) * 3;
    const boxCol = Math.floor(col / 3) * 3;
    
    for (let i = 0; i < 3; i++) {
      for (let j = 0; j < 3; j++) {
        if (board[boxRow + i][boxCol + j] === num) return false;
      }
    }
    
    return true;
  }
  
  // Backtracking function
  function solve() {
    const empty = findEmpty();
    if (!empty) return true; // No empty cell means solved
    
    const [row, col] = empty;
    
    // Try digits 1-9
    for (let num = 1; num <= 9; num++) {
      const strNum = String(num);
      
      // Early pruning: check if valid before placing
      if (isValid(row, col, strNum)) {
        // Make a choice
        board[row][col] = strNum;
        
        // Recursively try to solve rest of board
        if (solve()) {
          return true;
        }
        
        // Backtrack
        board[row][col] = '.';
      }
    }
    
    // No solution found with current configuration
    return false;
  }
  
  solve();
  return board;
}`}]},{title:"Backtracking vs. Dynamic Programming",content:`While both backtracking and dynamic programming (DP) use recursive problem-solving, they apply to different problem types:

**Backtracking:**
- Used when we need to find all (or any) solutions to a problem
- Typically explores the entire solution space (though with pruning)
- Works well for constraint satisfaction and combinatorial problems
- Usually has exponential time complexity

**Dynamic Programming:**
- Used when we need to find an optimal solution and there are overlapping subproblems
- Stores and reuses solutions to subproblems
- Works well for optimization problems
- Usually has polynomial time complexity

Some problems can be solved with either approach, but certain characteristics make one more suitable than the other.`,examples:[{language:"JavaScript",code:`// Subset Sum problem: Backtracking approach
function subsetSumBacktracking(nums, target) {
  const result = [];
  
  function backtrack(start, sum, current) {
    // Found a valid subset
    if (sum === target) {
      result.push([...current]);
      return;
    }
    
    // Sum exceeded target or reached end of array
    if (sum > target || start >= nums.length) return;
    
    for (let i = start; i < nums.length; i++) {
      // Skip duplicates in sorted array
      if (i > start && nums[i] === nums[i-1]) continue;
      
      current.push(nums[i]);
      backtrack(i + 1, sum + nums[i], current);
      current.pop();
    }
  }
  
  nums.sort((a, b) => a - b); // Sort for duplicate handling
  backtrack(0, 0, []);
  return result;
}

// Subset Sum problem: Dynamic Programming approach
function subsetSumDP(nums, target) {
  const dp = Array(target + 1).fill(false);
  dp[0] = true; // Empty set sums to 0
  
  for (const num of nums) {
    for (let i = target; i >= num; i--) {
      dp[i] = dp[i] || dp[i - num];
    }
  }
  
  return dp[target]; // Whether a subset exists that sums to target
}`}]}],practiceProblems:[{id:15,title:"Word Search",difficulty:"Medium"},{id:26,title:"Permutations",difficulty:"Medium"},{id:28,title:"Palindrome Partitioning",difficulty:"Medium"},{id:30,title:"N-Queens",difficulty:"Hard"},{id:17,title:"Serialize and Deserialize Binary Tree",difficulty:"Hard"}]},zz={id:"dynamic-programming",title:"Dynamic Programming",icon:"BarChart2",description:"Master DP concepts like memoization, tabulation, and state transitions.",difficulty:"Advanced",estimatedTime:"8 hours",problems:20,introduction:"Dynamic Programming (DP) is a technique for solving complex problems by breaking them down into simpler subproblems. It's particularly useful when subproblems overlap and have optimal substructure, meaning the optimal solution can be constructed from optimal solutions of its subproblems.",sections:[{title:"Introduction to Dynamic Programming",content:`Dynamic Programming solves complex problems by breaking them down into simpler overlapping subproblems and storing the results to avoid redundant calculations. Two key properties are required for a problem to be solved with DP:

1. Overlapping Subproblems: The same subproblems are solved multiple times
2. Optimal Substructure: The optimal solution to the problem contains optimal solutions to subproblems

DP can significantly improve time complexity from exponential to polynomial for many problems.`,examples:[{language:"JavaScript",code:`// Example of a problem with overlapping subproblems: Fibonacci

// Recursive approach (inefficient)
function fibRecursive(n) {
  if (n <= 1) return n;
  return fibRecursive(n - 1) + fibRecursive(n - 2);
}

// DP approach with memoization
function fibMemoization(n, memo = {}) {
  if (n in memo) return memo[n];
  if (n <= 1) return n;
  
  memo[n] = fibMemoization(n - 1, memo) + fibMemoization(n - 2, memo);
  return memo[n];
}

// DP approach with tabulation
function fibTabulation(n) {
  if (n <= 1) return n;
  
  const dp = new Array(n + 1);
  dp[0] = 0;
  dp[1] = 1;
  
  for (let i = 2; i <= n; i++) {
    dp[i] = dp[i - 1] + dp[i - 2];
  }
  
  return dp[n];
}`}]},{title:"DP Approaches: Memoization vs. Tabulation",content:`There are two main approaches to implementing dynamic programming:

1. Top-down (Memoization):
   - Start with the original problem and recursively solve subproblems
   - Store results in a cache (usually a hash map or array)
   - Only compute each subproblem once
   - Natural for problems with recursion

2. Bottom-up (Tabulation):
   - Start from the smallest subproblems and work up to the original problem
   - Store results in a table (usually an array)
   - Typically more efficient with memory and eliminates recursion overhead
   - Often requires more careful thinking about the order of computation

Choosing between these approaches depends on the specific problem and constraints.`,examples:[{language:"JavaScript",code:`// Example: Calculating binomial coefficient C(n,k)

// Top-down with memoization
function binomialCoeffMemo(n, k, memo = {}) {
  // Base cases
  if (k === 0 || k === n) return 1;
  if (k > n) return 0;
  
  // Check if already computed
  const key = \`\${n},\${k}\`;
  if (key in memo) return memo[key];
  
  // Recursive calculation with memoization
  memo[key] = binomialCoeffMemo(n - 1, k - 1, memo) + binomialCoeffMemo(n - 1, k, memo);
  return memo[key];
}

// Bottom-up with tabulation
function binomialCoeffTab(n, k) {
  // Create 2D dp table
  const dp = Array(n + 1).fill().map(() => Array(k + 1).fill(0));
  
  // Fill the table in bottom-up manner
  for (let i = 0; i <= n; i++) {
    for (let j = 0; j <= Math.min(i, k); j++) {
      // Base cases
      if (j === 0 || j === i) {
        dp[i][j] = 1;
      } else {
        // Use the recursive formula
        dp[i][j] = dp[i - 1][j - 1] + dp[i - 1][j];
      }
    }
  }
  
  return dp[n][k];
}`}]},{title:"Common DP Patterns",content:`Several patterns appear frequently in DP problems:

1. Linear Sequence DP:
   - 1D array, where dp[i] represents solution for subproblem of size i
   - Examples: Fibonacci, Climbing Stairs

2. Matrix DP:
   - 2D array, where dp[i][j] typically represents solution for subproblem up to position (i,j)
   - Examples: Minimum Path Sum, Unique Paths

3. String DP:
   - Problems involving operations on strings
   - Examples: Longest Common Subsequence, Edit Distance

4. Decision Making DP:
   - Problems requiring decisions at each step
   - Examples: Buy/Sell Stock, House Robber

5. Interval DP:
   - Problems where the state involves intervals
   - Examples: Matrix Chain Multiplication, Burst Balloons`,examples:[{language:"JavaScript",code:`// Linear Sequence DP: Maximum Subarray Sum
function maxSubarraySum(nums) {
  if (nums.length === 0) return 0;
  
  let maxSoFar = nums[0];
  let maxEndingHere = nums[0];
  
  for (let i = 1; i < nums.length; i++) {
    // Either extend previous subarray or start a new one
    maxEndingHere = Math.max(nums[i], maxEndingHere + nums[i]);
    maxSoFar = Math.max(maxSoFar, maxEndingHere);
  }
  
  return maxSoFar;
}

// Matrix DP: Minimum Path Sum
function minPathSum(grid) {
  const m = grid.length;
  const n = grid[0].length;
  const dp = Array(m).fill().map(() => Array(n).fill(0));
  
  // Initialize first cell
  dp[0][0] = grid[0][0];
  
  // Initialize first row
  for (let j = 1; j < n; j++) {
    dp[0][j] = dp[0][j-1] + grid[0][j];
  }
  
  // Initialize first column
  for (let i = 1; i < m; i++) {
    dp[i][0] = dp[i-1][0] + grid[i][0];
  }
  
  // Fill dp table
  for (let i = 1; i < m; i++) {
    for (let j = 1; j < n; j++) {
      dp[i][j] = Math.min(dp[i-1][j], dp[i][j-1]) + grid[i][j];
    }
  }
  
  return dp[m-1][n-1];
}`}]},{title:"State Transition and Optimization",content:`Designing a DP solution involves:

1. Defining the state: What information do we need to represent a subproblem?
2. Establishing the recurrence relation: How do we relate a state to its subproblems?
3. Identifying the base cases: What are the smallest subproblems with known answers?
4. Determining the state transition: How do we iterate through states?
5. Optimizing space (optional): Can we reduce the memory usage?

Space optimization is often possible when the current state only depends on a few previous states.`,examples:[{language:"JavaScript",code:`// Knapsack Problem with space optimization
function knapsack(weights, values, capacity) {
  const n = weights.length;
  
  // Original 2D approach would use dp[n+1][capacity+1]
  // Space-optimized approach only uses 1D array
  const dp = Array(capacity + 1).fill(0);
  
  for (let i = 0; i < n; i++) {
    // We iterate backward to avoid using updated values
    for (let w = capacity; w >= weights[i]; w--) {
      dp[w] = Math.max(dp[w], dp[w - weights[i]] + values[i]);
    }
  }
  
  return dp[capacity];
}

// Longest Increasing Subsequence (LIS)
function lengthOfLIS(nums) {
  if (nums.length === 0) return 0;
  
  const n = nums.length;
  const dp = Array(n).fill(1); // minimum LIS length is 1
  
  for (let i = 1; i < n; i++) {
    for (let j = 0; j < i; j++) {
      if (nums[i] > nums[j]) {
        dp[i] = Math.max(dp[i], dp[j] + 1);
      }
    }
  }
  
  return Math.max(...dp);
}`}]}],practiceProblems:[{id:11,title:"Maximum Subarray",difficulty:"Easy"},{id:12,title:"Climbing Stairs",difficulty:"Easy"},{id:20,title:"Best Time to Buy and Sell Stock",difficulty:"Easy"},{id:23,title:"Jump Game",difficulty:"Medium"},{id:25,title:"Unique Paths",difficulty:"Medium"},{id:27,title:"Minimum Path Sum",difficulty:"Medium"},{id:10,title:"Regular Expression Matching",difficulty:"Hard"}]},$z={id:"linked-lists",title:"Linked Lists",icon:"ListTree",description:"Master singly and doubly linked lists, and common operations.",difficulty:"Intermediate",estimatedTime:"4 hours",problems:18,introduction:"Linked lists are linear data structures where elements are stored in nodes, and each node points to the next node in the sequence. Unlike arrays, linked lists don't require contiguous memory allocation, making them efficient for insertions and deletions but less efficient for random access.",sections:[{title:"Introduction to Linked Lists",content:`A linked list is a collection of nodes where each node contains data and a reference (or link) to the next node in the sequence. The last node typically points to null, indicating the end of the list.

Types of linked lists:

- Singly Linked List: Each node points to the next node
- Doubly Linked List: Each node has pointers to both next and previous nodes
- Circular Linked List: The last node points back to the first node instead of null

Key characteristics:
- Dynamic size (can grow and shrink at runtime)
- Efficient insertions and deletions (O(1) when position is known)
- Inefficient random access (O(n) worst case)
- No wasted memory allocation`,examples:[{language:"JavaScript",code:`// Singly Linked List Node
class ListNode {
  constructor(val) {
    this.val = val;
    this.next = null;
  }
}

// Creating a simple linked list: 1 -> 2 -> 3 -> 4
const head = new ListNode(1);
head.next = new ListNode(2);
head.next.next = new ListNode(3);
head.next.next.next = new ListNode(4);

// Traversing a linked list
function printList(head) {
  let current = head;
  let result = '';
  
  while (current !== null) {
    result += current.val + ' -> ';
    current = current.next;
  }
  
  result += 'null';
  console.log(result);
}`}]},{title:"Linked List Operations",content:`Common operations on linked lists include:

1. Insertion:
   - At the beginning (head): O(1)
   - At the end (tail): O(1) if tail pointer is maintained, otherwise O(n)
   - At a specific position: O(n) to find position, then O(1) to insert

2. Deletion:
   - From the beginning: O(1)
   - From the end: O(n) for singly linked list, O(1) for doubly linked list with tail pointer
   - From a specific position: O(n) to find position, then O(1) to delete

3. Search: O(n) in the worst case

4. Access: O(n) in the worst case`,examples:[{language:"JavaScript",code:`// Insert at the beginning
function insertAtHead(head, val) {
  const newNode = new ListNode(val);
  newNode.next = head;
  return newNode; // New head
}

// Insert at the end
function insertAtTail(head, val) {
  const newNode = new ListNode(val);
  
  // If the list is empty
  if (head === null) {
    return newNode;
  }
  
  // Traverse to find the last node
  let current = head;
  while (current.next !== null) {
    current = current.next;
  }
  
  // Append the new node
  current.next = newNode;
  return head;
}

// Delete a node with a given value
function deleteNode(head, val) {
  // If head node itself holds the value to be deleted
  if (head !== null && head.val === val) {
    return head.next;
  }
  
  let current = head;
  let prev = null;
  
  // Search for the node to be deleted
  while (current !== null && current.val !== val) {
    prev = current;
    current = current.next;
  }
  
  // If value wasn't found
  if (current === null) return head;
  
  // Unlink the node from the list
  prev.next = current.next;
  
  return head;
}`}]},{title:"Doubly Linked Lists",content:`In a doubly linked list, each node contains references to both the next and previous nodes. This additional pointer allows for more efficient operations at the expense of extra memory:

- Advantages:
  - Bidirectional traversal
  - O(1) deletion from the end if the tail pointer is maintained
  - O(1) insertion before a known node

- Disadvantages:
  - Additional memory for the prev pointer
  - More complex implementation`,examples:[{language:"JavaScript",code:`// Doubly Linked List Node
class DoublyListNode {
  constructor(val) {
    this.val = val;
    this.next = null;
    this.prev = null;
  }
}

// Creating a doubly linked list
function createDoublyLinkedList(values) {
  if (!values.length) return null;
  
  const head = new DoublyListNode(values[0]);
  let current = head;
  
  for (let i = 1; i < values.length; i++) {
    const newNode = new DoublyListNode(values[i]);
    current.next = newNode;
    newNode.prev = current;
    current = newNode;
  }
  
  return head;
}

// Inserting a node after a given node
function insertAfter(node, val) {
  if (node === null) return new DoublyListNode(val);
  
  const newNode = new DoublyListNode(val);
  newNode.next = node.next;
  newNode.prev = node;
  
  if (node.next !== null) {
    node.next.prev = newNode;
  }
  
  node.next = newNode;
  return newNode;
}`}]},{title:"Common Linked List Problems",content:`Linked lists are frequently used in interview questions due to their versatility. Common problems include:

1. Detecting cycles in a linked list (Floyd's Cycle Detection Algorithm)
2. Finding the middle element
3. Reversing a linked list
4. Merging two sorted lists
5. Removing duplicates
6. Finding the intersection of two linked lists
7. Checking if a linked list is a palindrome`,examples:[{language:"JavaScript",code:`// Detecting a cycle using Floyd's Cycle Detection Algorithm
function hasCycle(head) {
  if (!head || !head.next) return false;
  
  let slow = head;
  let fast = head;
  
  while (fast !== null && fast.next !== null) {
    slow = slow.next;         // Move one step
    fast = fast.next.next;    // Move two steps
    
    if (slow === fast) return true;  // Cycle detected
  }
  
  return false; // No cycle
}

// Reversing a linked list
function reverseList(head) {
  let prev = null;
  let current = head;
  let next = null;
  
  while (current !== null) {
    // Store next node
    next = current.next;
    
    // Reverse the link
    current.next = prev;
    
    // Move pointers one position ahead
    prev = current;
    current = next;
  }
  
  return prev; // New head of the reversed list
}`}]}],practiceProblems:[{id:3,title:"Merge Two Sorted Lists",difficulty:"Easy"},{id:19,title:"Reverse Linked List",difficulty:"Easy"},{id:4,title:"Add Two Numbers",difficulty:"Medium"},{id:7,title:"Merge k Sorted Lists",difficulty:"Hard"},{id:18,title:"LRU Cache",difficulty:"Medium"}]},Hz={id:"strings",title:"Strings",icon:"FileText",description:"String manipulation, pattern matching, and common algorithms.",difficulty:"Beginner",estimatedTime:"3 hours",problems:22,introduction:"Strings are sequences of characters and one of the most commonly used data types. String manipulation is fundamental to many programming tasks and plays a crucial role in areas like text processing, parsing, and pattern matching.",sections:[{title:"String Basics",content:`Strings are sequences of characters represented in memory. In most programming languages, strings can be enclosed in single quotes (''), double quotes (""), or backticks (\`\`). Different languages handle strings differently:

- Some languages treat strings as primitive immutable types (like Java, JavaScript)
- Others treat them as arrays of characters (like C)
- Some provide rich string-specific libraries and methods

Common string operations include:
- Concatenation (joining strings)
- Substring extraction
- Finding the length
- Comparing strings
- Searching for substrings`,examples:[{language:"JavaScript",code:`// String creation
const str1 = 'Hello';
const str2 = "World";
const name = "Alice";
const greeting = \`Hello, \${name}!\`; // Template string with interpolation

// String concatenation
const fullGreeting = str1 + ", " + str2 + "!";
console.log(fullGreeting); // "Hello, World!"

// String length
const length = str1.length; // 5

// Accessing characters
const firstChar = str1[0]; // 'H'
const lastChar = str1[str1.length - 1]; // 'o'

// Substrings
const sub1 = str1.substring(1, 4); // "ell"
const sub2 = str1.slice(1, 4); // "ell"

// Searching
const position = str1.indexOf('l'); // 2 (first occurrence)
const lastPosition = str1.lastIndexOf('l'); // 3 (last occurrence)`}]},{title:"String Manipulation",content:`String manipulation involves changing or extracting information from strings. Common manipulations include:

1. Changing case (uppercase, lowercase)
2. Trimming whitespace
3. Splitting into arrays
4. Replacing substrings
5. Regular expression operations

Many languages provide built-in methods for these operations, making string manipulation straightforward.`,examples:[{language:"JavaScript",code:`const text = "  Hello, World!  ";

// Case conversion
const upperCase = text.toUpperCase(); // "  HELLO, WORLD!  "
const lowerCase = text.toLowerCase(); // "  hello, world!  "

// Trimming whitespace
const trimmed = text.trim(); // "Hello, World!"

// Splitting
const words = trimmed.split(', '); // ["Hello", "World!"]

// Replacing
const replaced = text.replace('Hello', 'Hi'); // "  Hi, World!  "

// Regular expressions
const containsHello = /Hello/.test(text); // true
const matches = text.match(/\\w+/g); // ["Hello", "World"]

// Checking
const startsWith = text.trim().startsWith('Hello'); // true
const endsWith = text.trim().endsWith('!'); // true
const includes = text.includes('World'); // true`}]},{title:"Pattern Matching Algorithms",content:`Pattern matching involves finding occurrences of a pattern within a string. Several algorithms exist with different time complexities:

1. Naive approach: O(m*n) - check all positions for a match
2. Knuth-Morris-Pratt (KMP): O(m+n) - builds a prefix table to skip unnecessary comparisons
3. Boyer-Moore: O(n/m) in best case - shifts the pattern in larger jumps
4. Rabin-Karp: O(n+m) - uses hashing to find matches

Where m is the pattern length and n is the text length.`,examples:[{language:"JavaScript",code:`// Naive pattern matching
function naiveSearch(text, pattern) {
  const matches = [];
  const n = text.length;
  const m = pattern.length;
  
  for (let i = 0; i <= n - m; i++) {
    let j;
    for (j = 0; j < m; j++) {
      if (text[i + j] !== pattern[j]) {
        break;
      }
    }
    if (j === m) { // Found a match
      matches.push(i);
    }
  }
  
  return matches;
}

// KMP Algorithm (Knuth-Morris-Pratt)
function kmpSearch(text, pattern) {
  if (pattern === '') return [];
  
  // Build the LPS (Longest Prefix Suffix) array
  const lps = buildLPSArray(pattern);
  const matches = [];
  
  let i = 0; // index for text
  let j = 0; // index for pattern
  
  while (i < text.length) {
    if (pattern[j] === text[i]) {
      i++;
      j++;
    }
    
    if (j === pattern.length) {
      // Found a match
      matches.push(i - j);
      j = lps[j - 1]; // Look for the next match
    } else if (i < text.length && pattern[j] !== text[i]) {
      if (j !== 0) {
        j = lps[j - 1];
      } else {
        i++;
      }
    }
  }
  
  return matches;
}

// Build LPS array for KMP algorithm
function buildLPSArray(pattern) {
  const lps = new Array(pattern.length).fill(0);
  let len = 0;
  let i = 1;
  
  while (i < pattern.length) {
    if (pattern[i] === pattern[len]) {
      len++;
      lps[i] = len;
      i++;
    } else {
      if (len !== 0) {
        len = lps[len - 1];
      } else {
        lps[i] = 0;
        i++;
      }
    }
  }
  
  return lps;
}`}]},{title:"String Algorithms",content:`Several important algorithms focus on string processing:

1. String Compression: Convert a string like "AAABBC" to "3A2B1C"
2. String Rotation: Check if one string is a rotation of another
3. Palindrome Checking: Determine if a string reads the same forward and backward
4. Anagram Detection: Check if two strings contain the same characters in different orders
5. Longest Common Substring: Find the longest string that is a substring of two strings
6. Edit Distance (Levenshtein Distance): Minimum operations to transform one string to another`,examples:[{language:"JavaScript",code:`// Check if a string is a palindrome
function isPalindrome(str) {
  const cleanStr = str.toLowerCase().replace(/[^a-z0-9]/g, '');
  let left = 0;
  let right = cleanStr.length - 1;
  
  while (left < right) {
    if (cleanStr[left] !== cleanStr[right]) {
      return false;
    }
    left++;
    right--;
  }
  
  return true;
}

// Check if two strings are anagrams
function areAnagrams(str1, str2) {
  // Remove spaces and convert to lowercase
  const normalize = str => str.toLowerCase().replace(/\\s/g, '');
  const s1 = normalize(str1);
  const s2 = normalize(str2);
  
  // Quick check on length
  if (s1.length !== s2.length) return false;
  
  // Count each character
  const charCount = {};
  
  for (const char of s1) {
    charCount[char] = (charCount[char] || 0) + 1;
  }
  
  for (const char of s2) {
    if (!charCount[char]) return false;
    charCount[char]--;
  }
  
  return true;
}

// Check if one string is a rotation of another
function isRotation(s1, s2) {
  if (s1.length !== s2.length || s1.length === 0) {
    return false;
  }
  
  // Concatenate s1 with itself
  const s1s1 = s1 + s1;
  
  // Check if s2 is a substring of s1s1
  return s1s1.includes(s2);
}`}]}],practiceProblems:[{id:2,title:"Valid Parentheses",difficulty:"Easy"},{id:5,title:"Longest Substring Without Repeating Characters",difficulty:"Medium"},{id:10,title:"Regular Expression Matching",difficulty:"Hard"},{id:22,title:"Group Anagrams",difficulty:"Medium"},{id:28,title:"Palindrome Partitioning",difficulty:"Medium"}]},Wz={id:"recursion",title:"Recursion",icon:"GitBranch",description:"Recursive problem-solving approaches and optimization techniques.",difficulty:"Intermediate",estimatedTime:"5 hours",problems:15,introduction:"Recursion is a programming technique where a function calls itself to solve a problem. It's particularly useful for problems that can be broken down into simpler versions of the same problem. Understanding recursion is essential for tackling complex algorithms and data structures.",sections:[{title:"Understanding Recursion",content:`Recursion is a powerful problem-solving technique based on breaking a problem into smaller instances of the same problem. Every recursive solution has two key components:

1. Base Case(s): The simplest scenario(s) where the answer can be directly provided without further recursion
2. Recursive Case(s): Where the function calls itself with a simpler version of the problem

Without proper base cases, recursion would continue indefinitely, causing a stack overflow. Recursion is particularly elegant for problems with a recursive structure, such as tree traversals, permutations, and divide-and-conquer algorithms.`,examples:[{language:"JavaScript",code:`// Simple example: Computing factorial
function factorial(n) {
  // Base case
  if (n <= 1) return 1;
  
  // Recursive case
  return n * factorial(n - 1);
}

// Example usage
console.log(factorial(5)); // 120 (5 * 4 * 3 * 2 * 1)

// Simple example: Computing Fibonacci numbers
function fibonacci(n) {
  // Base cases
  if (n <= 0) return 0;
  if (n === 1) return 1;
  
  // Recursive case
  return fibonacci(n - 1) + fibonacci(n - 2);
}

// Example usage
console.log(fibonacci(6)); // 8 (fibonacci sequence: 0, 1, 1, 2, 3, 5, 8, ...)`}]},{title:"Recursion Patterns",content:`Several common patterns appear in recursive algorithms:

1. Linear Recursion:
   - The function makes a single recursive call at each step
   - Examples: Factorial, Linear Search

2. Binary Recursion:
   - The function makes two recursive calls at each step
   - Examples: Fibonacci, Binary Tree traversal

3. Multiple Recursion:
   - The function makes multiple recursive calls
   - Examples: Permutations, Combinations

4. Mutual Recursion:
   - Two or more functions call each other
   - Examples: Even/Odd checkers, Tree traversals with different node types

5. Tail Recursion:
   - Recursive call is the last operation in the function
   - Can be optimized by compilers into iteration`,examples:[{language:"JavaScript",code:`// Linear Recursion: Sum of array elements
function sum(arr, index = 0) {
  // Base case
  if (index >= arr.length) return 0;
  
  // Recursive case (linear - one call)
  return arr[index] + sum(arr, index + 1);
}

// Binary Recursion: Merge Sort
function mergeSort(arr) {
  // Base case
  if (arr.length <= 1) return arr;
  
  // Divide array in half
  const mid = Math.floor(arr.length / 2);
  const left = arr.slice(0, mid);
  const right = arr.slice(mid);
  
  // Recursive case (binary - two calls)
  return merge(mergeSort(left), mergeSort(right));
}

function merge(left, right) {
  const result = [];
  let leftIndex = 0;
  let rightIndex = 0;
  
  while (leftIndex < left.length && rightIndex < right.length) {
    if (left[leftIndex] < right[rightIndex]) {
      result.push(left[leftIndex]);
      leftIndex++;
    } else {
      result.push(right[rightIndex]);
      rightIndex++;
    }
  }
  
  return result.concat(left.slice(leftIndex)).concat(right.slice(rightIndex));
}

// Tail Recursion: Factorial with accumulator
function factorialTail(n, accumulator = 1) {
  // Base case
  if (n <= 1) return accumulator;
  
  // Tail recursive case
  return factorialTail(n - 1, n * accumulator);
}`}]},{title:"Recursion vs. Iteration",content:`Both recursion and iteration can solve the same problems, but each has advantages:

**Recursion Advantages:**
- More elegant and concise for certain problems
- Directly mirrors the problem's recursive structure
- Simplifies handling recursive data structures like trees

**Recursion Disadvantages:**
- Function call overhead
- Risk of stack overflow for deep recursion
- Often less efficient in time and space

**When to Choose Recursion:**
- When the problem has a recursive structure
- When code clarity is more important than performance
- When dealing with recursive data structures
- When iterative solution would be complex`,examples:[{language:"JavaScript",code:`// Factorial: Recursion vs. Iteration

// Recursive approach
function factorialRecursive(n) {
  if (n <= 1) return 1;
  return n * factorialRecursive(n - 1);
}

// Iterative approach
function factorialIterative(n) {
  let result = 1;
  for (let i = 2; i <= n; i++) {
    result *= i;
  }
  return result;
}

// Tree traversal: Recursion vs. Iteration

// Recursive in-order traversal
function inOrderRecursive(root, result = []) {
  if (!root) return result;
  
  inOrderRecursive(root.left, result);
  result.push(root.val);
  inOrderRecursive(root.right, result);
  
  return result;
}

// Iterative in-order traversal
function inOrderIterative(root) {
  const result = [];
  const stack = [];
  let current = root;
  
  while (current || stack.length > 0) {
    while (current) {
      stack.push(current);
      current = current.left;
    }
    current = stack.pop();
    result.push(current.val);
    current = current.right;
  }
  
  return result;
}`}]},{title:"Recursion Optimization Techniques",content:`Recursion can be optimized using several techniques:

1. Memoization:
   - Store results of expensive function calls and return the cached result when the same inputs occur again
   - Particularly useful for problems with overlapping subproblems (see Dynamic Programming)

2. Tail Call Optimization (TCO):
   - Convert recursive functions to tail recursive form, which some languages optimize
   - Not all languages support TCO (JavaScript in strict mode does in some environments)

3. Recurrence Relations:
   - Mathematically analyze the recursive algorithm and convert to iteration
   - Useful for straightforward recursions like factorial or Fibonacci

4. Segmenting/Pruning:
   - Add conditions to avoid unnecessary recursive calls
   - Particularly useful for search algorithms`,examples:[{language:"JavaScript",code:`// Memoization: Fibonacci optimization
function fibonacciMemo(n, memo = {}) {
  // Check if we've already calculated this value
  if (n in memo) return memo[n];
  
  // Base cases
  if (n <= 0) return 0;
  if (n === 1) return 1;
  
  // Save result in memo object
  memo[n] = fibonacciMemo(n - 1, memo) + fibonacciMemo(n - 2, memo);
  return memo[n];
}

// Without memoization - exponential time complexity O(2^n)
console.time('Without memo');
console.log(fibonacci(30));
console.timeEnd('Without memo');

// With memoization - linear time complexity O(n)
console.time('With memo');
console.log(fibonacciMemo(30));
console.timeEnd('With memo');

// Tail recursion: Factorial
function factorial(n, accumulator = 1) {
  'use strict'; // Enable TCO in supported environments
  
  if (n <= 1) return accumulator;
  
  // Last operation is the recursive call (tail recursion)
  return factorial(n - 1, n * accumulator);
}`}]}],practiceProblems:[{id:3,title:"Merge Two Sorted Lists",difficulty:"Easy"},{id:12,title:"Climbing Stairs",difficulty:"Easy"},{id:19,title:"Reverse Linked List",difficulty:"Easy"},{id:14,title:"Binary Tree Level Order Traversal",difficulty:"Medium"},{id:26,title:"Permutations",difficulty:"Medium"},{id:7,title:"Merge k Sorted Lists",difficulty:"Hard"},{id:10,title:"Regular Expression Matching",difficulty:"Hard"}]},qz={id:"permutation-problems",title:"Permutation Problems",icon:"Network",description:"Generate permutations and solve permutation-based problems.",difficulty:"Intermediate",estimatedTime:"4 hours",problems:12,introduction:"Permutation problems involve generating or analyzing different arrangements of a set of elements. These problems are fundamental in combinatorics and have applications in optimization, cryptography, and algorithm design. Many permutation problems use backtracking or dynamic programming approaches.",sections:[{title:"Understanding Permutations",content:`A permutation is an arrangement of distinct objects in a specific order. For n distinct objects, there are n! (n factorial) different permutations.

Key concepts in permutation problems:

1. **Generation:** Creating all possible permutations of a set
2. **Counting:** Determining the number of permutations with specific properties
3. **Ranking:** Assigning a unique index to each permutation
4. **Unranking:** Finding a permutation given its rank
5. **Next/Previous:** Generating the lexicographically next or previous permutation

Permutations are distinct from combinations, which don't consider the order of elements.`,examples:[{language:"JavaScript",code:`// Calculate the number of permutations: n!
function factorial(n) {
  if (n <= 1) return 1;
  return n * factorial(n - 1);
}

// Example: Number of permutations of [1, 2, 3, 4, 5]
const n = 5;
console.log(\`Number of permutations of \${n} elements: \${factorial(n)}\`); // 120

// Finding the next lexicographical permutation
function nextPermutation(nums) {
  // Find the first element that is smaller than the element to its right
  let i = nums.length - 2;
  while (i >= 0 && nums[i] >= nums[i + 1]) {
    i--;
  }
  
  if (i >= 0) {
    // Find the smallest element to the right that is larger than nums[i]
    let j = nums.length - 1;
    while (nums[j] <= nums[i]) {
      j--;
    }
    
    // Swap nums[i] and nums[j]
    [nums[i], nums[j]] = [nums[j], nums[i]];
  }
  
  // Reverse the subarray starting from i+1
  let left = i + 1;
  let right = nums.length - 1;
  while (left < right) {
    [nums[left], nums[right]] = [nums[right], nums[left]];
    left++;
    right--;
  }
  
  return nums;
}`}]},{title:"Generating All Permutations",content:`Generating all permutations is a common task in many algorithms. Two main approaches are:

1. **Backtracking:** The most flexible approach, using recursion to build permutations element by element.

2. **Heap's Algorithm:** An efficient algorithm that generates all permutations by swapping elements.

These algorithms can be modified to handle special cases like:
- Sets with duplicate elements
- Generating only permutations that satisfy specific constraints
- Partial permutations (k elements from n elements)`,examples:[{language:"JavaScript",code:`// Generate all permutations using backtracking
function permute(nums) {
  const result = [];
  
  function backtrack(current, remaining) {
    // Base case: no more elements to add
    if (remaining.length === 0) {
      result.push([...current]);
      return;
    }
    
    // Try each remaining element
    for (let i = 0; i < remaining.length; i++) {
      // Add current element to the permutation
      current.push(remaining[i]);
      
      // Create new remaining array without the used element
      const newRemaining = [...remaining.slice(0, i), ...remaining.slice(i + 1)];
      
      // Recursively generate permutations with the updated arrays
      backtrack(current, newRemaining);
      
      // Backtrack by removing the last added element
      current.pop();
    }
  }
  
  backtrack([], nums);
  return result;
}

// Heap's Algorithm for generating permutations
function heapPermute(arr) {
  const result = [];
  const n = arr.length;
  
  function generate(k, A) {
    if (k === 1) {
      result.push([...A]);
      return;
    }
    
    // Generate permutations with kth unaltered
    generate(k - 1, A);
    
    // Generate permutations for kth swapped with each k-1 initial
    for (let i = 0; i < k - 1; i++) {
      // Swap elements
      if (k % 2 === 0) {
        [A[i], A[k - 1]] = [A[k - 1], A[i]];
      } else {
        [A[0], A[k - 1]] = [A[k - 1], A[0]];
      }
      
      generate(k - 1, A);
    }
  }
  
  generate(n, arr);
  return result;
}`}]},{title:"Permutations with Duplicates",content:`When dealing with sets that contain duplicate elements, we need to modify our permutation algorithms to avoid generating the same permutation multiple times. Common approaches include:

1. **Sorting and Skipping:** Sort the input array and skip elements that are the same as their predecessors.

2. **Frequency Counting:** Use a map to track the frequency of each element and decrement counts as elements are used.

3. **Set-based Deduplication:** Generate all permutations and filter using a set, though this is less efficient.

The first two approaches are more efficient as they avoid generating duplicate permutations in the first place.`,examples:[{language:"JavaScript",code:`// Generate permutations with duplicates
function permuteUnique(nums) {
  const result = [];
  nums.sort((a, b) => a - b); // Sort the array
  
  function backtrack(current, used) {
    // Base case: permutation complete
    if (current.length === nums.length) {
      result.push([...current]);
      return;
    }
    
    for (let i = 0; i < nums.length; i++) {
      // Skip used elements
      if (used[i]) continue;
      
      // Skip duplicates
      if (i > 0 && nums[i] === nums[i-1] && !used[i-1]) continue;
      
      // Choose element
      used[i] = true;
      current.push(nums[i]);
      
      // Explore
      backtrack(current, used);
      
      // Unchoose
      used[i] = false;
      current.pop();
    }
  }
  
  backtrack([], Array(nums.length).fill(false));
  return result;
}

// Using frequency counting
function permuteUniqueFreq(nums) {
  const result = [];
  
  // Count frequencies
  const counter = new Map();
  for (const num of nums) {
    counter.set(num, (counter.get(num) || 0) + 1);
  }
  
  function backtrack(current) {
    if (current.length === nums.length) {
      result.push([...current]);
      return;
    }
    
    for (const [num, freq] of counter.entries()) {
      if (freq === 0) continue;
      
      // Use the number
      counter.set(num, freq - 1);
      current.push(num);
      
      backtrack(current);
      
      // Backtrack
      counter.set(num, freq);
      current.pop();
    }
  }
  
  backtrack([]);
  return result;
}`}]},{title:"Applications of Permutations",content:`Permutation algorithms are used in various problem domains:

1. **Combinatorial Optimization:** Problems like the Traveling Salesman Problem and Job Scheduling.

2. **Puzzle Solving:** 15-puzzle, Rubik's cube, and other permutation-based puzzles.

3. **Cryptography:** Permutation ciphers and cryptographic algorithms.

4. **Computer Science:** Token sorting, sequence alignment, and pattern matching.

5. **Statistics:** Permutation tests and randomization methods.

Many of these applications require either generating all permutations or finding a specific permutation that optimizes some objective function.`,examples:[{language:"JavaScript",code:`// Traveling Salesman Problem (naive approach using permutations)
function tsp(distances) {
  const n = distances.length;
  const cities = Array.from({ length: n - 1 }, (_, i) => i + 1); // Cities 1 to n-1
  
  // Generate all permutations of cities (excluding the starting city 0)
  const allRoutes = permute(cities);
  
  let minDistance = Infinity;
  let bestRoute = null;
  
  // Evaluate each route
  for (const route of allRoutes) {
    const fullRoute = [0, ...route, 0]; // Start and end at city 0
    let distance = 0;
    
    // Calculate the total distance of this route
    for (let i = 0; i < fullRoute.length - 1; i++) {
      distance += distances[fullRoute[i]][fullRoute[i + 1]];
    }
    
    if (distance < minDistance) {
      minDistance = distance;
      bestRoute = fullRoute;
    }
  }
  
  return { route: bestRoute, distance: minDistance };
}

// Example distance matrix for 4 cities
const distances = [
  [0, 10, 15, 20],
  [10, 0, 35, 25],
  [15, 35, 0, 30],
  [20, 25, 30, 0]
];

const solution = tsp(distances);
console.log(\`Best route: \${solution.route.join(' -> ')}\`);
console.log(\`Total distance: \${solution.distance}\`);`}]}],practiceProblems:[{id:26,title:"Permutations",difficulty:"Medium"},{id:22,title:"Group Anagrams",difficulty:"Medium"},{id:21,title:"Rotate Image",difficulty:"Medium"},{id:15,title:"Word Search",difficulty:"Medium"},{id:23,title:"Jump Game",difficulty:"Medium"},{id:30,title:"N-Queens",difficulty:"Hard"}]},ij={arrays:Fz,"binary-trees":Uz,backtracking:Bz,"dynamic-programming":zz,"linked-lists":$z,strings:Hz,recursion:Wz,"permutation-problems":qz},Gz=Object.values(ij),Kz=t=>ij[t],Qz=t=>{switch(t){case"Beginner":return"bg-green-500 text-white";case"Intermediate":return"bg-yellow-500 text-white";case"Advanced":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},Yz=(t,e=32)=>({Code:o.jsx(Pi,{size:e}),ListTree:o.jsx(f9,{size:e}),FileText:o.jsx(nh,{size:e}),BarChart2:o.jsx(Uv,{size:e}),Network:o.jsx(b9,{size:e}),Layers:o.jsx(d9,{size:e}),GitBranch:o.jsx(l9,{size:e})})[t]||o.jsx(Sc,{size:e}),Xz=()=>o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx(Sc,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Study Materials"})]}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-8 max-w-3xl",children:"Master algorithms and data structures with our comprehensive study materials. Each topic includes detailed explanations, code examples, and practice problems."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Gz.map((t,e)=>o.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:e*.1},children:o.jsxs(Ce,{to:`/study/${t.id}`,className:"card block hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:Yz(t.icon)}),o.jsxs("div",{className:"ml-4",children:[o.jsx("h2",{className:"text-xl font-bold",children:t.title}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${Qz(t.difficulty)}`,children:t.difficulty})]})]}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:t.description}),o.jsxs("div",{className:"flex justify-between text-sm text-[var(--text-secondary)]",children:[o.jsxs("span",{children:["⏱️ ",t.estimatedTime]}),o.jsxs("span",{children:["📋 ",t.problems," problems"]})]})]})},t.id))}),o.jsxs("div",{className:"mt-12",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Learning Paths"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"Interview Preparation",description:"A comprehensive learning path designed to prepare you for technical interviews at top tech companies.",topics:["Arrays","Linked Lists","Trees","Dynamic Programming"],duration:"8 weeks",level:"Intermediate to Advanced"},{title:"Competitive Programming",description:"Master algorithms and optimization techniques used in competitive programming contests.",topics:["Advanced Data Structures","Graph Algorithms","Dynamic Programming","Number Theory"],duration:"12 weeks",level:"Advanced"}].map((t,e)=>o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-xl font-bold mb-2",children:t.title}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-4",children:t.description}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Includes topics:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:t.topics.map((n,r)=>o.jsx("span",{className:"bg-[var(--primary)] text-xs px-2 py-1 rounded",children:n},r))})]}),o.jsxs("div",{className:"flex justify-between text-sm text-[var(--text-secondary)]",children:[o.jsxs("span",{children:["⏱️ ",t.duration]}),o.jsxs("span",{children:["🎯 ",t.level]})]}),o.jsx("button",{className:"btn-secondary w-full mt-4",children:"View Path"})]},e))})]}),o.jsxs("div",{className:"mt-12 mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Resource Center"}),o.jsx("div",{className:"card p-6 bg-gradient-to-r from-[var(--secondary)] to-[#2a3a64]",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Books & References"}),o.jsxs("ul",{className:"space-y-2 text-[var(--text-secondary)]",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"📚"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Introduction to Algorithms"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"📚"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Cracking the Coding Interview"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"📚"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Algorithm Design Manual"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"📚"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"View all resources"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Video Lectures"}),o.jsxs("ul",{className:"space-y-2 text-[var(--text-secondary)]",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🎬"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Algorithms Specialization"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🎬"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Advanced Data Structures"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🎬"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Dynamic Programming Masterclass"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🎬"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"View all videos"})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Practice Sets"}),o.jsxs("ul",{className:"space-y-2 text-[var(--text-secondary)]",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🏆"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"FAANG Interview Questions"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🏆"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Top 100 Coding Problems"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🏆"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"Weekly Coding Challenges"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx("span",{className:"mr-2",children:"🏆"}),o.jsx("a",{href:"#",className:"hover:text-[var(--accent)] transition-colors",children:"View all practice sets"})]})]})]})]})})]})]})})}),o.jsx(Mt,{})]})}),Jz=()=>{var f;const{topic:t}=oT(),[e,n]=P.useState(null),[r,s]=P.useState(0),[i,a]=P.useState([]);P.useEffect(()=>{if(t){const m=Kz(t);m&&(n(m),s(0),a([]))}},[t]),P.useEffect(()=>{e&&gz.highlightAll()},[e,r]);const l=m=>{i.includes(m)||a([...i,m])},c=()=>{e&&r<e.sections.length-1&&(l(r),s(r+1),window.scrollTo(0,0))},d=()=>{r>0&&(s(r-1),window.scrollTo(0,0))},h=()=>e?Math.round(i.length/e.sections.length*100):0;return e?o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsxs("div",{className:"container-custom",children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(Ce,{to:"/study",className:"mr-4 p-2 rounded-full hover:bg-white hover:bg-opacity-10 transition-colors",children:o.jsx(pl,{size:20,className:"text-[var(--text-secondary)]"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[e.title,o.jsx("span",{className:`text-sm font-medium px-3 py-1 rounded-full ${e.difficulty==="Beginner"?"bg-green-500 bg-opacity-20 text-green-400":e.difficulty==="Intermediate"?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-red-500 bg-opacity-20 text-red-400"}`,children:e.difficulty})]}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:e.description})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[o.jsx("div",{className:"lg:col-span-3",children:o.jsxs("div",{className:"sticky top-24",children:[o.jsxs("div",{className:"card mb-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(Sc,{size:18,className:"text-[var(--accent)] mr-2"}),"Learning Journey"]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:"Progress"}),o.jsxs("span",{className:"text-sm font-medium",children:[h(),"%"]})]}),o.jsx("div",{className:"h-2 bg-[var(--primary)] rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-[var(--accent)] to-[var(--accent-secondary)]",style:{width:`${h()}%`}})})]}),o.jsxs("div",{className:"mt-6 relative",children:[o.jsx("div",{className:"absolute left-[10px] top-0 bottom-0 w-0.5 bg-gradient-to-b from-[var(--accent)] to-[var(--accent-secondary)] opacity-30"}),e.sections.map((m,g)=>o.jsx("div",{className:"mb-4 relative",children:o.jsxs("button",{onClick:()=>s(g),className:`flex items-start relative pl-8 transition-colors w-full text-left ${g===r?"text-white":i.includes(g)?"text-[var(--accent)]":"text-[var(--text-secondary)] hover:text-white"}`,children:[o.jsxs("div",{className:`absolute left-0 w-5 h-5 rounded-full flex items-center justify-center z-10 ${g===r?"bg-[var(--accent)] ring-4 ring-[var(--accent)] ring-opacity-30":i.includes(g)?"bg-[var(--accent)] bg-opacity-80":"bg-[var(--primary)] border border-[var(--text-secondary)]"}`,children:[i.includes(g)&&o.jsx(Xu,{size:12,className:"text-white"}),!i.includes(g)&&g===r&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})]}),o.jsx("span",{className:`text-sm font-medium ${g===r?"font-semibold":""}`,children:m.title})]})},g))]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Study Information"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:"Estimated Time"}),o.jsx("span",{className:"text-sm font-medium",children:e.estimatedTime})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:"Related Problems"}),o.jsx("span",{className:"text-sm font-medium",children:e.problems})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:"Category"}),o.jsx("span",{className:"text-sm font-medium",children:e.difficulty})]}),o.jsx("div",{className:"pt-4 mt-4 border-t border-white border-opacity-10",children:o.jsxs(Ce,{to:"/code",className:"text-[var(--accent)] hover:text-[var(--accent-hover)] text-sm flex items-center",children:[o.jsx(Pi,{size:14,className:"mr-1"}),"Practice related problems",o.jsx(ui,{size:14,className:"ml-1"})]})})]})]})]})}),o.jsxs("div",{className:"lg:col-span-9",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:e.sections[r].title}),o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("span",{className:"text-sm bg-black bg-opacity-30 px-3 py-1 rounded-full text-[var(--text-secondary)]",children:["Section ",r+1," of ",e.sections.length]}),i.includes(r)&&o.jsxs("span",{className:"text-sm bg-green-500 bg-opacity-20 px-3 py-1 rounded-full text-green-400 flex items-center",children:[o.jsx(Xu,{size:12,className:"mr-1"}),"Completed"]})]})})]}),o.jsxs("div",{className:"prose prose-invert max-w-none",children:[o.jsx("div",{className:"text-[var(--text)] whitespace-pre-line text-base leading-relaxed bg-black bg-opacity-30 p-6 rounded-lg border border-white/10",children:e.sections[r].content}),e.sections[r].examples&&o.jsxs("div",{className:"mt-8",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Examples"}),o.jsx("div",{className:"space-y-6",children:(f=e.sections[r].examples)==null?void 0:f.map((m,g)=>o.jsxs("div",{className:"bg-black bg-opacity-40 backdrop-blur-sm rounded-lg overflow-hidden border border-white/10",children:[o.jsxs("div",{className:"px-4 py-3 bg-black bg-opacity-40 border-b border-white/10 flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-sm text-white",children:m.language}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{className:"text-[var(--text-secondary)] hover:text-white text-xs px-2 py-1 rounded hover:bg-white hover:bg-opacity-10 transition-colors",onClick:()=>navigator.clipboard.writeText(m.code),children:"Copy"}),o.jsxs("a",{href:"#",className:"text-[var(--text-secondary)] hover:text-white text-xs px-2 py-1 rounded hover:bg-white hover:bg-opacity-10 transition-colors flex items-center",children:["Try it ",o.jsx(i9,{size:12,className:"ml-1"})]})]})]}),o.jsx("pre",{className:"p-4 overflow-x-auto text-sm",children:o.jsx("code",{className:`language-${m.language.toLowerCase()}`,children:m.code})})]},g))})]}),o.jsxs("div",{className:"mt-10 flex justify-between",children:[o.jsxs("button",{onClick:d,className:`flex items-center px-4 py-2 rounded-lg transition-colors ${r===0?"text-[var(--text-secondary)] cursor-not-allowed":"text-white hover:bg-white hover:bg-opacity-10"}`,disabled:r===0,children:[o.jsx(pl,{size:16,className:"mr-2"}),"Previous"]}),r<e.sections.length-1?o.jsxs("button",{onClick:c,className:"btn-primary flex items-center",children:[i.includes(r)?"Continue":"Mark as Completed",o.jsx(ui,{size:16,className:"ml-1"})]}):o.jsxs("button",{onClick:()=>l(r),className:"btn-success flex items-center",children:["Complete Topic",o.jsx(Xu,{size:16,className:"ml-2"})]})]})]})]}),o.jsxs("div",{className:"card mt-8",children:[o.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center",children:[o.jsx(Pi,{size:18,className:"text-[var(--accent)] mr-2"}),"Practice Problems"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.practiceProblems.map((m,g)=>{const T=QN(m.id);return o.jsx(Ce,{to:`/code/${m.id}`,className:"group block",children:o.jsx("div",{className:"bg-black bg-opacity-40 backdrop-blur-sm p-4 rounded-lg border border-white/5 transition-all hover:border-[var(--accent)] hover:shadow-lg",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-base mb-1 group-hover:text-[var(--accent)] transition-colors",children:m.title}),o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${m.difficulty==="Easy"?"bg-green-500 bg-opacity-20 text-green-400":m.difficulty==="Medium"?"bg-yellow-500 bg-opacity-20 text-yellow-400":"bg-red-500 bg-opacity-20 text-red-400"}`,children:m.difficulty}),T&&o.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:T.tags.slice(0,2).join(", ")})]})]}),o.jsx(ui,{size:18,className:"text-[var(--text-secondary)] group-hover:text-[var(--accent)] transition-colors"})]})})},g)})}),o.jsx("div",{className:"mt-6 pt-4 border-t border-white/10 text-center",children:o.jsxs(Ce,{to:"/code",className:"text-[var(--accent)] hover:text-[var(--accent-hover)] inline-flex items-center text-sm",children:["Browse all coding problems",o.jsx(ui,{size:14,className:"ml-1"})]})})]})]})]})]})}),o.jsx(Mt,{})]})}):o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-xl",children:"Topic not found"}),o.jsxs(Ce,{to:"/study",className:"mt-4 text-[var(--accent)] hover:text-[var(--accent-hover)] flex items-center justify-center",children:[o.jsx(pl,{size:16,className:"mr-2"}),"Back to Study Materials"]})]})}),o.jsx(Mt,{})]})})},ed=({className:t,size:e})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[o.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),o.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),o.jsx("path",{d:"M4 22h16"}),o.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),o.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),o.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),Zz=()=>{var w,E,k,M;const{currentUser:t}=Pn(),[e,n]=P.useState("global"),[r,s]=P.useState(""),[i,a]=P.useState(!0),[l,c]=P.useState(null),[d,h]=P.useState([]),[f,m]=P.useState([]),[g,T]=P.useState(null),[S,N]=P.useState(null);P.useEffect(()=>{(async()=>{a(!0);try{const{data:A,error:X}=await Nb("global",20);if(X)throw new Error(X);h(A);const{data:Z,error:ue}=await Nb("rankPoints",20);if(ue)throw new Error(ue);if(m(Z),t){const{data:me}=await wn(t.uid);if(me){T({id:t.uid,name:me.name||"You",coderName:me.coderName||"",selectedAvatar:me.selectedAvatar||"boy1",stats:me.stats||{}});const F=await jb(t.uid,"global"),K=await jb(t.uid,"rankPoints");!F.error&&!K.error&&N(e==="global"?F.rank:K.rank)}}}catch(A){console.error("Error fetching leaderboard:",A),c(A.message)}finally{a(!1)}})()},[t,e]);const _=d.filter(R=>R.name.toLowerCase().includes(r.toLowerCase())||R.coderName&&R.coderName.toLowerCase().includes(r.toLowerCase())),y=f.filter(R=>R.name.toLowerCase().includes(r.toLowerCase())||R.coderName&&R.coderName.toLowerCase().includes(r.toLowerCase())),x=e==="global"?_:e==="ranked"?y:[],j=R=>{switch(R){case"global":return"totalPoints";case"ranked":return"totalRankPoints";default:return"score"}},D=R=>{switch(R){case"global":return"Points";case"ranked":return"Rank Points";default:return"Score"}},C=R=>{switch(R){case"Diamond":return{icon:"💎",color:"text-blue-400 bg-blue-400 bg-opacity-20"};case"Platinum":return{icon:"🔷",color:"text-cyan-300 bg-cyan-300 bg-opacity-20"};case"Gold":return{icon:"🥇",color:"text-yellow-400 bg-yellow-400 bg-opacity-20"};case"Silver":return{icon:"🥈",color:"text-gray-300 bg-gray-300 bg-opacity-20"};case"Bronze":return{icon:"🥉",color:"text-amber-700 bg-amber-700 bg-opacity-20"};default:return{icon:"🎯",color:"text-blue-400 bg-blue-400 bg-opacity-20"}}},b=R=>{const A=["boy1","boy2","girl1","girl2"];return A[R%A.length]};return o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsxs("main",{className:"flex-grow py-12 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none overflow-hidden",children:[o.jsx("div",{className:"absolute top-1/4 right-1/4 w-[400px] h-[400px] rounded-full bg-[var(--accent)] filter blur-[120px] opacity-3"}),o.jsx("div",{className:"absolute bottom-1/3 left-1/4 w-[300px] h-[300px] rounded-full bg-[var(--accent-secondary)] filter blur-[100px] opacity-3"})]}),o.jsx("div",{className:"container-custom relative z-10",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(ed,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Leaderboard"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:x.slice(0,3).map((R,A)=>{var me,F;const X=j(e),Z=((me=R.stats)==null?void 0:me[X])||0,ue=R.selectedAvatar||b(A);return o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:A*.1},className:"card relative flex flex-col items-center p-8",whileHover:{y:-5},children:[o.jsx("div",{className:`absolute top-0 right-0 left-0 h-2 rounded-t-lg ${A===0?"bg-yellow-500":A===1?"bg-gray-400":"bg-amber-700"}`}),o.jsxs("div",{className:"relative mb-2",children:[o.jsx(js,{type:ue,size:100,interval:15e3+A*2e3}),o.jsx("div",{className:`absolute -bottom-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center ${A===0?"bg-yellow-500":A===1?"bg-gray-400":"bg-amber-700"}`,children:o.jsx("span",{className:"text-white font-bold",children:A+1})})]}),o.jsx("h3",{className:"text-xl font-bold mt-4",children:R.name}),R.coderName&&o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:R.coderName}),o.jsxs("p",{className:"text-[var(--accent)] font-semibold mt-2",children:[Z.toLocaleString()," ",D(e)]}),((F=R.stats)==null?void 0:F.rank)&&e==="ranked"&&o.jsxs("div",{className:`mt-2 px-3 py-1 rounded-full text-xs font-medium ${C(R.stats.rank).color}`,children:[R.stats.rank," ",o.jsx("span",{children:C(R.stats.rank).icon})]}),o.jsx("div",{className:`mt-4 px-3 py-1 rounded-full text-xs font-medium ${A===0?"bg-yellow-500 bg-opacity-20 text-yellow-500":A===1?"bg-gray-400 bg-opacity-20 text-gray-400":"bg-amber-700 bg-opacity-20 text-amber-700"}`,children:A===0?"Gold 🏆":A===1?"Silver 🥈":"Bronze 🥉"})]},R.id)})}),o.jsxs(O.div,{className:"card mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-6",children:[o.jsxs("div",{className:"flex space-x-4 mb-4 md:mb-0 overflow-x-auto py-2 md:py-0",children:[o.jsxs(O.button,{onClick:()=>n("global"),className:`flex items-center px-4 py-2 rounded-full whitespace-nowrap ${e==="global"?"bg-[var(--accent)] text-white":"text-[var(--text-secondary)] hover:text-[var(--text)] hover:bg-[var(--primary)]"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(ed,{size:16,className:"mr-2"}),"Overall Points"]}),o.jsxs(O.button,{onClick:()=>n("ranked"),className:`flex items-center px-4 py-2 rounded-full whitespace-nowrap ${e==="ranked"?"bg-[var(--accent)] text-white":"text-[var(--text-secondary)] hover:text-[var(--text)] hover:bg-[var(--primary)]"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[o.jsx(xn,{size:16,className:"mr-2"}),"Ranked Matches"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Bv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-secondary)]",size:16}),o.jsx("input",{type:"text",placeholder:"Search users...",value:r,onChange:R=>s(R.target.value),className:"w-full pl-9 pr-4 py-2 bg-[var(--primary)] rounded-full focus:outline-none focus:ring-2 focus:ring-[var(--accent)]"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:i?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)] animate-spin"})}):o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"User"}),e==="ranked"&&o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-[var(--text-secondary)] uppercase tracking-wider",children:D(e)})]})}),o.jsx("tbody",{children:x.length>0?x.map((R,A)=>{var F,K;const X=t&&R.id===t.uid,Z=j(e),ue=((F=R.stats)==null?void 0:F[Z])||0,me=R.selectedAvatar||b(A);return o.jsxs("tr",{className:`border-b border-gray-800 hover:bg-[var(--primary)] hover:bg-opacity-30 transition-colors ${X?"bg-[var(--accent)] bg-opacity-10":""}`,children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${A===0?"bg-yellow-500 bg-opacity-20 text-yellow-500":A===1?"bg-gray-400 bg-opacity-20 text-gray-400":A===2?"bg-amber-700 bg-opacity-20 text-amber-700":"bg-[var(--primary)] text-[var(--text-secondary)]"}`,children:A+1})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:o.jsx(js,{type:me,size:40,interval:2e4+A*1e3})}),o.jsxs("div",{className:"ml-4",children:[o.jsxs("div",{className:"text-sm font-medium text-[var(--text)]",children:[R.name,X&&o.jsx("span",{className:"ml-2 text-xs text-[var(--accent)]",children:"(You)"})]}),R.coderName&&o.jsx("div",{className:"text-xs text-[var(--text-secondary)]",children:R.coderName})]})]})}),e==="ranked"&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(K=R.stats)!=null&&K.rank?o.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C(R.stats.rank).color}`,children:[o.jsx("span",{className:"mr-1",children:C(R.stats.rank).icon}),R.stats.rank]}):o.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:"Unranked"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right",children:o.jsx("span",{className:`font-semibold ${A===0?"text-yellow-400":A===1?"text-gray-300":A===2?"text-amber-400":"text-[var(--accent)]"}`,children:ue.toLocaleString()})})]},R.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:e==="ranked"?4:3,className:"px-6 py-8 text-center text-[var(--text-secondary)]",children:l?`Error loading leaderboard: ${l}`:"No users found matching your search criteria."})})})]})})]}),o.jsxs(O.div,{className:"card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Your Position"}),t?g?o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-4",children:o.jsx(js,{type:g.selectedAvatar||"boy1",size:48,interval:15e3})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:g.name}),g.coderName&&o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:g.coderName})]})]}),o.jsxs("div",{className:"flex flex-col justify-center",children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx(ed,{size:16,className:"text-[var(--accent)] mr-2"}),o.jsx("span",{className:"text-sm",children:"Overall Points:"}),o.jsx("span",{className:"ml-auto font-semibold",children:((w=g.stats)==null?void 0:w.totalPoints)||0})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(xn,{size:16,className:"text-[var(--accent)] mr-2"}),o.jsx("span",{className:"text-sm",children:"Rank Points:"}),o.jsx("span",{className:"ml-auto font-semibold",children:((E=g.stats)==null?void 0:E.totalRankPoints)||0})]})]}),o.jsxs("div",{className:"flex flex-col justify-center",children:[o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx(Pi,{size:16,className:"text-[var(--accent)] mr-2"}),o.jsx("span",{className:"text-sm",children:"Problems Solved:"}),o.jsx("span",{className:"ml-auto font-semibold",children:((k=g.stats)==null?void 0:k.problemsSolved)||0})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(y9,{size:16,className:"text-[var(--accent)] mr-2"}),o.jsx("span",{className:"text-sm",children:"Current Rank:"}),o.jsx("span",{className:"ml-auto",children:(M=g.stats)!=null&&M.rank?o.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${C(g.stats.rank).color}`,children:[o.jsx("span",{className:"mr-1",children:C(g.stats.rank).icon}),g.stats.rank]}):o.jsx("span",{className:"font-semibold",children:"Unranked"})})]})]})]}),S&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"bg-[var(--accent)] bg-opacity-20 px-4 py-2 rounded-lg inline-flex items-center",children:[o.jsx(JB,{className:"text-[var(--accent)] mr-2",size:16}),o.jsxs("span",{children:["Your position: ",o.jsx("strong",{children:S})," of ",x.length,"+ users"]})]})})})]}):o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg flex items-center justify-center",children:[o.jsx("div",{className:"h-6 w-6 border-t-2 border-b-2 border-[var(--accent)] rounded-full mr-3 animate-spin"}),o.jsx("p",{children:"Loading your stats..."})]}):o.jsx("div",{className:"bg-[var(--primary)] p-4 rounded-lg text-center",children:o.jsx("p",{className:"text-[var(--text-secondary)]",children:"Please log in to see your ranking."})}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mt-4",children:"Solve coding problems and win ranked matches to earn points and climb the leaderboard rankings."})]})]})})]}),o.jsx(Mt,{})]})})},Nu=[{id:1,name:"First Steps",description:"Solve your first coding problem",icon:"🎯",criteria:{problemsSolved:1}},{id:2,name:"Getting Started",description:"Solve 5 coding problems",icon:"🔰",criteria:{problemsSolved:5}},{id:3,name:"Problem Solver",description:"Solve 25 coding problems",icon:"💡",criteria:{problemsSolved:25}},{id:4,name:"Code Warrior",description:"Solve 100 coding problems",icon:"⚔️",criteria:{problemsSolved:100}},{id:5,name:"Coding Master",description:"Solve 250 coding problems",icon:"🏆",criteria:{problemsSolved:250}},{id:6,name:"Streak Starter",description:"Maintain a 3-day coding streak",icon:"🔥",criteria:{currentStreak:3}},{id:7,name:"Streak Warrior",description:"Maintain a 7-day coding streak",icon:"📆",criteria:{currentStreak:7}},{id:8,name:"Streak Master",description:"Maintain a 30-day coding streak",icon:"📅",criteria:{currentStreak:30}},{id:9,name:"Bronze Competitor",description:"Reach Bronze rank in Ranked Matches",icon:"🥉",criteria:{rank:"Bronze"}},{id:10,name:"Silver Competitor",description:"Reach Silver rank in Ranked Matches",icon:"🥈",criteria:{rank:"Silver"}},{id:11,name:"Gold Competitor",description:"Reach Gold rank in Ranked Matches",icon:"🥇",criteria:{rank:"Gold"}},{id:12,name:"Platinum Competitor",description:"Reach Platinum rank in Ranked Matches",icon:"🔷",criteria:{rank:"Platinum"}},{id:13,name:"Diamond Competitor",description:"Reach Diamond rank in Ranked Matches",icon:"💎",criteria:{rank:"Diamond"}},{id:14,name:"First Victory",description:"Win your first ranked match",icon:"🏅",criteria:{rankWins:1}},{id:15,name:"Victorious",description:"Win 10 ranked matches",icon:"🏅",criteria:{rankWins:10}},{id:16,name:"Champion",description:"Win 50 ranked matches",icon:"🏅",criteria:{rankWins:50}}],e$=()=>{const{currentUser:t}=Pn(),[e,n]=P.useState(!0),[r,s]=P.useState(null),[i,a]=P.useState({problemsSolved:0,currentStreak:0,bestStreak:0,averageSolveTime:0,solvedProblems:[],totalRankPoints:0,rank:"",rankWins:0,rankMatches:0}),[l,c]=P.useState([]),[d,h]=P.useState([1,2]),[f,m]=P.useState(!1),[g,T]=P.useState(null);P.useEffect(()=>{(async()=>{var b,w,E,k,M,R,A,X;if(!t){n(!1);return}try{const{data:Z,error:ue}=await wn(t.uid);if(ue)throw new Error(ue);if(Z){a({problemsSolved:((b=Z.stats)==null?void 0:b.problemsSolved)||0,currentStreak:((w=Z.stats)==null?void 0:w.currentStreak)||0,bestStreak:((E=Z.stats)==null?void 0:E.bestStreak)||0,averageSolveTime:((k=Z.stats)==null?void 0:k.averageSolveTime)||0,solvedProblems:Z.solvedProblems||[],totalRankPoints:((M=Z.stats)==null?void 0:M.totalRankPoints)||0,rank:((R=Z.stats)==null?void 0:R.rank)||"",rankWins:((A=Z.stats)==null?void 0:A.rankWins)||0,rankMatches:((X=Z.stats)==null?void 0:X.rankMatches)||0}),c(Z.achievements||[]),h(Z.showcasedAchievements||[1,2]);const me=S(Z);me.length>0&&(await N(Z,me),T(Nu.find(F=>F.id===me[0])),m(!0),setTimeout(()=>{m(!1)},5e3))}}catch(Z){s(Z.message)}finally{n(!1)}})()},[t]);const S=C=>{if(!C||!C.stats)return[];const b=C.stats,w=C.achievements||[],E=[];return Nu.forEach(k=>{if(w.includes(k.id))return;let M=!0;for(const[R,A]of Object.entries(k.criteria))if(R==="rank"){if(b.rank!==A){M=!1;break}}else if(b[R]<A){M=!1;break}M&&E.push(k.id)}),E},N=async(C,b)=>{if(t)try{const E=[...C.achievements||[],...b];await Xl(t.uid,{achievements:E}),c(E),console.log("New achievements saved:",b)}catch(w){console.error("Failed to save achievements:",w)}},_=C=>{l.includes(C)&&(d.includes(C)?d.length>1&&h(d.filter(b=>b!==C)):d.length<3&&h([...d,C]),t&&Xl(t.uid,{showcasedAchievements:d.includes(C)?d.filter(b=>b!==C):[...d,C].slice(0,3)}).catch(b=>{console.error("Failed to save showcased achievements:",b)}))},y=()=>{const C=At.filter(b=>i.solvedProblems.includes(b.id));return{Easy:{solved:C.filter(b=>b.difficulty==="Easy").length,total:At.filter(b=>b.difficulty==="Easy").length},Medium:{solved:C.filter(b=>b.difficulty==="Medium").length,total:At.filter(b=>b.difficulty==="Medium").length},Hard:{solved:C.filter(b=>b.difficulty==="Hard").length,total:At.filter(b=>b.difficulty==="Hard").length}}},x=()=>{const C=new Map;return At.forEach(b=>{b.tags.forEach(w=>{C.has(w)||C.set(w,{total:0,solved:0}),C.get(w).total++,i.solvedProblems.includes(b.id)&&C.get(w).solved++})}),Array.from(C.entries()).sort((b,w)=>w[1].total-b[1].total).slice(0,4)};if(!t)return o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-16",children:o.jsx("div",{className:"container-custom",children:o.jsxs("div",{className:"card p-8 text-center",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Please Log In"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-6",children:"You need to be logged in to view your stats"}),o.jsx("a",{href:"/login",className:"btn-primary inline-block",children:"Log In"})]})})}),o.jsx(Mt,{})]})});const j=y(),D=x();return o.jsxs(dt,{children:[o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(Uv,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Your Statistics"})]}),e?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)]"})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{title:"Problems Solved",value:i.problemsSolved.toString(),icon:o.jsx(t9,{className:"text-[var(--accent)]",size:20}),change:`${i.problemsSolved>0?"+":""}${i.problemsSolved} total`},{title:"Coding Streak",value:`${i.currentStreak} days`,icon:o.jsx(L9,{className:"text-[var(--accent)]",size:20}),change:`Best: ${i.bestStreak} days`},{title:"Avg. Solve Time",value:i.averageSolveTime>0?`${Math.round(i.averageSolveTime/60)} min`:"-- min",icon:o.jsx(Nc,{className:"text-[var(--accent)]",size:20}),change:i.averageSolveTime>0?`${i.averageSolveTime} seconds`:"No data yet"},{title:"Current Rank",value:i.rank||(i.totalRankPoints>0?"Bronze":"Unranked"),icon:o.jsx(HN,{className:"text-[var(--accent)]",size:20}),change:`${i.totalRankPoints} Rank Points`}].map((C,b)=>o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:b*.1},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h2",{className:"text-[var(--text-secondary)]",children:C.title}),C.icon]}),o.jsx("p",{className:"text-2xl font-bold mb-1",children:C.value}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:C.change})]},b))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"card lg:col-span-1",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ed,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h2",{className:"text-xl font-bold",children:"Your Rankings"})]}),o.jsx("div",{className:"space-y-4",children:[{category:"Country",rank:"Unranked",total:"??"},{category:"Local Area",rank:"Unranked",total:"??"},{category:"Friends",rank:"Unranked",total:"??"}].map((C,b)=>o.jsx("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-[var(--text-secondary)]",children:C.category}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-semibold",children:C.rank}),o.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:["of ",C.total]})]})]})},b))}),o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-800",children:o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Solve coding problems to improve your rank in the global leaderboards."})})]}),o.jsxs("div",{className:"card lg:col-span-2",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(sf,{className:"text-[var(--accent)] mr-2",size:20}),o.jsx("h2",{className:"text-xl font-bold",children:"Problem Solving"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:Object.entries(j).map(([C,b],w)=>o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsx("h3",{className:`text-sm font-medium mb-2 ${C==="Easy"?"text-green-400":C==="Medium"?"text-yellow-400":"text-red-400"}`,children:C}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-2xl font-bold",children:b.solved}),o.jsxs("span",{className:"text-xs text-[var(--text-secondary)]",children:["of ",b.total," solved"]})]}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 mt-2",children:o.jsx("div",{className:`h-2 rounded-full ${C==="Easy"?"bg-green-400":C==="Medium"?"bg-yellow-400":"bg-red-400"}`,style:{width:`${b.solved/b.total*100}%`}})})]},w))}),o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-4",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:"Problem Categories"}),o.jsx("div",{className:"space-y-3",children:D.map(([C,b],w)=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center text-sm mb-1",children:[o.jsx("span",{children:C}),o.jsxs("span",{className:"text-[var(--text-secondary)]",children:[b.solved,"/",b.total]})]}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-1.5",children:o.jsx("div",{className:"bg-[var(--accent)] h-1.5 rounded-full",style:{width:`${b.solved/b.total*100}%`}})})]},w))})]}),o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium mb-3",children:"Recent Activity"}),i.solvedProblems.length>0?o.jsx("div",{className:"space-y-2",children:At.filter(C=>i.solvedProblems.includes(C.id)).slice(0,5).map((C,b)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm",children:C.title}),o.jsx("span",{className:`text-xs ${C.difficulty==="Easy"?"text-green-400":C.difficulty==="Medium"?"text-yellow-400":"text-red-400"}`,children:C.difficulty})]},b))}):o.jsx("div",{className:"flex justify-center items-center py-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(rf,{className:"mx-auto text-[var(--text-secondary)] mb-3",size:24}),o.jsx("p",{className:"text-[var(--text-secondary)]",children:"No recent activity"}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:"Start solving problems to see your activity"})]})})]})]})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(Fv,{className:"text-[var(--accent)] mr-2",size:24}),o.jsx("h2",{className:"text-2xl font-bold",children:"Achievements & Badges"})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Showcased Achievements"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-4",children:"Select up to 3 achievements to showcase on your profile. Click on an earned achievement to toggle showcase status."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Nu.filter(C=>d.includes(C.id)).map(C=>{const b=l.includes(C.id);return o.jsxs(O.div,{className:`flex items-center p-4 rounded-xl cursor-pointer ${b?"bg-[var(--accent)] bg-opacity-15 border border-[var(--accent)] shadow-lg":"bg-[var(--primary)] opacity-60"}`,whileHover:{scale:b?1.02:1},onClick:()=>_(C.id),children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--secondary)] flex items-center justify-center mr-4 text-xl",children:o.jsx("span",{children:C.icon})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-base",children:C.name}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:C.description}),o.jsx("div",{className:"mt-1 text-xs text-[var(--accent)]",children:"Showcased"})]})]},C.id)})})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Nu.map(C=>{let b=0,w=0;for(const[M,R]of Object.entries(C.criteria))if(M==="rank"){const A=["Bronze","Silver","Gold","Platinum","Diamond"],X=A.indexOf(i.rank||""),Z=A.indexOf(R);X>=Z&&Z>=0?(b=1,w=1):(b=0,w=1)}else{const A=i[M]||0;b=Math.min(A,R),w=R}const E=l.includes(C.id),k=d.includes(C.id);return o.jsx("div",{className:`bg-[var(--primary)] p-4 rounded-lg border cursor-pointer ${E?k?"border-[var(--accent)]":"border-transparent":"border-transparent opacity-60"}`,onClick:()=>E&&_(C.id),children:o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-[var(--secondary)] flex items-center justify-center mr-3 text-xl",children:C.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-sm mb-1",children:C.name}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)] mb-2",children:C.description}),o.jsx("div",{className:"w-full bg-gray-800 rounded-full h-1.5 mb-1",children:o.jsx("div",{className:`h-1.5 rounded-full ${E?"bg-green-400":"bg-[var(--accent)]"}`,style:{width:w>0?`${b/w*100}%`:"0%"}})}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[b,"/",w]}),E&&o.jsxs("span",{className:"text-xs text-green-400 flex items-center",children:["Earned",k&&o.jsx("span",{className:"ml-1 bg-[var(--accent)] bg-opacity-20 px-1 py-0.5 rounded text-[var(--accent)] text-xs",children:"★"})]})]})]})]})},C.id)})})]})]})]})]})})}),o.jsx(Mt,{})]}),o.jsx(vr,{children:f&&g&&o.jsx(O.div,{className:"fixed bottom-10 left-1/2 transform -translate-x-1/2 z-50",initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},transition:{type:"spring",damping:15,stiffness:300},children:o.jsxs(O.div,{className:"bg-gradient-to-r from-[var(--secondary)] to-[var(--accent)] p-6 rounded-xl shadow-xl flex items-center gap-5 relative overflow-hidden",animate:{boxShadow:["0 0 0px rgba(244, 91, 105, 0.3)","0 0 30px rgba(244, 91, 105, 0.6)","0 0 0px rgba(244, 91, 105, 0.3)"]},transition:{duration:2,repeat:3},children:[o.jsx(O.div,{className:"absolute inset-0 pointer-events-none",children:[...Array(20)].map((C,b)=>o.jsx(O.div,{className:"absolute w-2 h-2 rounded-full bg-white",initial:{x:Math.random()*100+"%",y:Math.random()*100+"%",opacity:0},animate:{x:[null,Math.random()*100+"%"],y:[null,Math.random()*100+"%"],opacity:[0,.7,0]},transition:{duration:2+Math.random()*3,repeat:1/0,repeatType:"loop"}},b))}),o.jsx(O.div,{className:"w-16 h-16 bg-[var(--secondary)] rounded-full flex items-center justify-center text-4xl shrink-0",animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1.5,repeat:2},children:g.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx(O.h3,{className:"text-xl font-bold",animate:{scale:[1,1.1,1]},transition:{duration:.8,repeat:3},children:"Achievement Unlocked!"}),o.jsx("p",{className:"text-lg font-medium",children:g.name}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:g.description})]})]})})})]})},t$=()=>{const[t,e]=P.useState({name:"",email:"",subject:"",message:""}),n=s=>{const{name:i,value:a}=s.target;e(l=>({...l,[i]:a}))},r=s=>{s.preventDefault(),alert("Your message has been sent!"),e({name:"",email:"",subject:"",message:""})};return o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex items-center mb-8",children:[o.jsx(Zl,{className:"text-[var(--accent)] mr-3",size:28}),o.jsx("h1",{className:"text-3xl font-bold",children:"Contact Us"})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold mb-6",children:"Get in Touch"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-4",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:o.jsx(Zl,{size:20})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Email"}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"support@codepractice.com"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"For general inquiries"})]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-4",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:o.jsx(T9,{size:20})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Phone"}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"+1 (555) 123-4567"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Mon-Fri, 9AM-5PM EST"})]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-4",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:o.jsx(g9,{size:20})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Location"}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"123 Coding Lane"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Tech City, TC 10101"})]})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"mr-4",children:o.jsx("div",{className:"w-12 h-12 rounded-full bg-[var(--accent)] bg-opacity-20 flex items-center justify-center text-[var(--accent)]",children:o.jsx(x9,{size:20})})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"Support"}),o.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"help@codepractice.com"}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Technical support & issues"})]})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Connect With Us"}),o.jsx("p",{className:"text-[var(--text-secondary)] mb-4",children:"Follow us on social media to stay updated with the latest coding challenges, tips, and community events."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:o.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:o.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})}),o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:[o.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),o.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),o.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:[o.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),o.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),o.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),o.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-[var(--primary)] flex items-center justify-center hover:bg-[var(--accent)] hover:bg-opacity-20 transition-colors",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[var(--accent)]",children:[o.jsx("path",{d:"M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"}),o.jsx("polygon",{points:"9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"})]})})]})]})]}),o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("div",{className:"card",children:[o.jsx("h2",{className:"text-xl font-bold mb-6",children:"Send Us a Message"}),o.jsxs("form",{onSubmit:r,children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Your Name"}),o.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:n,required:!0,className:"w-full px-4 py-2 rounded-lg bg-[var(--primary)] border border-gray-700 focus:outline-none focus:border-[var(--accent)]"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Your Email"}),o.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:n,required:!0,className:"w-full px-4 py-2 rounded-lg bg-[var(--primary)] border border-gray-700 focus:outline-none focus:border-[var(--accent)]"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Subject"}),o.jsxs("select",{id:"subject",name:"subject",value:t.subject,onChange:n,required:!0,className:"w-full px-4 py-2 rounded-lg bg-[var(--primary)] border border-gray-700 focus:outline-none focus:border-[var(--accent)]",children:[o.jsx("option",{value:"",children:"Select a subject"}),o.jsx("option",{value:"general",children:"General Inquiry"}),o.jsx("option",{value:"support",children:"Technical Support"}),o.jsx("option",{value:"feedback",children:"Feedback"}),o.jsx("option",{value:"bug",children:"Report a Bug"}),o.jsx("option",{value:"feature",children:"Feature Request"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-[var(--text-secondary)] mb-1",children:"Message"}),o.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:n,required:!0,rows:6,className:"w-full px-4 py-2 rounded-lg bg-[var(--primary)] border border-gray-700 focus:outline-none focus:border-[var(--accent)]"})]}),o.jsxs("button",{type:"submit",className:"btn-primary flex items-center justify-center",children:[o.jsx(A9,{size:16,className:"mr-2"}),"Send Message"]})]})]}),o.jsxs("div",{className:"card mt-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-6",children:"Frequently Asked Questions"}),o.jsx("div",{className:"space-y-4",children:[{question:"How do I change my account details?",answer:"You can update your account information from your profile page. Click on your profile picture, then select the edit icon next to your name or other details you wish to change."},{question:"Can I use multiple programming languages?",answer:"Yes, our platform supports multiple programming languages including Java, Python, C, C++, and JavaScript. You can select your preferred language from the dropdown menu in the code editor."},{question:"How are ranked matches scored?",answer:"Ranked matches are scored based on solution correctness, efficiency, and completion time. If both solutions are correct, the faster coder wins. Points awarded also depend on the difficulty of the problem and your current rank."},{question:"Is there a mobile app available?",answer:"We're currently developing mobile apps for iOS and Android. In the meantime, our website is fully responsive and optimized for mobile browsers."}].map((s,i)=>o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:s.question}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:s.answer})]},i))})]})]})]})]})})}),o.jsx(Mt,{})]})})},n$=()=>{var H,ne,re,ye;const{currentUser:t}=Pn(),[e,n]=P.useState([]),[r,s]=P.useState(!0),[i,a]=P.useState(!1),[l,c]=P.useState(null),[d,h]=P.useState(""),[f,m]=P.useState(""),[g,T]=P.useState(!1),[S,N]=P.useState(""),[_,y]=P.useState({title:"",difficulty:"Easy",description:"",examples:[{input:"",output:"",explanation:""}],constraints:[""],tags:[""],testCases:[{input:"",expectedOutput:"",isHidden:!1}]}),[x,j]=P.useState(null);P.useEffect(()=>{t&&!rh(t)&&(window.location.href="/")},[t]),P.useEffect(()=>{D()},[]);const D=async()=>{s(!0),N("");try{const{problems:B,error:q}=await X9();q?(console.error("Error loading problems:",q),N(q)):n(B)}catch(B){console.error("Error loading problems:",B),N(B.message||"An unexpected error occurred")}finally{s(!1)}},C=e.filter(B=>{const q=B.title.toLowerCase().includes(d.toLowerCase())||B.tags.some(se=>se.toLowerCase().includes(d.toLowerCase())),ie=!f||B.difficulty===f;return q&&ie}),b=async B=>{B.preventDefault(),T(!0);try{if(l){const{success:q,error:ie}=await Q9(l.id,_,x||void 0);q?(await D(),c(null),E()):alert("Error updating problem: "+ie)}else{const{success:q,error:ie}=await K9(_,x||void 0);q?(await D(),a(!1),E()):alert("Error creating problem: "+ie)}}catch(q){console.error("Error saving problem:",q),alert("An error occurred while saving the problem")}finally{T(!1)}},w=async B=>{if(confirm("Are you sure you want to delete this problem? This action cannot be undone."))try{const{success:q,error:ie}=await Y9(B);q?await D():alert("Error deleting problem: "+ie)}catch(q){console.error("Error deleting problem:",q),alert("An error occurred while deleting the problem")}},E=()=>{y({title:"",difficulty:"Easy",description:"",examples:[{input:"",output:"",explanation:""}],constraints:[""],tags:[""],testCases:[{input:"",expectedOutput:"",isHidden:!1}]}),j(null)},k=B=>{c(B),y(B),a(!0)},M=()=>{y(B=>({...B,examples:[...B.examples||[],{input:"",output:"",explanation:""}]}))},R=B=>{y(q=>({...q,examples:(q.examples||[]).filter((ie,se)=>se!==B)}))},A=()=>{y(B=>({...B,constraints:[...B.constraints||[],""]}))},X=B=>{y(q=>({...q,constraints:(q.constraints||[]).filter((ie,se)=>se!==B)}))},Z=()=>{y(B=>({...B,tags:[...B.tags||[],""]}))},ue=B=>{y(q=>({...q,tags:(q.tags||[]).filter((ie,se)=>se!==B)}))},me=()=>{y(B=>({...B,testCases:[...B.testCases||[],{input:"",expectedOutput:"",isHidden:!1}]}))},F=B=>{y(q=>({...q,testCases:(q.testCases||[]).filter((ie,se)=>se!==B)}))},K=B=>{switch(B){case"Easy":return"text-green-400 bg-green-400";case"Medium":return"text-yellow-400 bg-yellow-400";case"Hard":return"text-red-400 bg-red-400";default:return"text-gray-400 bg-gray-400"}};return!t||!rh(t)?null:o.jsx(dt,{children:o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(yt,{}),o.jsx("main",{className:"flex-grow py-12",children:o.jsx("div",{className:"container-custom",children:o.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(I9,{className:"text-[var(--accent)] mr-3",size:28}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),o.jsx("p",{className:"text-[var(--text-secondary)]",children:"Manage coding problems and content"})]})]}),o.jsxs("button",{onClick:()=>{E(),c(null),a(!0)},className:"btn-primary flex items-center",disabled:!!S,children:[o.jsx(S9,{size:18,className:"mr-2"}),"Create Problem"]})]}),S&&o.jsx("div",{className:"card mb-8 border-red-500 bg-red-900 bg-opacity-20",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(UN,{className:"text-red-400 mr-3 mt-1 flex-shrink-0",size:20}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-red-400 font-semibold mb-2",children:"Configuration Required"}),o.jsx("p",{className:"text-sm text-red-300 mb-4",children:S}),S.includes("security rules")&&o.jsxs("div",{className:"bg-red-800 bg-opacity-50 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-red-200 mb-2",children:o.jsx("strong",{children:"To fix this:"})}),o.jsxs("ol",{className:"text-sm text-red-200 space-y-1 list-decimal list-inside",children:[o.jsx("li",{children:"Go to your Firebase Console"}),o.jsx("li",{children:"Navigate to Firestore Database → Rules"}),o.jsx("li",{children:"Add this rule for the problems collection:"})]}),o.jsx("pre",{className:"bg-gray-900 text-green-400 p-3 rounded mt-2 text-xs overflow-x-auto",children:`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /problems/{document} {
      allow read, write: if request.auth != null 
        && request.auth.uid in ["6PoYJdCdqWQYZ66ue6sn6TZcTj33"];
    }
  }
}`}),o.jsx("p",{className:"text-xs text-red-200 mt-2",children:"Replace the UID with your actual admin user ID if different."})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"card text-center",children:[o.jsx(ZB,{className:"text-[var(--accent)] mx-auto mb-2",size:24}),o.jsx("h3",{className:"text-2xl font-bold",children:e.length}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Total Problems"})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-green-400 mx-auto mb-2"}),o.jsx("h3",{className:"text-2xl font-bold",children:e.filter(B=>B.difficulty==="Easy").length}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Easy Problems"})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-400 mx-auto mb-2"}),o.jsx("h3",{className:"text-2xl font-bold",children:e.filter(B=>B.difficulty==="Medium").length}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Medium Problems"})]}),o.jsxs("div",{className:"card text-center",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-red-400 mx-auto mb-2"}),o.jsx("h3",{className:"text-2xl font-bold",children:e.filter(B=>B.difficulty==="Hard").length}),o.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Hard Problems"})]})]}),!S&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"card mb-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Bv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-[var(--text-secondary)]",size:18}),o.jsx("input",{type:"text",placeholder:"Search problems...",value:d,onChange:B=>h(B.target.value),className:"w-full pl-10 pr-4 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($N,{size:18,className:"text-[var(--text-secondary)]"}),o.jsxs("select",{value:f,onChange:B=>m(B.target.value),className:"px-3 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]",children:[o.jsx("option",{value:"",children:"All Difficulties"}),o.jsx("option",{value:"Easy",children:"Easy"}),o.jsx("option",{value:"Medium",children:"Medium"}),o.jsx("option",{value:"Hard",children:"Hard"})]})]})]})}),o.jsxs("div",{className:"card",children:[o.jsxs("h2",{className:"text-xl font-bold mb-6",children:["Problems (",C.length,")"]}),r?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)]"})}):o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-700",children:[o.jsx("th",{className:"text-left py-3 px-4",children:"Title"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Difficulty"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Tags"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Content File"}),o.jsx("th",{className:"text-left py-3 px-4",children:"Created"}),o.jsx("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),o.jsx("tbody",{children:C.map(B=>o.jsxs("tr",{className:"border-b border-gray-800 hover:bg-[var(--primary)] hover:bg-opacity-50",children:[o.jsxs("td",{className:"py-3 px-4",children:[o.jsx("div",{className:"font-medium",children:B.title}),o.jsxs("div",{className:"text-sm text-[var(--text-secondary)] truncate max-w-xs",children:[B.description.substring(0,100),"..."]})]}),o.jsx("td",{className:"py-3 px-4",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium bg-opacity-20 ${K(B.difficulty)}`,children:B.difficulty})}),o.jsx("td",{className:"py-3 px-4",children:o.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.tags.slice(0,3).map((q,ie)=>o.jsx("span",{className:"bg-[var(--primary)] text-xs px-2 py-1 rounded",children:q},ie)),B.tags.length>3&&o.jsxs("span",{className:"text-xs text-[var(--text-secondary)]",children:["+",B.tags.length-3," more"]})]})}),o.jsx("td",{className:"py-3 px-4",children:B.contentFileUrl?o.jsxs("a",{href:B.contentFileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--accent)] hover:text-[var(--accent-hover)] flex items-center",children:[o.jsx(nh,{size:16,className:"mr-1"}),"View"]}):o.jsx("span",{className:"text-[var(--text-secondary)] text-sm",children:"No file"})}),o.jsx("td",{className:"py-3 px-4 text-sm text-[var(--text-secondary)]",children:B.createdAt&&B.createdAt.toDate?B.createdAt.toDate().toLocaleDateString():"Unknown"}),o.jsx("td",{className:"py-3 px-4 text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>window.open(`/code/${B.id}`,"_blank"),className:"p-2 hover:bg-[var(--accent)] hover:bg-opacity-20 rounded-lg transition-colors",title:"Preview",children:o.jsx(zN,{size:16})}),o.jsx("button",{onClick:()=>k(B),className:"p-2 hover:bg-[var(--accent)] hover:bg-opacity-20 rounded-lg transition-colors",title:"Edit",children:o.jsx(R9,{size:16})}),o.jsx("button",{onClick:()=>w(B.id),className:"p-2 hover:bg-red-500 hover:bg-opacity-20 rounded-lg transition-colors text-red-400",title:"Delete",children:o.jsx(D9,{size:16})})]})})]},B.id))})]}),C.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-[var(--text-secondary)]",children:"No problems found"})})]})]})]})]})})}),o.jsx(Mt,{}),o.jsx(vr,{children:i&&!S&&o.jsx(O.div,{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(O.div,{className:"bg-[var(--secondary)] rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[o.jsx("div",{className:"p-6 border-b border-gray-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:l?"Edit Problem":"Create New Problem"}),o.jsx("button",{onClick:()=>{a(!1),c(null),E()},className:"p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors",children:o.jsx(Yn,{size:20})})]})}),o.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title *"}),o.jsx("input",{type:"text",required:!0,value:_.title||"",onChange:B=>y(q=>({...q,title:B.target.value})),className:"w-full px-3 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]",placeholder:"Problem title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Difficulty *"}),o.jsxs("select",{required:!0,value:_.difficulty||"Easy",onChange:B=>y(q=>({...q,difficulty:B.target.value})),className:"w-full px-3 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]",children:[o.jsx("option",{value:"Easy",children:"Easy"}),o.jsx("option",{value:"Medium",children:"Medium"}),o.jsx("option",{value:"Hard",children:"Hard"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description *"}),o.jsx("textarea",{required:!0,rows:6,value:_.description||"",onChange:B=>y(q=>({...q,description:B.target.value})),className:"w-full px-3 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]",placeholder:"Problem description"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content File (Optional)"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("input",{type:"file",accept:".txt,.md,.pdf,.html",onChange:B=>{var q;return j(((q=B.target.files)==null?void 0:q[0])||null)},className:"hidden",id:"content-file"}),o.jsxs("label",{htmlFor:"content-file",className:"flex items-center px-4 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 hover:border-[var(--accent)] cursor-pointer transition-colors",children:[o.jsx(WN,{size:16,className:"mr-2"}),"Choose File"]}),x&&o.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:x.name}),_.contentFileUrl&&!x&&o.jsxs("a",{href:_.contentFileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[var(--accent)] hover:text-[var(--accent-hover)] text-sm flex items-center",children:[o.jsx(nh,{size:16,className:"mr-1"}),"Current File"]})]}),o.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:"Upload additional content as .txt, .md, .pdf, or .html (max 10MB)"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Examples *"}),o.jsx("button",{type:"button",onClick:M,className:"text-[var(--accent)] hover:text-[var(--accent-hover)] text-sm",children:"+ Add Example"})]}),(H=_.examples)==null?void 0:H.map((B,q)=>o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Example ",q+1]}),_.examples.length>1&&o.jsx("button",{type:"button",onClick:()=>R(q),className:"text-red-400 hover:text-red-300",children:o.jsx(Yn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1",children:"Input"}),o.jsx("textarea",{required:!0,rows:2,value:B.input,onChange:ie=>{const se=[..._.examples||[]];se[q]={...B,input:ie.target.value},y(Pe=>({...Pe,examples:se}))},className:"w-full px-2 py-1 bg-[var(--secondary)] rounded border border-gray-700 focus:outline-none focus:border-[var(--accent)] text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1",children:"Output"}),o.jsx("textarea",{required:!0,rows:2,value:B.output,onChange:ie=>{const se=[..._.examples||[]];se[q]={...B,output:ie.target.value},y(Pe=>({...Pe,examples:se}))},className:"w-full px-2 py-1 bg-[var(--secondary)] rounded border border-gray-700 focus:outline-none focus:border-[var(--accent)] text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1",children:"Explanation (Optional)"}),o.jsx("textarea",{rows:2,value:B.explanation||"",onChange:ie=>{const se=[..._.examples||[]];se[q]={...B,explanation:ie.target.value},y(Pe=>({...Pe,examples:se}))},className:"w-full px-2 py-1 bg-[var(--secondary)] rounded border border-gray-700 focus:outline-none focus:border-[var(--accent)] text-sm"})]})]},q))]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Constraints"}),o.jsx("button",{type:"button",onClick:A,className:"text-[var(--accent)] hover:text-[var(--accent-hover)] text-sm",children:"+ Add Constraint"})]}),(ne=_.constraints)==null?void 0:ne.map((B,q)=>o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("input",{type:"text",value:B,onChange:ie=>{const se=[..._.constraints||[]];se[q]=ie.target.value,y(Pe=>({...Pe,constraints:se}))},className:"flex-1 px-3 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]",placeholder:"Constraint"}),_.constraints.length>1&&o.jsx("button",{type:"button",onClick:()=>X(q),className:"p-2 text-red-400 hover:text-red-300",children:o.jsx(Yn,{size:16})})]},q))]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Tags *"}),o.jsx("button",{type:"button",onClick:Z,className:"text-[var(--accent)] hover:text-[var(--accent-hover)] text-sm",children:"+ Add Tag"})]}),(re=_.tags)==null?void 0:re.map((B,q)=>o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx("input",{type:"text",required:!0,value:B,onChange:ie=>{const se=[..._.tags||[]];se[q]=ie.target.value,y(Pe=>({...Pe,tags:se}))},className:"flex-1 px-3 py-2 bg-[var(--primary)] rounded-lg border border-gray-700 focus:outline-none focus:border-[var(--accent)]",placeholder:"Tag (e.g., Array, Hash Table)"}),_.tags.length>1&&o.jsx("button",{type:"button",onClick:()=>ue(q),className:"p-2 text-red-400 hover:text-red-300",children:o.jsx(Yn,{size:16})})]},q))]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Test Cases (Optional)"}),o.jsx("button",{type:"button",onClick:me,className:"text-[var(--accent)] hover:text-[var(--accent-hover)] text-sm",children:"+ Add Test Case"})]}),(ye=_.testCases)==null?void 0:ye.map((B,q)=>o.jsxs("div",{className:"bg-[var(--primary)] p-4 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:["Test Case ",q+1]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"flex items-center text-sm",children:[o.jsx("input",{type:"checkbox",checked:B.isHidden,onChange:ie=>{const se=[..._.testCases||[]];se[q]={...B,isHidden:ie.target.checked},y(Pe=>({...Pe,testCases:se}))},className:"mr-1"}),"Hidden"]}),_.testCases.length>1&&o.jsx("button",{type:"button",onClick:()=>F(q),className:"text-red-400 hover:text-red-300",children:o.jsx(Yn,{size:16})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1",children:"Input"}),o.jsx("textarea",{rows:2,value:B.input,onChange:ie=>{const se=[..._.testCases||[]];se[q]={...B,input:ie.target.value},y(Pe=>({...Pe,testCases:se}))},className:"w-full px-2 py-1 bg-[var(--secondary)] rounded border border-gray-700 focus:outline-none focus:border-[var(--accent)] text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-[var(--text-secondary)] mb-1",children:"Expected Output"}),o.jsx("textarea",{rows:2,value:B.expectedOutput,onChange:ie=>{const se=[..._.testCases||[]];se[q]={...B,expectedOutput:ie.target.value},y(Pe=>({...Pe,testCases:se}))},className:"w-full px-2 py-1 bg-[var(--secondary)] rounded border border-gray-700 focus:outline-none focus:border-[var(--accent)] text-sm"})]})]})]},q))]}),o.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-700",children:[o.jsx("button",{type:"button",onClick:()=>{a(!1),c(null),E()},className:"btn-secondary",disabled:g,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn-primary flex items-center",disabled:g,children:g?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(j9,{size:16,className:"mr-2"}),l?"Update":"Create"," Problem"]})})]})]})]})})})]})})},r$=({children:t})=>{const{currentUser:e,loading:n}=Pn();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--accent)]"})}):!e||!rh(e)?o.jsx(dT,{to:"/",replace:!0}):o.jsx(o.Fragment,{children:t})},s$=({children:t})=>{const{currentUser:e}=Pn();return e?o.jsx(o.Fragment,{children:t}):o.jsx(dT,{to:"/login"})};function i$(){const t=Us();return Pn(),o.jsx(vr,{mode:"wait",children:o.jsxs(WC,{location:t,children:[o.jsx(an,{path:"/",element:o.jsx(z9,{})}),o.jsx(an,{path:"/login",element:o.jsx($9,{})}),o.jsx(an,{path:"/profile",element:o.jsx(s$,{children:o.jsx(W9,{})})}),o.jsx(an,{path:"/admin",element:o.jsx(r$,{children:o.jsx(n$,{})})}),o.jsx(an,{path:"/code",element:o.jsx(Z9,{})}),o.jsx(an,{path:"/code/:id",element:o.jsx(Pz,{})}),o.jsx(an,{path:"/question-of-the-day",element:o.jsx(Lz,{})}),o.jsx(an,{path:"/ranked-match",element:o.jsx(Vz,{})}),o.jsx(an,{path:"/study",element:o.jsx(Xz,{})}),o.jsx(an,{path:"/study/:topic",element:o.jsx(Jz,{})}),o.jsx(an,{path:"/leaderboard",element:o.jsx(Zz,{})}),o.jsx(an,{path:"/stats",element:o.jsx(e$,{})}),o.jsx(an,{path:"/contact",element:o.jsx(t$,{})})]},t.pathname)})}eT(document.getElementById("root")).render(o.jsx(P.StrictMode,{children:o.jsx(JC,{children:o.jsx(QB,{children:o.jsx(i$,{})})})}));
